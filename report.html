<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Heitor Gabriel Monteiro">
<meta name="dcterms.date" content="2023-02-22">

<title>VAR e VECM no R: Como o preço internacional do petróleo afeta os preços domésticos?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="report_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">

<script src="report_files/libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<script src="report_files/libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="report_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="report_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="report_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="report_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="report_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="report_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="report_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="report_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sumário</h2>
   
  <ul>
  <li><a href="#os-modelos-temporais-multivariados" id="toc-os-modelos-temporais-multivariados" class="nav-link active" data-scroll-target="#os-modelos-temporais-multivariados"><span class="toc-section-number">1</span>  Os Modelos Temporais Multivariados</a></li>
  <li><a href="#objetivo-e-ferramentas" id="toc-objetivo-e-ferramentas" class="nav-link" data-scroll-target="#objetivo-e-ferramentas"><span class="toc-section-number">2</span>  Objetivo e Ferramentas</a></li>
  <li><a href="#dados-brutos-e-tratamentos" id="toc-dados-brutos-e-tratamentos" class="nav-link" data-scroll-target="#dados-brutos-e-tratamentos"><span class="toc-section-number">3</span>  Dados Brutos e Tratamentos</a></li>
  <li><a href="#raíz-unitária-com-kpss-e-pp" id="toc-raíz-unitária-com-kpss-e-pp" class="nav-link" data-scroll-target="#raíz-unitária-com-kpss-e-pp"><span class="toc-section-number">4</span>  Raíz Unitária com KPSS e PP</a></li>
  <li><a href="#funções-de-autocorrelações" id="toc-funções-de-autocorrelações" class="nav-link" data-scroll-target="#funções-de-autocorrelações"><span class="toc-section-number">5</span>  Funções de Autocorrelações</a></li>
  <li><a href="#var" id="toc-var" class="nav-link" data-scroll-target="#var"><span class="toc-section-number">6</span>  VAR</a>
  <ul class="collapse">
  <li><a href="#var_1-petro-us-câmbio-e-ipca" id="toc-var_1-petro-us-câmbio-e-ipca" class="nav-link" data-scroll-target="#var_1-petro-us-câmbio-e-ipca"><span class="toc-section-number">6.1</span>  <span class="math inline">VAR_{1}</span>: Petro US$, Câmbio e IPCA</a></li>
  <li><a href="#var_2-petro-r-e-ipca" id="toc-var_2-petro-r-e-ipca" class="nav-link" data-scroll-target="#var_2-petro-r-e-ipca"><span class="toc-section-number">6.2</span>  <span class="math inline">VAR_{2}</span>: Petro R$ e IPCA</a></li>
  </ul></li>
  <li><a href="#diagnóstico-dos-resíduos-do-var" id="toc-diagnóstico-dos-resíduos-do-var" class="nav-link" data-scroll-target="#diagnóstico-dos-resíduos-do-var"><span class="toc-section-number">7</span>  Diagnóstico dos Resíduos do VAR</a>
  <ul class="collapse">
  <li><a href="#autocorrelação-breusch-godfrey" id="toc-autocorrelação-breusch-godfrey" class="nav-link" data-scroll-target="#autocorrelação-breusch-godfrey"><span class="toc-section-number">7.1</span>  Autocorrelação: Breusch-Godfrey</a></li>
  <li><a href="#autocorrelação-ljung-box" id="toc-autocorrelação-ljung-box" class="nav-link" data-scroll-target="#autocorrelação-ljung-box"><span class="toc-section-number">7.2</span>  Autocorrelação: Ljung-Box</a></li>
  <li><a href="#autocorrelação-fac-e-facp-nos-resíduos" id="toc-autocorrelação-fac-e-facp-nos-resíduos" class="nav-link" data-scroll-target="#autocorrelação-fac-e-facp-nos-resíduos"><span class="toc-section-number">7.3</span>  Autocorrelação: FAC e FACP nos Resíduos</a></li>
  <li><a href="#heterocedasticidade-arch-multiplicador-de-lagrange" id="toc-heterocedasticidade-arch-multiplicador-de-lagrange" class="nav-link" data-scroll-target="#heterocedasticidade-arch-multiplicador-de-lagrange"><span class="toc-section-number">7.4</span>  Heterocedasticidade: ARCH Multiplicador de Lagrange</a></li>
  <li><a href="#quebra-estrutural-teste-cusum" id="toc-quebra-estrutural-teste-cusum" class="nav-link" data-scroll-target="#quebra-estrutural-teste-cusum"><span class="toc-section-number">7.5</span>  Quebra Estrutural: Teste CUSUM</a></li>
  </ul></li>
  <li><a href="#teste-de-cointegração-de-johansen" id="toc-teste-de-cointegração-de-johansen" class="nav-link" data-scroll-target="#teste-de-cointegração-de-johansen"><span class="toc-section-number">8</span>  Teste de Cointegração de Johansen</a></li>
  <li><a href="#vecm-do-trio-de-variáveis" id="toc-vecm-do-trio-de-variáveis" class="nav-link" data-scroll-target="#vecm-do-trio-de-variáveis"><span class="toc-section-number">9</span>  VECM do Trio de Variáveis</a></li>
  <li><a href="#formas-estruturais" id="toc-formas-estruturais" class="nav-link" data-scroll-target="#formas-estruturais"><span class="toc-section-number">10</span>  Formas Estruturais</a></li>
  <li><a href="#função-impulso-resposta" id="toc-função-impulso-resposta" class="nav-link" data-scroll-target="#função-impulso-resposta"><span class="toc-section-number">11</span>  Função Impulso-resposta</a></li>
  <li><a href="#decomposição-da-variância-do-erro" id="toc-decomposição-da-variância-do-erro" class="nav-link" data-scroll-target="#decomposição-da-variância-do-erro"><span class="toc-section-number">12</span>  Decomposição da Variância do Erro</a></li>
  <li><a href="#decomposição-histórica" id="toc-decomposição-histórica" class="nav-link" data-scroll-target="#decomposição-histórica"><span class="toc-section-number">13</span>  Decomposição Histórica</a></li>
  <li><a href="#outras-referências" id="toc-outras-referências" class="nav-link" data-scroll-target="#outras-referências"><span class="toc-section-number">14</span>  Outras Referências</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">VAR e VECM no R: Como o preço internacional do petróleo afeta os preços domésticos?</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Heitor Gabriel Monteiro </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 22, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<style type="text/css">
.top-right {
  position: fixed;
  top: 1em;
  right: 1em;
}
</style>
</div>
<section id="os-modelos-temporais-multivariados" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Os Modelos Temporais Multivariados</h1>
<p>Faz parte de todo grande projeto econômico saber de que forma alguns fatores podem influenciar sua variável de interesse. Por exemplo, como o preço da concorrência afeta na demanda de uma empresa? Como juros mais altos impactam no perfil de demanda por crédito? Uma excelente ferramenta teórica para trabalhar com essas relações empíricas de pressupostos teóricos, num contexto de séries de tempo, é a Análise Autorregressiva Vetorial Multivariada, com seus principais modelos sendo o VAR (Vetor Autorregressivo) e o VECM (Modelo Vetorial de Correção de Erros).</p>
<p>Diferentemente do <a href="https://heitorgabriel.github.io/time-series-modelling_1/">caso autorregressivo univariado (<span class="math inline">AR(p)</span>),</a> o VAR regride um conjunto de variáveis, explicando-as com suas próprias realizações passadas e, por ser um sistema, com os valores atuais e passados das demais variáveis do conjunto. Tomando como exemplo um caso bivariado de ordem 1 <span class="math inline">(p=1)</span>:</p>
<p><span class="math display">
\begin{Bmatrix}
y_{t} = b_{10} + a_{12}z_{t} + b_{11}z_{t-1} + b_{12}y_{t-1} + \sigma_{y}\epsilon_{y,t} \\
z_{t} = b_{20} + a_{22}y_{t} + b_{21}z_{t-1} + b_{22}y_{t-1} + \sigma_{z}\epsilon_{z,t}   
\end{Bmatrix}
</span></p>
<p><span class="math display">
\begin{Bmatrix}
-a_{12}z_{t} + y_{t} = b_{10} + b_{11}z_{t-1} + b_{12}y_{t-1} + \sigma_{y}\epsilon_{y,t} \\
+z_{t} - a_{22}y_{t} = b_{20} + b_{21}z_{t-1} + b_{22}y_{t-1} + \sigma_{z}\epsilon_{z,t}   
\end{Bmatrix}
</span></p>
<p><span class="math display">
\begin{bmatrix}
-a_{12} &amp; 1 \\
1 &amp; -a_{22}
\end{bmatrix}
\begin{bmatrix}
z_{t} \\ y_{t}
\end{bmatrix}
=
\begin{bmatrix}
b_{10} \\ b_{20}
\end{bmatrix}
+
\begin{bmatrix}
b_{11} &amp; b_{12} \\
b_{21} &amp; b_{22}
\end{bmatrix}
\begin{bmatrix}
z_{t-1} \\ y_{t-1}
\end{bmatrix}
+
\begin{bmatrix}
\sigma_{z} &amp; 0 \\
0 &amp; \sigma_{y}
\end{bmatrix}
\begin{bmatrix}
\epsilon_{z,t}  \\ \epsilon_{y,t}
\end{bmatrix}
</span><br>
Dando nomes às matrizes formadas, respectivamente:</p>
<p><span class="math display">
AX_{t} = B_{0} + B_{1}X_{t-1} + B_{\sigma}\epsilon_{t}
</span></p>
<p>Nesse formato, chamado <em>estrutural</em>, assumimos que <span class="math inline">(y_t, z_t)</span> são estacionárias; que a sequência de erros são ruídos brancos, não-correlacionados entre si e com <span class="math inline">(\sigma_{y}, \sigma_{z})</span> sendo seus desvios-padrão. O problema é que essa forma não pode ser estimada diretamente via MQO porque uma variável tem efeito contemporâneo na outra (efeito feedback), ou seja, <span class="math inline">(z_{t}, y_{t})</span> é afetado por <span class="math inline">(\epsilon_{y,t}, \epsilon_{z,t})</span>, respectivamente. Ainda estamos interessados nos choques estruturais, mas, para a estimação, devemos calculá-lo no <em>formato reduzido</em>:</p>
<p><span class="math display">
X_{t} = A^{-1}B_{0} + A^{-1}B_{1}X_{t-1} + A^{-1}B_{\sigma}\epsilon_{t}
</span></p>
<p>Com <span class="math inline">\Phi_{0} = A^{-1}B_{0}</span>, <span class="math inline">\Phi_{1} = A^{-1}B_{1}</span> e <span class="math inline">e_{t} = A^{-1}B_{\sigma}\epsilon_{t}</span> temos:</p>
<p><span class="math display">
X_{t} = \Phi_{0} + \Phi_{1} X_{t-1} + e_{t}
</span></p>
<p>Nesse formato, os erros transformados não são mais correlacionados aos regressores, permanecem não-autocorrelacionados, mas são correlacionados contemporâneamente entre si:</p>
<p><span class="math display">
\begin{bmatrix}
e_{1,t} \\ e_{2,t}
\end{bmatrix}
\equiv
A^{-1}B_{\sigma}\epsilon_{t}
=
\begin{bmatrix}
\frac{\sigma_{y}\epsilon_{y,t} - a_{12}\sigma_{z}\epsilon_{z,t}}{1 - a_{12}a_{21}}
\\
\frac{\sigma_{z}\epsilon_{z,t} - a_{21}\sigma_{y}\epsilon_{y,t}}{1 - a_{12}a_{21}}
\end{bmatrix}
</span></p>
<p>Estabelecer restrições à forma reduzida para voltar aos choques estruturais é o cerne da modelagem VAR e VECM.</p>
<p>Os modelos VECM podem ser descritos como a consideração de que as variáveis não-estacionárias têm uma relação estável, ou seja, alguma transformação linear entre elas que seja estacionária. Nesse comportamento, há uma correção de desvios dessa relação, no curto-prazo. De forma bem sucinta, o caso na forma reduzida, bivariado e de ordem 2 é:</p>
<p><span class="math display">
\begin{Bmatrix}
\Delta y_{t} = b_{10} + a_{12}( \alpha + y_{t-1} + \beta z_{t-1}) + b_{11}\Delta z_{t-1} + b_{12}\Delta y_{t-1} + u_{y,t} \\
\Delta z_{t} = b_{20} - a_{22}( \alpha + y_{t-1} + \beta z_{t-1}) + b_{21}\Delta z_{t-1} + b_{22}\Delta y_{t-1} + u_{z,t}   
\end{Bmatrix}
</span> Onde <span class="math inline">(a_{12},a_{22})</span> é a velocidade de ajuste dos desvios da relação estacionária de longo-prazo <span class="math inline">\alpha + y_{t-1} + \beta z_{t-1}</span>. Para testar cointegração das variáveis, procedemos com o Teste de Johansen.</p>
<p>Com as restrições que impormos ao modelo, podemos chegar à sua forma estrutural e realizar análises impulso-resposta e decomposição da variância. A função impulso-resposta mostra o impacto de um choque de <span class="math inline">\epsilon_{z,t}</span> em <span class="math inline">z_{t+h}</span>, com <span class="math inline">h=(1,2,...)</span>. E a decomposição da variância diz qual que porcentagem da variância do erro de previsão decorre de cada variável endógena, ao longo do horizonte de previsão.</p>
</section>
<section id="objetivo-e-ferramentas" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Objetivo e Ferramentas</h1>
<p>Nesse exercício, vamos calcular as relações entre:</p>
<ol type="1">
<li>preço internacional do petróleo;</li>
<li>câmbio e</li>
<li>índice nacional de preços</li>
</ol>
<p>para responder à pergunta: <strong>Qual impacto do aumento do preço internacional do petróleo nos preços domésticos?</strong> A ideia é que o preço no mercado internacional do petróleo tem poder suficiente para afetar não somente o preço doméstico dos combustíveis, portanto, dos transportes, mas também de todas cadeias produtivas que usam a energia fóssil, como o gás de cozinha (GLP) para alimentação. O preço internacional do petróleo pode afetar a economia local através do seu valor convertido para o Real, que é o valor que os agentes olharão para decidir suas alocações de insumos e produção. Uma ideia <em>a priori</em> é que os nossos preços e o câmbio não têm capacidade de influenciar o preço internacional do petróleo, parece ser bem razoável e o testaremos com Granger-causalidade e pela significância dos coeficientes. Também é provável que a política nacional de atualização de preços dos combustíveis possa <em>sujar</em> essa relação que estimaremos. Outro pessuporto que precisamos adotar, portanto, é que, ao olhar para o preço internacional do petróleo, os agentes preverão uma variação do preço doméstico, que acontecerá cedo ou tarde, e anteciparão a atualização. Portanto, de forma mais técnica, o que testaremos é o efeito, nos preços domésticos, da influência esperada do preço internacional do petróleo.</p>
<p>Vamos conhecer o comportamento dessas variáveis; calcular modelos VAR; diagnosticar os resíduos para examinar a qualidade dessas relações; testar cointegração, para ver se é necessário usar um VECM como alternativa; modelar a versão Estrutural do VAR ou do VECM e usar algumas firulas do instrumental: o Impulso-Resposta e a Decomposição da Variância. Uma análise subsequente ao VECM seria o de assimetria no vetor de correção de erros: as respostas a desvios positivos são mais rápidas que as respostas a desvios negativos, simularemos também essa restrição.</p>
<p>Usaremos os sequintes pacotes do R:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># manipulação e visualizações básicas</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)     <span class="co"># visualizações interativas</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)     <span class="co"># diversidade de configurações de visualização</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)  <span class="co"># tabelas</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># tidyverts core:   pacotes para séries temporais univariadas</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(feasts)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># tidyverts improvements tools</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibbletalk)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable.prophet)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fabletools)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Multivariáveis:   pacotes para séries temporais multivariadas</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vars)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsDyn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Recomendo fortemente passear pela documentação do conjunto de pacotes <a href="https://tidyverts.org/">Tidyverts</a>, ler as definições na documentação do <a href="https://www.pfaffikus.de/rpacks/vars/files/vignette-vars.pdf">vars</a>, do <a href="https://rdrr.io/cran/tsDyn/f/inst/doc/ThCointOverview.pdf">tsDyn</a> e do <a href="https://www.jstatsoft.org/article/view/v097i05">svar</a>.</p>
</section>
<section id="dados-brutos-e-tratamentos" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Dados Brutos e Tratamentos</h1>
<p>Para o preço internacional do petróleo, usaremos a média simples dos preços médios mensais, em dólar, dos três principais mercados da commodity: Dated Brent, Dubai Fateh e West Texas Intermediate. Para a taxa de câmbio, usaremos a taxa (R$ / US$) comercial de compra média para o mês. E para os preços nacionais, usaremos o índice histórico do IPCA (Tabela 1737).</p>
<p>Para facilitar a criação de tabelas, criaremos uma função:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>set_tab <span class="ot">&lt;-</span> <span class="cf">function</span>(dados_tab, cap_tab){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>( <span class="at">x =</span> dados_tab,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">escape   =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">digits   =</span> <span class="dv">4</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption  =</span> cap_tab) <span class="sc">|&gt;</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hold_position"</span>),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">position      =</span> <span class="st">"center"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width    =</span> F,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">bootstrap_options =</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Vamos importar os dados e fazer uns tratmentos:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"dds.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>dds <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 391
Columns: 7
$ date        &lt;chr&gt; "1990M1", "1990M2", "1990M3", "1990M4", "1990M5", "1990M6"…
$ petro       &lt;dbl&gt; 20.42522, 19.38833, 18.10379, 16.36810, 16.34986, 15.09730…
$ petro_brent &lt;dbl&gt; 20.98913, 19.70250, 18.46591, 16.92619, 16.67174, 15.55238…
$ petro_dubai &lt;dbl&gt; 17.50174, 16.68150, 15.75591, 14.25048, 14.64783, 13.27714…
$ petro_texas &lt;dbl&gt; 22.78478, 21.78100, 20.08955, 17.92762, 17.73000, 16.46238…
$ cambio      &lt;chr&gt; "0,000005", "0,000009", "0,000013", "0,000017", "0,000019"…
$ ipca        &lt;dbl&gt; 0.0054, 0.0095, 0.0173, 0.0200, 0.0216, 0.0241, 0.0272, 0.…</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retirar NA's</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(petro)) </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Substituir vírgula por ponto e reconhecer a variável numérica</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>dds<span class="sc">$</span>cambio <span class="ot">&lt;-</span> dds<span class="sc">$</span>cambio <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace</span>(<span class="at">pattern =</span> <span class="st">","</span>, <span class="at">replacement =</span> <span class="st">"."</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.numeric</span>() </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma variável de tempo chamada "dt" na base</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>dds<span class="sc">$</span>dt <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">'1990 Jan'</span>),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">to   =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">'2022 Jul'</span>), <span class="co"># alternativa: length=</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">by   =</span> <span class="st">"month"</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar os logaritmos naturais</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="st">"ptr_br_log"</span>      <span class="ot">=</span> <span class="fu">log</span>(cambio) <span class="sc">+</span> <span class="fu">log</span>(petro),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ipca_log"</span>        <span class="ot">=</span> <span class="fu">log</span>(ipca),</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_log"</span>       <span class="ot">=</span> <span class="fu">log</span>(petro),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"cambio_log"</span>      <span class="ot">=</span> <span class="fu">log</span>(cambio),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_brent_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_brent),</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_dubai_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_dubai),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_texas_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_texas))</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>dds <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 391
Columns: 15
$ date            &lt;chr&gt; "1990M1", "1990M2", "1990M3", "1990M4", "1990M5", "199…
$ petro           &lt;dbl&gt; 20.42522, 19.38833, 18.10379, 16.36810, 16.34986, 15.0…
$ petro_brent     &lt;dbl&gt; 20.98913, 19.70250, 18.46591, 16.92619, 16.67174, 15.5…
$ petro_dubai     &lt;dbl&gt; 17.50174, 16.68150, 15.75591, 14.25048, 14.64783, 13.2…
$ petro_texas     &lt;dbl&gt; 22.78478, 21.78100, 20.08955, 17.92762, 17.73000, 16.4…
$ cambio          &lt;dbl&gt; 0.000005, 0.000009, 0.000013, 0.000017, 0.000019, 0.00…
$ ipca            &lt;dbl&gt; 0.0054, 0.0095, 0.0173, 0.0200, 0.0216, 0.0241, 0.0272…
$ dt              &lt;date&gt; 1990-01-01, 1990-02-01, 1990-03-01, 1990-04-01, 1990-…
$ ptr_br_log      &lt;dbl&gt; -9.189302, -8.653614, -8.354440, -8.186963, -8.076853,…
$ ipca_log        &lt;dbl&gt; -5.2213563, -4.6564635, -4.0570488, -3.9120230, -3.835…
$ petro_log       &lt;dbl&gt; 3.016770, 2.964672, 2.896121, 2.795334, 2.794219, 2.71…
$ cambio_log      &lt;dbl&gt; -12.206073, -11.618286, -11.250561, -10.982297, -10.87…
$ petro_brent_log &lt;dbl&gt; 3.044005, 2.980746, 2.915926, 2.828862, 2.813715, 2.74…
$ petro_dubai_log &lt;dbl&gt; 2.862300, 2.814300, 2.757215, 2.656790, 2.684292, 2.58…
$ petro_texas_log &lt;dbl&gt; 3.126093, 3.081038, 3.000200, 2.886342, 2.875258, 2.80…</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Permanecer somente com a data Julho de 1994 pra lá...</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">filter</span>(dt <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">"1994 Jul"</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma base tsibble</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(dt, ptr_br_log, ipca_log, cambio_log, petro_log) <span class="sc">|&gt;</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">dt =</span> tsibble<span class="sc">::</span><span class="fu">yearmonth</span>(<span class="fu">as.character</span>(dt))) <span class="sc">|&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tsibble</span>(<span class="at">index =</span> dt)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificar o intervalo do tsibble</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> <span class="fu">interval</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;interval[1]&gt;
[1] 1M</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>plt_cambio <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>cambio,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Taxa de Câmbio - R$/US$ - Comercial - Compra - Média - R$ '</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"R$/US$"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>plt_cambio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-0af577fa34c6363c7451" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-0af577fa34c6363c7451">{"x":{"visdat":{"d03e48bb2d23":["function () ","plotlyVisDat"]},"cur_data":"d03e48bb2d23","attrs":{"d03e48bb2d23":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e48bb2d23.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Câmbio","line":{"color":"#30d5c8","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Taxa de Câmbio - R$/US$ - Comercial - Compra - Média - R$ ","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"R$/US$","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01"],"y":[0.9248,0.8966,0.8632,0.844,0.8398,0.8481,0.8451,0.8388,0.8874,0.9055,0.8954,0.912,0.9268,0.94,0.9508,0.9587,0.9624,0.9673,0.9735,0.9801,0.9853,0.9894,0.9945,1.0005,1.0061,1.0126,1.0185,1.0243,1.0296,1.0365,1.0421,1.0485,1.0559,1.0601,1.0675,1.0738,1.0799,1.0871,1.0928,1.0993,1.1065,1.1128,1.1191,1.1329,1.1329,1.1404,1.1473,1.1538,1.1607,1.1709,1.1801,1.1876,1.1929,1.2046,1.5011,1.9129,1.896,1.6933,1.6827,1.7646,1.7995,1.88,1.8973,1.9687,1.9291,1.842,1.8029,1.7745,1.7412,1.7674,1.8271,1.8075,1.797,1.8084,1.8384,1.8788,1.9472,1.9625,1.9537,2.0011,2.0882,2.1917,2.2964,2.375,2.4652,2.5098,2.6709,2.7394,2.5423,2.3619,2.3771,2.4188,2.3458,2.3196,2.4796,2.7132,2.9338,3.1093,3.3412,3.8051,3.5756,3.6251,3.4376,3.59,3.4461,3.1179,2.9549,2.8824,2.879,3.0017,2.922,2.8607,2.913,2.9245,2.851,2.9295,2.9047,2.9052,3.0996,3.1283,3.036,3.0021,2.8903,2.8521,2.7852,2.7174,2.6922,2.597,2.7039,2.5784,2.452,2.4127,2.3727,2.3598,2.2936,2.2557,2.21,2.2847,2.2731,2.1611,2.1512,2.1285,2.1773,2.2475,2.1885,2.1551,2.1679,2.1475,2.1571,2.1491,2.1377,2.0955,2.0879,2.0312,1.9808,1.9311,1.882,1.9652,1.8988,1.8002,1.7691,1.7852,1.7735,1.7269,1.7068,1.6881,1.6597,1.6181,1.5906,1.6115,1.7988,2.1721,2.2655,2.3936,2.3066,2.3119,2.313,2.2051,2.0601,1.9568,1.932,1.8444,1.819,1.7376,1.7252,1.7495,1.779,1.8394,1.785,1.7558,1.8124,1.8054,1.7688,1.7588,1.7179,1.6852,1.71253,1.692655,1.674114,1.6672,1.6583,1.5856,1.6127,1.5862,1.5631,1.5962,1.749,1.7719,1.789725,1.8362,1.789014,1.717758,1.7947,1.8542,1.985386,2.04857,2.02815,2.028865,2.0275,2.029282,2.067195,2.07724,2.030477,1.972678,1.98227,2.001632,2.034267,2.172375,2.251561,2.341595,2.2699,2.188057,2.29471,2.344862,2.381605,2.38309,2.325495,2.231725,2.220281,2.23486,2.224022,2.267424,2.332255,2.447643,2.54823,2.638736,2.633619,2.815839,3.138864,3.042595,3.061075,3.111124,3.222509,3.513695,3.90581,3.879505,3.7758,3.870495,4.051715,3.973116,3.703309,3.56524,3.538686,3.423877,3.274711,3.209057,3.255771,3.1852,3.3414,3.351668,3.195986,3.103589,3.12733,3.135572,3.208705,3.294767,3.205538,3.150313,3.13419,3.190638,3.258735,3.29131,3.209986,3.240906,3.278614,3.4069,3.635462,3.772571,3.828136,3.929157,4.115947,3.757805,3.786015,3.882136,3.741055,3.723025,3.845884,3.895557,4.000918,3.858226,3.778713,4.019382,4.1209,4.086387,4.154725,4.108924,4.148864,4.340411,4.883218,5.324985,5.64285,5.195995,5.279596,5.460633,5.398881,5.62519,5.417235,5.144945,5.3556,5.415894,5.645548,5.561535,5.290448,5.031305,5.156027,5.251123,5.27909,5.539375,5.55626,5.650604,5.533505,5.195979,4.967782,4.757416,4.95445,5.04861,5.367476],"name":"Câmbio","line":{"color":"#30d5c8","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>plt_ipca <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>ipca,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'índice de Preços ao Consumidor Amplo - IPCA, Brasil, de Jan/90 a Jul/2022.'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Índice"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>plt_ipca</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f78c9bd87b9180e68fe0" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-f78c9bd87b9180e68fe0">{"x":{"visdat":{"d03e303f5252":["function () ","plotlyVisDat"]},"cur_data":"d03e303f5252","attrs":{"d03e303f5252":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e303f5252.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IPCA","line":{"color":"#551a8b","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"índice de Preços ao Consumidor Amplo - IPCA, Brasil, de Jan/90 a Jul/2022.","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Índice","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01"],"y":[915.93,932.97,947.24,972.06,999.37,1016.46,1033.74,1044.28,1060.47,1086.24,1115.24,1140.44,1167.35,1178.91,1190.58,1207.37,1225.12,1244.23,1260.9,1273.89,1278.35,1294.46,1310.25,1325.84,1340.56,1346.46,1348.48,1352.53,1356.86,1363.24,1379.33,1386.23,1393.3,1405.56,1411.32,1418.94,1422.06,1421.78,1422.63,1425.9,1428.32,1434.46,1444.64,1451.29,1456.22,1459.71,1467.01,1467.3,1465.54,1458.07,1454.86,1455.15,1453.4,1458.2,1468.41,1483.83,1500.15,1508.55,1513.08,1515.95,1532.47,1541.05,1545.83,1564.23,1579.09,1588.56,1598.41,1600.49,1604.01,1610.75,1610.91,1614.62,1640.62,1662.11,1665.93,1668.26,1673.6,1683.47,1693.07,1700.86,1707.32,1717.22,1724.26,1733.23,1756.28,1768.57,1773.52,1788.24,1800.94,1812.65,1822.08,1828.64,1839.61,1854.33,1858.22,1866.02,1888.23,1900.5,1914.18,1939.26,1997.83,2039.78,2085.68,2118.43,2144.49,2165.29,2178.5,2175.23,2179.58,2186.99,2204.05,2210.44,2217.96,2229.49,2246.43,2260.13,2270.75,2279.15,2290.77,2307.03,2328.02,2344.08,2351.82,2362.17,2378.47,2398.92,2412.83,2427.07,2441.87,2463.11,2475.18,2474.68,2480.87,2485.09,2493.79,2512.49,2526.31,2535.4,2550.36,2560.82,2571.83,2577.23,2579.81,2574.39,2579.28,2580.57,2585.99,2594.52,2602.56,2615.05,2626.56,2638.12,2647.88,2654.5,2661.93,2669.38,2675.79,2688.37,2693.21,2701.29,2711.55,2731.62,2746.37,2759.83,2773.08,2788.33,2810.36,2831.16,2846.16,2854.13,2861.55,2874.43,2884.78,2892.86,2906.74,2922.73,2928.57,2942.63,2956.46,2967.1,2974.22,2978.68,2985.83,2994.19,3006.47,3017.59,3040.22,3063.93,3079.86,3097.42,3110.74,3110.74,3111.05,3112.29,3126.29,3149.74,3175.88,3195.89,3222.42,3248.2,3273.86,3299.07,3314.58,3319.55,3324.86,3337.16,3354.85,3369.28,3386.8,3403.73,3422.79,3438.19,3445.41,3467.46,3479.94,3482.72,3497.7,3512.04,3532.06,3552.9,3574.22,3602.46,3633.44,3655.24,3672.42,3692.62,3706.28,3715.92,3717.03,3725.95,3738.99,3760.3,3780.61,3815.39,3836.37,3862.84,3898.38,3924.5,3942.55,3958.32,3958.72,3968.62,3991.24,4008,4028.44,4059.86,4110.2,4160.34,4215.26,4245.19,4276.6,4310.39,4337.11,4346.65,4370.12,4405.95,4450.45,4493.17,4550.23,4591.18,4610.92,4639.05,4675.23,4691.59,4715.99,4736.74,4740.53,4752.86,4761.42,4775.7,4793.85,4809.67,4821.69,4828.44,4843.41,4832.27,4843.87,4853.07,4860.83,4881.25,4894.92,4916.46,4930.72,4946.5,4950.95,4961.84,4981.69,5044.46,5061.11,5056.56,5080.83,5103.69,5092.97,5100.61,5116.93,5138.93,5177.47,5206.98,5213.75,5214.27,5224.18,5229.93,5227.84,5233.07,5259.76,5320.25,5331.42,5344.75,5348.49,5331.91,5311.65,5325.46,5344.63,5357.46,5391.75,5438.12,5486.52,5560.59,5574.49,5622.43,5674.72,5692.31,5739.56,5769.98,5825.37,5876.05,5944.21,6018.51,6075.69,6120.04,6153.09,6215.24,6315.93,6382.88,6412.88,6455.85,6411.95],"name":"IPCA","line":{"color":"#551a8b","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plt_petro <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>petro,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Média do Preço Internacional do Petróleo'</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Preço em Dólar"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>plt_petro</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d821229cb60dec29eee6" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-d821229cb60dec29eee6">{"x":{"visdat":{"d03e5c43f278":["function () ","plotlyVisDat"]},"cur_data":"d03e5c43f278","attrs":{"d03e5c43f278":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e5c43f278.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Petroleum","line":{"color":"#2E8B57","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Média do Preço Internacional do Petróleo","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Preço em Dólar","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01"],"y":[17.971904762,17.053478261,16.186818182,16.483333333,17.133333333,16.212121212,16.863333333,17.379166667,17.276521739,18.662833333,18.514492754,17.354242424,16.197619048,16.54826087,16.748730159,16.130757576,16.810606061,18.072222222,17.917536232,17.650634921,19.312380952,20.705151515,19.084347826,18.718,19.558695652,20.386060606,22.437460317,23.609855072,22.596507937,23.612121212,23.316086957,20.535666667,19.455714286,17.975606061,19.410151515,17.998571429,18.405797101,18.721269841,18.716212121,20.156956522,19.213,17.31942029,15.256969697,14.200333333,13.244848485,13.716060606,14.005555556,12.815909091,12.84884058,12.544761905,13.850454545,13.296212121,11.890634921,10.443623188,11.409047619,10.732166667,13.21942029,15.811818182,16.145555556,16.48,18.927272727,20.352424242,22.891969697,22.030952381,24.378787879,25.150724638,25.357777778,27.252222222,27.35057971,23.639333333,27.317246377,29.773939394,28.288253968,29.984057971,32.348730159,31.570909091,32.530757576,25.232539683,25.868985507,27.3195,25.170909091,25.836825397,27.429275362,27.069365079,24.853787879,25.773913043,25.389666667,20.942753623,18.624242424,18.550634921,19.257536232,20.094666667,23.785238095,25.407575758,25.622753623,24.518,25.701014493,26.648333333,28.268412698,27.397971014,24.57015873,27.937424242,30.486231884,32.856666667,30.375873016,25.548636364,25.970909091,27.847142857,28.549710145,29.601428571,26.850151515,28.967681159,29.024,29.86057971,31.306818182,31.200666667,33.506956522,33.843181818,37.468412698,35.643484848,37.938484848,41.84030303,41.658636364,46.978412698,42.201515152,38.997971014,43.001111111,44.411166667,51.010289855,50.837142857,48.143333333,54.133787879,56.585555556,62.060144928,62.078333333,58.163809524,55.073636364,56.656363636,62.331363636,59.862833333,61.355362319,68.123,68.92173913,68.445909091,72.527301587,71.839275362,62.122539683,57.997575758,58.35,61.02031746,53.795362319,57.691333333,60.601212121,65.183174603,65.238985507,68.08031746,73.445,70.402028986,76.7,82.113768116,91.382575758,89.938730159,90.810869565,93.411111111,101.550952381,108.845606061,122.943787879,131.691428571,132.582318841,114.35984127,99.89530303,72.07826087,52.8765,40.437391304,42.721666667,41.345,46.317424242,49.645151515,57.862063492,68.557575758,64.777971014,71.824126984,67.992121212,73.810606061,77.179365079,74.817536232,77.056825397,74.568166667,79.526811594,84.183181818,75.28952381,74.803787879,74.709393939,75.906060606,76.224545455,81.773492063,84.298181818,89.976811594,92.78968254,97.229333333,108.455652174,116.142222222,107.881515152,105.884545455,108.386507937,100.35826087,100.530909091,99.94984127,104.793181818,103.552121212,106.30030303,111.745396825,116.39969697,111.648571429,102.737101449,89.905238095,96.556363636,105.274347826,105.906,102.333043478,98.365,97.210793651,102.087391304,107.249833333,102.697301587,98.766212121,99.366086957,99.772166667,105.256086957,108.161212121,108.673650794,104.550289855,101.411428571,104.943181818,101.251884058,102.982333333,101.231269841,102.106515152,103.295454545,106.332857143,101.843478261,96.093333333,92.989848485,84.067246377,76.5585,59.903333333,46.83030303,54.608166667,52.753484848,57.29030303,62.362222222,61.378181818,54.902463768,46.730952381,46.700606061,46.869393939,42.795396825,36.629710145,30.537777778,31.303174603,37.578695652,41.044285714,46.230757576,48.145,44.545714286,45.206811594,45.23469697,49.945079365,45.597878788,53.30530303,54.227424242,54.6735,50.724057971,52.177833333,49.818115942,46.119090909,47.51047619,49.915362319,52.768730159,54.967272727,60.163939394,61.267936508,66.47884058,63.404,63.976515152,67.318571429,70.315362319,69.51,68.339242424,66.094202899,71.137,74.761594203,60.654242424,51.814603175,55.681304348,61.339333333,63.913968254,67.527424242,65.783913043,59.416,61.162898551,57.645,60.15047619,57.73884058,60.673809524,63.533030303,61.838405797,53.746333333,31.776060606,22.961212121,31.750793651,39.750909091,42.259130435,43.803492063,41.031212121,40.626969697,43.07968254,49.329275362,54.266825397,61.227333333,64.337536232,63.623787879,66.726666667,72.09969697,73.005909091,69.080151515,73.188030303,82.360793651,79.665151515,73.401449275,84.50952381,92.845666667,109.960144928,103.897460317,110.208484848,115.067121212,103.102063492],"name":"Petroleum","line":{"color":"#2E8B57","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Vamos também considerar o <strong>preço nacional do petróleo</strong>, que é o preço no mercado internacional convertido em reais pela taxa de câmbio apresentada:</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>plt_petro_n <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>petro<span class="sc">*</span>cambio,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum (R$)"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Média do Preço Internacional do Petróleo, em Reais'</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Preço em Reais"</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>plt_petro_n</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2a38899084b020fdce4d" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-2a38899084b020fdce4d">{"x":{"visdat":{"d03e20149283":["function () ","plotlyVisDat"]},"cur_data":"d03e20149283","attrs":{"d03e20149283":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e20149283.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Petroleum (R$)","line":{"color":"#073320","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Média do Preço Internacional do Petróleo, em Reais","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Preço em Reais","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01"],"y":[16.6204175238976,15.2901486088126,13.9724614547024,13.911933333052,14.3885733330534,13.7494999998972,14.2512029997183,14.5776450002796,15.3311853911886,16.8991955830315,16.5778768119316,15.827069090688,15.0119533336864,15.5553652178,15.9246926351772,15.4645572881112,16.1785272731064,17.4812605553406,17.442721521852,17.2993872860721,19.0284889520056,20.485676908941,18.979383912957,18.727359,19.6780036954772,20.6429249696356,22.8525533328645,24.1835745502496,23.2653645719352,24.473963636238,24.2976942178897,21.5316465003495,20.5432887145874,19.0559399852661,20.7203367422625,19.3268660004602,19.8764202893699,20.3518924441511,20.4530766058288,22.1585423046346,21.2591845,19.273050898712,17.0740747879127,16.0875576329557,15.0050888486565,15.6417955150824,16.0685738893988,14.7869959091958,14.913649261206,14.6886617145645,16.3449214085545,15.7905815148996,14.1843383972609,12.5803884922648,17.1261213808809,20.5295616173043,25.06402086984,26.7741517275806,27.1681263340812,29.080608,34.0596272722365,38.26255757496,43.4329341061181,43.3723359524747,47.0291196973789,46.327634783196,45.7175375559562,48.359068332939,47.622829391052,41.7801577327442,49.9113408554167,53.816395454655,50.833992380496,54.2231704347564,59.4699055243056,59.3154240001708,63.3438911519872,49.5188591278875,50.5402369850259,54.66905145,52.5618923638262,56.6265702226049,62.9885879412968,64.289742062625,61.2695578793108,64.6873669553214,67.8132607008903,57.3705792748462,47.3484115145352,43.8147446199099,45.7770893770872,48.6049797341396,55.795411523251,58.9354127282568,63.5341798835908,66.5222376,75.4016363195634,82.8576628322969,94.4504205065576,104.252019505371,87.853059554988,101.275956619674,104.799470724438,117.95543333453,104.678296000438,79.6580933193156,76.7414392729959,80.2666045710168,82.194615507455,88.8546081415707,78.45614272683,82.8678454915513,84.546912,87.327265361895,89.255738636882,91.4023530009765,97.3276566094534,98.3212118176536,116.137091998721,111.503513649998,115.181239998528,125.608773726363,120.405956682869,133.987130855966,117.53966000135,105.973086433444,115.767591333034,115.335799834199,137.926722738935,131.078489142489,118.047453332516,130.608590015663,134.260547667721,146.449530001094,142.382865332569,131.200105143287,121.71273636444,129.442793999169,141.685422680992,129.369569115946,131.987655420633,144.9998055,150.063302607749,153.832180682023,158.725999523149,154.820822332646,134.675453778776,124.549793940305,125.866785,131.138764253286,114.998346029326,120.892188999301,126.529270787436,132.400064253614,129.225382492266,131.469901047006,138.22349,138.354067363287,145.63796,147.821205362423,161.664914773478,160.558621079847,161.053077173528,161.311647777586,173.327165523891,183.742267591574,204.049804742776,213.089900570735,210.885436348495,184.290884206605,179.691671090364,156.561190435727,119.79171075,96.7909398252544,98.5417963341022,95.5855055,107.132202271746,109.472523605726,119.201636999869,134.153464243254,125.151039999048,132.47241980929,123.677668484628,128.253309091594,133.149840634291,130.893279637884,137.084092381263,137.16068576728,141.95535869529,147.808830636044,136.454732953244,135.050758636747,132.145975999303,133.503579393833,130.946146637144,137.804688824568,144.36316530878,152.299700028642,155.34050659577,162.100744532778,179.852008000144,184.155107555203,173.98051948563,167.954066000721,169.418950556325,160.191856000694,175.828560000159,177.101123746313,187.55097732922,190.142404969474,190.172730324912,191.951549359318,208.902536152059,207.018781143652,203.972802897424,184.177173604274,195.830788908353,213.587439701998,214.724415,207.662603135123,203.339636175,201.930149003603,207.286100032772,211.569386719676,203.573780016862,197.693610700181,202.137151615755,216.742560563224,236.99050040499,253.269753496473,246.678319937301,228.761993569262,232.709819256159,246.077279204119,241.141993331953,245.416168742539,235.412811858896,227.873662527597,229.344935112627,237.639049114605,226.502136208986,217.884330239244,216.876039078384,205.766607123939,195.088666455,158.069082185787,123.333175835566,153.767805419439,165.586014463933,174.311189547563,190.895439388209,190.955134530343,176.923683614554,164.198313726358,182.403694159114,181.83004813332,161.586859331835,141.775109967672,123.730372289789,124.371143865973,139.165521816312,146.332729198981,163.596134603585,164.842558165,145.874340575221,145.071235193407,147.273814588714,159.085066793398,152.360752182223,178.661678395954,173.310088693493,169.6840731915,158.630868214447,163.607353219621,159.851637713675,151.951658796973,152.29663682514,157.249014813256,165.387226377036,175.38066911913,196.058335041107,201.651772108145,213.396147558032,205.486404024,209.754298248559,229.34764100146,255.628827726956,262.23141021,261.611914136042,259.694499980026,292.796121739,280.939492504004,229.6378716309,201.151336311382,208.306822037607,228.367871482092,245.805707884567,263.056930197893,263.196041804173,229.240356016,231.117039872345,231.69727539,247.874097331371,235.943247541184,252.082993274601,261.052393004724,256.559135628565,233.28117640822,155.16943112031,122.268110126143,179.164965953545,206.545524882291,223.111136008104,239.194794274456,221.522631527037,228.534423669867,233.372764044577,253.796408627345,290.631410096173,331.600747234195,363.220648999495,353.845923121634,353.013960215097,362.755565863646,376.420438432741,362.748372463901,386.366198892264,456.227321330508,442.640294756734,414.762522879112,467.633872550254,482.424134242732,546.25802869071,494.283440071461,546.022427755174,580.929018822115,553.397851343786],"name":"Petroleum (R$)","line":{"color":"#073320","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Conseguimos visualizar o regime brasileiro de câmbio fixo até o fim de 1998. O rápido crescimento do preço do petróleo em 2007 ocorreu por aumento da demanda mundial e estagnação da produção, enquanto que a queda observada a partir de julho de 2008 foi causada pela crise financeira na bolha imobiliária dos EUA<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. A queda do preço internacional na metade de 2014 foi causada pela rápida expansão na produção norte-americana e mudanças na política de preços da OPEC<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. Percebemos também a mudança na tendência dos preços do petróleo e do IPCA a partir de abril de 2020, momento que a COVID-19 já se tornara pandêmica.</p>
<p>A fins didáticos, faremos uma decomposição multiplicativa do logaritmo preço nacional do petróleo, é possível perceber melhor a tendência, a sazonalidade e os choques:</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(ptr_br_log, dt) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">model</span>(<span class="fu">classical_decomposition</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        ptr_br_log,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"multiplicative"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotly_build</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> htmltools<span class="sc">::</span><span class="fu">HTML</span>(<span class="st">"Decomposição Multiplicativa Clássica:</span><span class="sc">\n</span><span class="st">petro_br_log = trend * seasonal * randon"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5a668a8aad75e11f27aa" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-5a668a8aad75e11f27aa">{"x":{"data":[{"x":[8946,8977,9008,9038,9069,9099,9130,9161,9189,9220,9250,9281,9311,9342,9373,9403,9434,9464,9495,9526,9555,9586,9616,9647,9677,9708,9739,9769,9800,9830,9861,9892,9920,9951,9981,10012,10042,10073,10104,10134,10165,10195,10226,10257,10285,10316,10346,10377,10407,10438,10469,10499,10530,10560,10591,10622,10650,10681,10711,10742,10772,10803,10834,10864,10895,10925,10956,10987,11016,11047,11077,11108,11138,11169,11200,11230,11261,11291,11322,11353,11381,11412,11442,11473,11503,11534,11565,11595,11626,11656,11687,11718,11746,11777,11807,11838,11868,11899,11930,11960,11991,12021,12052,12083,12111,12142,12172,12203,12233,12264,12295,12325,12356,12386,12417,12448,12477,12508,12538,12569,12599,12630,12661,12691,12722,12752,12783,12814,12842,12873,12903,12934,12964,12995,13026,13056,13087,13117,13148,13179,13207,13238,13268,13299,13329,13360,13391,13421,13452,13482,13513,13544,13572,13603,13633,13664,13694,13725,13756,13786,13817,13847,13878,13909,13938,13969,13999,14030,14060,14091,14122,14152,14183,14213,14244,14275,14303,14334,14364,14395,14425,14456,14487,14517,14548,14578,14609,14640,14668,14699,14729,14760,14790,14821,14852,14882,14913,14943,14974,15005,15033,15064,15094,15125,15155,15186,15217,15247,15278,15308,15339,15370,15399,15430,15460,15491,15521,15552,15583,15613,15644,15674,15705,15736,15764,15795,15825,15856,15886,15917,15948,15978,16009,16039,16070,16101,16129,16160,16190,16221,16251,16282,16313,16343,16374,16404,16435,16466,16494,16525,16555,16586,16616,16647,16678,16708,16739,16769,16800,16831,16860,16891,16921,16952,16982,17013,17044,17074,17105,17135,17166,17197,17225,17256,17286,17317,17347,17378,17409,17439,17470,17500,17531,17562,17590,17621,17651,17682,17712,17743,17774,17804,17835,17865,17896,17927,17955,17986,18016,18047,18077,18108,18139,18169,18200,18230,18261,18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596,18627,18658,18686,18717,18747,18778,18808,18839,18870,18900,18931,18961,18992,19023,19051,19082,19112,19143,19173],"y":[2.81063191088658,2.72720873924054,2.63708835350358,2.63274698499421,2.66643437304151,2.62100245980757,2.65684132418427,2.67948919091976,2.72988901482507,2.82726602215899,2.80806908432568,2.76172170771017,2.70884677266725,2.74440560919965,2.76787090049816,2.73855077902901,2.78368488604799,2.86112948177721,2.85892245687112,2.85067108388649,2.94593727468752,3.01972595457986,2.9433533328529,2.92998550277672,2.97950144824095,3.02737264421807,3.12906285432999,3.18567366512301,3.14696575557724,3.19760984375041,3.19038145769165,3.06952378315495,3.02253430437057,2.94737886322019,3.03111566929892,2.96149614869737,2.98953411908755,3.01317390236344,3.01813331644586,3.09822307923867,3.05678901375853,2.95870779364696,2.83756121880065,2.77804615538394,2.70838940014481,2.74994653128246,2.7768654321524,2.69374813974262,2.70227685142559,2.68707588423621,2.79391723187795,2.75941365563879,2.65213842616223,2.53213913253352,2.84060486409967,3.02186587752981,3.22143338631153,3.28743693432235,3.30204446022418,3.37007156028719,3.52811273190504,3.64447180900637,3.77121800369638,3.76982181741768,3.85076697788637,3.83573864660792,3.82248197824509,3.87865376031989,3.86331225531743,3.73242153143829,3.91024824858682,3.98557816896922,3.92856527215753,3.99310831589027,4.08547039508946,4.08286937336655,4.14857847199887,3.90235358949801,3.92276979100774,4.00129776228995,3.9619913774062,4.03647831361925,4.14295356619408,4.16340008605385,4.11528311077079,4.16956592672824,4.21675776138084,4.04953161573635,3.85753327132986,3.77997039589126,3.82378373402107,3.88372598932283,4.02169163524002,4.07644214476348,4.15157802696885,4.19753629176259,4.3228289766294,4.41712423002766,4.54807504609809,4.64681123224544,4.47566564106124,4.6178490348074,4.65204872153486,4.77030686951957,4.65089179935251,4.37774364223375,4.34044183982922,4.38535365114936,4.40908979514112,4.48700141753905,4.36253977728422,4.41724711586908,4.43730655191002,4.46966273209011,4.49150571704515,4.51527122212191,4.57808318939373,4.5882397904224,4.75477132087307,4.7140561029597,4.74650688776574,4.83317210610365,4.79086900576113,4.89774375695062,4.76677580855951,4.66318516030232,4.75158465837827,4.7478478720066,4.92672254948422,4.87579629753966,4.77108669051201,4.87220498815304,4.89978229766005,4.98668086398962,4.95851966401719,4.87672367790667,4.80166364829284,4.86323903836129,4.95360926688805,4.86267318529078,4.88270839867249,4.97673240104036,5.01105722245696,5.0358622723888,5.06717944223719,5.04226846330261,4.90286783799679,4.8247055872733,4.8352240857511,4.87625603168055,4.74491774590614,4.79489914841452,4.84047367102512,4.88582812880199,4.86155803097144,4.87877793604227,4.92887186794657,4.9298161048849,4.98112381606824,4.99600347158153,5.08552576575794,5.07865911625892,5.08173398253989,5.08333819441233,5.15518093875824,5.21353405607322,5.31836410494264,5.36171414507082,5.35131503032791,5.21651540174119,5.19124244374689,5.05344692676182,4.78575449088344,4.57255339305553,4.59048078644126,4.56002119245368,4.67406360706631,4.69567359179427,4.78081648775733,4.89898440019273,4.82952132786362,4.88637447137684,4.81767873346987,4.85400728560179,4.89147511537068,4.87438233193318,4.9205945505239,4.92115312734367,4.95551263278968,4.99591975392853,4.91599293290855,4.90565069767377,4.88390719033547,4.89412828941969,4.87478614430575,4.92583738430378,4.97233210602894,5.02585029029079,5.04561952419237,5.08821802177721,5.19213433493971,5.21577837834789,5.15894333596774,5.12369052535573,5.13237464465253,5.07637219689194,5.1695094293951,5.17672089003299,5.23405068754722,5.24777329126509,5.24793276614625,5.25724299309601,5.34186780899653,5.33280951931221,5.31798666582616,5.21589819434136,5.27725096445739,5.36404630246381,5.36935541523363,5.33591466236027,5.3148776656008,5.30792184058777,5.33409996477091,5.35455301427985,5.31602849454075,5.28671841149642,5.30894643540127,5.3787102924106,5.46802005765243,5.53445514007303,5.50808513940325,5.43268213368506,5.44979226647925,5.50564562970592,5.48538594393995,5.50295541740275,5.46134061925379,5.42879136365674,5.43522713713954,5.47075292211026,5.42275437626486,5.3839643267408,5.37932594182917,5.32674255136157,5.27345415498836,5.06303216649418,4.81488943996042,5.03544370758755,5.10949078466453,5.16084214752546,5.2517258403898,5.25203850270694,5.17571847357556,5.10107492733318,5.20622233050046,5.20307244934732,5.0850428267648,4.95424206954904,4.81810478110998,4.82327019090544,4.93566402911935,4.98588299591777,5.09740079677207,5.1049908254293,4.98274557011816,4.97722489897935,4.99229353841059,5.06943907043196,5.02625107847288,5.18549395258731,5.15508241022327,5.13393831510445,5.06657991961,5.0974693694888,5.07424612076882,5.02356243603223,5.02583017709091,5.05783063046239,5.10828955093158,5.16695886359727,5.27841224270891,5.30654230932017,5.36315028602444,5.32537987128044,5.34593683738317,5.43523893540694,5.54372650067794,5.56922735900603,5.56686216187947,5.55950594008489,5.67947653657252,5.63813931697985,5.43650359697091,5.30405754173133,5.3390120987513,5.43095780012055,5.50454141852451,5.57237047338345,5.57289916060014,5.43477104270973,5.4429242483239,5.44543167215469,5.51292094520497,5.46359129958609,5.52975837168271,5.56472112665892,5.54735918629817,5.45224449170976,5.04451762391809,4.80621625747447,5.18830697893635,5.33052084758187,5.4076700150655,5.477278258773,5.40052475820275,5.43168684962158,5.45263702086078,5.5365324047757,5.67205583234328,5.80393167667897,5.89501049808325,5.86886157296788,5.86650760350287,5.89372923517145,5.93070670600522,5.89370940509373,5.95678562152513,6.12299119698842,6.09275746449586,6.02770612241609,6.14768566613227,6.17882367368628,6.30309144413375,6.20310911797438,6.30266005137597,6.36462857868642,6.31607718469944],"text":["dt: 1994 jun<br />.val: 2.8106319","dt: 1994 jul<br />.val: 2.7272087","dt: 1994 ago<br />.val: 2.6370884","dt: 1994 set<br />.val: 2.6327470","dt: 1994 out<br />.val: 2.6664344","dt: 1994 nov<br />.val: 2.6210025","dt: 1994 dez<br />.val: 2.6568413","dt: 1995 jan<br />.val: 2.6794892","dt: 1995 fev<br />.val: 2.7298890","dt: 1995 mar<br />.val: 2.8272660","dt: 1995 abr<br />.val: 2.8080691","dt: 1995 mai<br />.val: 2.7617217","dt: 1995 jun<br />.val: 2.7088468","dt: 1995 jul<br />.val: 2.7444056","dt: 1995 ago<br />.val: 2.7678709","dt: 1995 set<br />.val: 2.7385508","dt: 1995 out<br />.val: 2.7836849","dt: 1995 nov<br />.val: 2.8611295","dt: 1995 dez<br />.val: 2.8589225","dt: 1996 jan<br />.val: 2.8506711","dt: 1996 fev<br />.val: 2.9459373","dt: 1996 mar<br />.val: 3.0197260","dt: 1996 abr<br />.val: 2.9433533","dt: 1996 mai<br />.val: 2.9299855","dt: 1996 jun<br />.val: 2.9795014","dt: 1996 jul<br />.val: 3.0273726","dt: 1996 ago<br />.val: 3.1290629","dt: 1996 set<br />.val: 3.1856737","dt: 1996 out<br />.val: 3.1469658","dt: 1996 nov<br />.val: 3.1976098","dt: 1996 dez<br />.val: 3.1903815","dt: 1997 jan<br />.val: 3.0695238","dt: 1997 fev<br />.val: 3.0225343","dt: 1997 mar<br />.val: 2.9473789","dt: 1997 abr<br />.val: 3.0311157","dt: 1997 mai<br />.val: 2.9614961","dt: 1997 jun<br />.val: 2.9895341","dt: 1997 jul<br />.val: 3.0131739","dt: 1997 ago<br />.val: 3.0181333","dt: 1997 set<br />.val: 3.0982231","dt: 1997 out<br />.val: 3.0567890","dt: 1997 nov<br />.val: 2.9587078","dt: 1997 dez<br />.val: 2.8375612","dt: 1998 jan<br />.val: 2.7780462","dt: 1998 fev<br />.val: 2.7083894","dt: 1998 mar<br />.val: 2.7499465","dt: 1998 abr<br />.val: 2.7768654","dt: 1998 mai<br />.val: 2.6937481","dt: 1998 jun<br />.val: 2.7022769","dt: 1998 jul<br />.val: 2.6870759","dt: 1998 ago<br />.val: 2.7939172","dt: 1998 set<br />.val: 2.7594137","dt: 1998 out<br />.val: 2.6521384","dt: 1998 nov<br />.val: 2.5321391","dt: 1998 dez<br />.val: 2.8406049","dt: 1999 jan<br />.val: 3.0218659","dt: 1999 fev<br />.val: 3.2214334","dt: 1999 mar<br />.val: 3.2874369","dt: 1999 abr<br />.val: 3.3020445","dt: 1999 mai<br />.val: 3.3700716","dt: 1999 jun<br />.val: 3.5281127","dt: 1999 jul<br />.val: 3.6444718","dt: 1999 ago<br />.val: 3.7712180","dt: 1999 set<br />.val: 3.7698218","dt: 1999 out<br />.val: 3.8507670","dt: 1999 nov<br />.val: 3.8357386","dt: 1999 dez<br />.val: 3.8224820","dt: 2000 jan<br />.val: 3.8786538","dt: 2000 fev<br />.val: 3.8633123","dt: 2000 mar<br />.val: 3.7324215","dt: 2000 abr<br />.val: 3.9102482","dt: 2000 mai<br />.val: 3.9855782","dt: 2000 jun<br />.val: 3.9285653","dt: 2000 jul<br />.val: 3.9931083","dt: 2000 ago<br />.val: 4.0854704","dt: 2000 set<br />.val: 4.0828694","dt: 2000 out<br />.val: 4.1485785","dt: 2000 nov<br />.val: 3.9023536","dt: 2000 dez<br />.val: 3.9227698","dt: 2001 jan<br />.val: 4.0012978","dt: 2001 fev<br />.val: 3.9619914","dt: 2001 mar<br />.val: 4.0364783","dt: 2001 abr<br />.val: 4.1429536","dt: 2001 mai<br />.val: 4.1634001","dt: 2001 jun<br />.val: 4.1152831","dt: 2001 jul<br />.val: 4.1695659","dt: 2001 ago<br />.val: 4.2167578","dt: 2001 set<br />.val: 4.0495316","dt: 2001 out<br />.val: 3.8575333","dt: 2001 nov<br />.val: 3.7799704","dt: 2001 dez<br />.val: 3.8237837","dt: 2002 jan<br />.val: 3.8837260","dt: 2002 fev<br />.val: 4.0216916","dt: 2002 mar<br />.val: 4.0764421","dt: 2002 abr<br />.val: 4.1515780","dt: 2002 mai<br />.val: 4.1975363","dt: 2002 jun<br />.val: 4.3228290","dt: 2002 jul<br />.val: 4.4171242","dt: 2002 ago<br />.val: 4.5480750","dt: 2002 set<br />.val: 4.6468112","dt: 2002 out<br />.val: 4.4756656","dt: 2002 nov<br />.val: 4.6178490","dt: 2002 dez<br />.val: 4.6520487","dt: 2003 jan<br />.val: 4.7703069","dt: 2003 fev<br />.val: 4.6508918","dt: 2003 mar<br />.val: 4.3777436","dt: 2003 abr<br />.val: 4.3404418","dt: 2003 mai<br />.val: 4.3853537","dt: 2003 jun<br />.val: 4.4090898","dt: 2003 jul<br />.val: 4.4870014","dt: 2003 ago<br />.val: 4.3625398","dt: 2003 set<br />.val: 4.4172471","dt: 2003 out<br />.val: 4.4373066","dt: 2003 nov<br />.val: 4.4696627","dt: 2003 dez<br />.val: 4.4915057","dt: 2004 jan<br />.val: 4.5152712","dt: 2004 fev<br />.val: 4.5780832","dt: 2004 mar<br />.val: 4.5882398","dt: 2004 abr<br />.val: 4.7547713","dt: 2004 mai<br />.val: 4.7140561","dt: 2004 jun<br />.val: 4.7465069","dt: 2004 jul<br />.val: 4.8331721","dt: 2004 ago<br />.val: 4.7908690","dt: 2004 set<br />.val: 4.8977438","dt: 2004 out<br />.val: 4.7667758","dt: 2004 nov<br />.val: 4.6631852","dt: 2004 dez<br />.val: 4.7515847","dt: 2005 jan<br />.val: 4.7478479","dt: 2005 fev<br />.val: 4.9267225","dt: 2005 mar<br />.val: 4.8757963","dt: 2005 abr<br />.val: 4.7710867","dt: 2005 mai<br />.val: 4.8722050","dt: 2005 jun<br />.val: 4.8997823","dt: 2005 jul<br />.val: 4.9866809","dt: 2005 ago<br />.val: 4.9585197","dt: 2005 set<br />.val: 4.8767237","dt: 2005 out<br />.val: 4.8016636","dt: 2005 nov<br />.val: 4.8632390","dt: 2005 dez<br />.val: 4.9536093","dt: 2006 jan<br />.val: 4.8626732","dt: 2006 fev<br />.val: 4.8827084","dt: 2006 mar<br />.val: 4.9767324","dt: 2006 abr<br />.val: 5.0110572","dt: 2006 mai<br />.val: 5.0358623","dt: 2006 jun<br />.val: 5.0671794","dt: 2006 jul<br />.val: 5.0422685","dt: 2006 ago<br />.val: 4.9028678","dt: 2006 set<br />.val: 4.8247056","dt: 2006 out<br />.val: 4.8352241","dt: 2006 nov<br />.val: 4.8762560","dt: 2006 dez<br />.val: 4.7449177","dt: 2007 jan<br />.val: 4.7948991","dt: 2007 fev<br />.val: 4.8404737","dt: 2007 mar<br />.val: 4.8858281","dt: 2007 abr<br />.val: 4.8615580","dt: 2007 mai<br />.val: 4.8787779","dt: 2007 jun<br />.val: 4.9288719","dt: 2007 jul<br />.val: 4.9298161","dt: 2007 ago<br />.val: 4.9811238","dt: 2007 set<br />.val: 4.9960035","dt: 2007 out<br />.val: 5.0855258","dt: 2007 nov<br />.val: 5.0786591","dt: 2007 dez<br />.val: 5.0817340","dt: 2008 jan<br />.val: 5.0833382","dt: 2008 fev<br />.val: 5.1551809","dt: 2008 mar<br />.val: 5.2135341","dt: 2008 abr<br />.val: 5.3183641","dt: 2008 mai<br />.val: 5.3617141","dt: 2008 jun<br />.val: 5.3513150","dt: 2008 jul<br />.val: 5.2165154","dt: 2008 ago<br />.val: 5.1912424","dt: 2008 set<br />.val: 5.0534469","dt: 2008 out<br />.val: 4.7857545","dt: 2008 nov<br />.val: 4.5725534","dt: 2008 dez<br />.val: 4.5904808","dt: 2009 jan<br />.val: 4.5600212","dt: 2009 fev<br />.val: 4.6740636","dt: 2009 mar<br />.val: 4.6956736","dt: 2009 abr<br />.val: 4.7808165","dt: 2009 mai<br />.val: 4.8989844","dt: 2009 jun<br />.val: 4.8295213","dt: 2009 jul<br />.val: 4.8863745","dt: 2009 ago<br />.val: 4.8176787","dt: 2009 set<br />.val: 4.8540073","dt: 2009 out<br />.val: 4.8914751","dt: 2009 nov<br />.val: 4.8743823","dt: 2009 dez<br />.val: 4.9205946","dt: 2010 jan<br />.val: 4.9211531","dt: 2010 fev<br />.val: 4.9555126","dt: 2010 mar<br />.val: 4.9959198","dt: 2010 abr<br />.val: 4.9159929","dt: 2010 mai<br />.val: 4.9056507","dt: 2010 jun<br />.val: 4.8839072","dt: 2010 jul<br />.val: 4.8941283","dt: 2010 ago<br />.val: 4.8747861","dt: 2010 set<br />.val: 4.9258374","dt: 2010 out<br />.val: 4.9723321","dt: 2010 nov<br />.val: 5.0258503","dt: 2010 dez<br />.val: 5.0456195","dt: 2011 jan<br />.val: 5.0882180","dt: 2011 fev<br />.val: 5.1921343","dt: 2011 mar<br />.val: 5.2157784","dt: 2011 abr<br />.val: 5.1589433","dt: 2011 mai<br />.val: 5.1236905","dt: 2011 jun<br />.val: 5.1323746","dt: 2011 jul<br />.val: 5.0763722","dt: 2011 ago<br />.val: 5.1695094","dt: 2011 set<br />.val: 5.1767209","dt: 2011 out<br />.val: 5.2340507","dt: 2011 nov<br />.val: 5.2477733","dt: 2011 dez<br />.val: 5.2479328","dt: 2012 jan<br />.val: 5.2572430","dt: 2012 fev<br />.val: 5.3418678","dt: 2012 mar<br />.val: 5.3328095","dt: 2012 abr<br />.val: 5.3179867","dt: 2012 mai<br />.val: 5.2158982","dt: 2012 jun<br />.val: 5.2772510","dt: 2012 jul<br />.val: 5.3640463","dt: 2012 ago<br />.val: 5.3693554","dt: 2012 set<br />.val: 5.3359147","dt: 2012 out<br />.val: 5.3148777","dt: 2012 nov<br />.val: 5.3079218","dt: 2012 dez<br />.val: 5.3341000","dt: 2013 jan<br />.val: 5.3545530","dt: 2013 fev<br />.val: 5.3160285","dt: 2013 mar<br />.val: 5.2867184","dt: 2013 abr<br />.val: 5.3089464","dt: 2013 mai<br />.val: 5.3787103","dt: 2013 jun<br />.val: 5.4680201","dt: 2013 jul<br />.val: 5.5344551","dt: 2013 ago<br />.val: 5.5080851","dt: 2013 set<br />.val: 5.4326821","dt: 2013 out<br />.val: 5.4497923","dt: 2013 nov<br />.val: 5.5056456","dt: 2013 dez<br />.val: 5.4853859","dt: 2014 jan<br />.val: 5.5029554","dt: 2014 fev<br />.val: 5.4613406","dt: 2014 mar<br />.val: 5.4287914","dt: 2014 abr<br />.val: 5.4352271","dt: 2014 mai<br />.val: 5.4707529","dt: 2014 jun<br />.val: 5.4227544","dt: 2014 jul<br />.val: 5.3839643","dt: 2014 ago<br />.val: 5.3793259","dt: 2014 set<br />.val: 5.3267426","dt: 2014 out<br />.val: 5.2734542","dt: 2014 nov<br />.val: 5.0630322","dt: 2014 dez<br />.val: 4.8148894","dt: 2015 jan<br />.val: 5.0354437","dt: 2015 fev<br />.val: 5.1094908","dt: 2015 mar<br />.val: 5.1608421","dt: 2015 abr<br />.val: 5.2517258","dt: 2015 mai<br />.val: 5.2520385","dt: 2015 jun<br />.val: 5.1757185","dt: 2015 jul<br />.val: 5.1010749","dt: 2015 ago<br />.val: 5.2062223","dt: 2015 set<br />.val: 5.2030724","dt: 2015 out<br />.val: 5.0850428","dt: 2015 nov<br />.val: 4.9542421","dt: 2015 dez<br />.val: 4.8181048","dt: 2016 jan<br />.val: 4.8232702","dt: 2016 fev<br />.val: 4.9356640","dt: 2016 mar<br />.val: 4.9858830","dt: 2016 abr<br />.val: 5.0974008","dt: 2016 mai<br />.val: 5.1049908","dt: 2016 jun<br />.val: 4.9827456","dt: 2016 jul<br />.val: 4.9772249","dt: 2016 ago<br />.val: 4.9922935","dt: 2016 set<br />.val: 5.0694391","dt: 2016 out<br />.val: 5.0262511","dt: 2016 nov<br />.val: 5.1854940","dt: 2016 dez<br />.val: 5.1550824","dt: 2017 jan<br />.val: 5.1339383","dt: 2017 fev<br />.val: 5.0665799","dt: 2017 mar<br />.val: 5.0974694","dt: 2017 abr<br />.val: 5.0742461","dt: 2017 mai<br />.val: 5.0235624","dt: 2017 jun<br />.val: 5.0258302","dt: 2017 jul<br />.val: 5.0578306","dt: 2017 ago<br />.val: 5.1082896","dt: 2017 set<br />.val: 5.1669589","dt: 2017 out<br />.val: 5.2784122","dt: 2017 nov<br />.val: 5.3065423","dt: 2017 dez<br />.val: 5.3631503","dt: 2018 jan<br />.val: 5.3253799","dt: 2018 fev<br />.val: 5.3459368","dt: 2018 mar<br />.val: 5.4352389","dt: 2018 abr<br />.val: 5.5437265","dt: 2018 mai<br />.val: 5.5692274","dt: 2018 jun<br />.val: 5.5668622","dt: 2018 jul<br />.val: 5.5595059","dt: 2018 ago<br />.val: 5.6794765","dt: 2018 set<br />.val: 5.6381393","dt: 2018 out<br />.val: 5.4365036","dt: 2018 nov<br />.val: 5.3040575","dt: 2018 dez<br />.val: 5.3390121","dt: 2019 jan<br />.val: 5.4309578","dt: 2019 fev<br />.val: 5.5045414","dt: 2019 mar<br />.val: 5.5723705","dt: 2019 abr<br />.val: 5.5728992","dt: 2019 mai<br />.val: 5.4347710","dt: 2019 jun<br />.val: 5.4429242","dt: 2019 jul<br />.val: 5.4454317","dt: 2019 ago<br />.val: 5.5129209","dt: 2019 set<br />.val: 5.4635913","dt: 2019 out<br />.val: 5.5297584","dt: 2019 nov<br />.val: 5.5647211","dt: 2019 dez<br />.val: 5.5473592","dt: 2020 jan<br />.val: 5.4522445","dt: 2020 fev<br />.val: 5.0445176","dt: 2020 mar<br />.val: 4.8062163","dt: 2020 abr<br />.val: 5.1883070","dt: 2020 mai<br />.val: 5.3305208","dt: 2020 jun<br />.val: 5.4076700","dt: 2020 jul<br />.val: 5.4772783","dt: 2020 ago<br />.val: 5.4005248","dt: 2020 set<br />.val: 5.4316868","dt: 2020 out<br />.val: 5.4526370","dt: 2020 nov<br />.val: 5.5365324","dt: 2020 dez<br />.val: 5.6720558","dt: 2021 jan<br />.val: 5.8039317","dt: 2021 fev<br />.val: 5.8950105","dt: 2021 mar<br />.val: 5.8688616","dt: 2021 abr<br />.val: 5.8665076","dt: 2021 mai<br />.val: 5.8937292","dt: 2021 jun<br />.val: 5.9307067","dt: 2021 jul<br />.val: 5.8937094","dt: 2021 ago<br />.val: 5.9567856","dt: 2021 set<br />.val: 6.1229912","dt: 2021 out<br />.val: 6.0927575","dt: 2021 nov<br />.val: 6.0277061","dt: 2021 dez<br />.val: 6.1476857","dt: 2022 jan<br />.val: 6.1788237","dt: 2022 fev<br />.val: 6.3030914","dt: 2022 mar<br />.val: 6.2031091","dt: 2022 abr<br />.val: 6.3026601","dt: 2022 mai<br />.val: 6.3646286","dt: 2022 jun<br />.val: 6.3160772"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[8946,8977,9008,9038,9069,9099,9130,9161,9189,9220,9250,9281,9311,9342,9373,9403,9434,9464,9495,9526,9555,9586,9616,9647,9677,9708,9739,9769,9800,9830,9861,9892,9920,9951,9981,10012,10042,10073,10104,10134,10165,10195,10226,10257,10285,10316,10346,10377,10407,10438,10469,10499,10530,10560,10591,10622,10650,10681,10711,10742,10772,10803,10834,10864,10895,10925,10956,10987,11016,11047,11077,11108,11138,11169,11200,11230,11261,11291,11322,11353,11381,11412,11442,11473,11503,11534,11565,11595,11626,11656,11687,11718,11746,11777,11807,11838,11868,11899,11930,11960,11991,12021,12052,12083,12111,12142,12172,12203,12233,12264,12295,12325,12356,12386,12417,12448,12477,12508,12538,12569,12599,12630,12661,12691,12722,12752,12783,12814,12842,12873,12903,12934,12964,12995,13026,13056,13087,13117,13148,13179,13207,13238,13268,13299,13329,13360,13391,13421,13452,13482,13513,13544,13572,13603,13633,13664,13694,13725,13756,13786,13817,13847,13878,13909,13938,13969,13999,14030,14060,14091,14122,14152,14183,14213,14244,14275,14303,14334,14364,14395,14425,14456,14487,14517,14548,14578,14609,14640,14668,14699,14729,14760,14790,14821,14852,14882,14913,14943,14974,15005,15033,15064,15094,15125,15155,15186,15217,15247,15278,15308,15339,15370,15399,15430,15460,15491,15521,15552,15583,15613,15644,15674,15705,15736,15764,15795,15825,15856,15886,15917,15948,15978,16009,16039,16070,16101,16129,16160,16190,16221,16251,16282,16313,16343,16374,16404,16435,16466,16494,16525,16555,16586,16616,16647,16678,16708,16739,16769,16800,16831,16860,16891,16921,16952,16982,17013,17044,17074,17105,17135,17166,17197,17225,17256,17286,17317,17347,17378,17409,17439,17470,17500,17531,17562,17590,17621,17651,17682,17712,17743,17774,17804,17835,17865,17896,17927,17955,17986,18016,18047,18077,18108,18139,18169,18200,18230,18261,18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596,18627,18658,18686,18717,18747,18778,18808,18839,18870,18900,18931,18961,18992,19023,19051,19082,19112,19143,19173],"y":[null,null,null,null,null,null,2.70895804970735,2.70543353852984,2.71159934756958,2.72145711177914,2.73075104123919,2.7456417718632,2.76406711164055,2.77961973770945,2.79575432741067,2.81277550208914,2.82643150962864,2.83907934477838,2.85736761438839,2.88043518566307,2.90727514353183,2.94095492852873,2.9747217516797,3.00387846965897,3.03170927644204,3.05463893061242,3.0669493359854,3.06712641674887,3.06776871862747,3.07273842622608,3.07446939775805,3.07429581146605,3.0690821331436,3.06081629465325,3.05341515599895,3.03970353966886,3.0150484442941,2.98820269984984,2.96296842768331,2.94165270950983,2.92283260246466,2.90108267554377,2.87795745568474,2.85240098544353,2.82947123116456,2.80601183499091,2.7750343345244,2.74040019916149,2.72275332350256,2.73303929714609,2.76457528499245,2.80834755120939,2.85262544417238,2.90268804619806,2.96527801707406,3.03957934229279,3.12019170465065,3.20301291021721,3.29505610661317,3.39931560935477,3.49454380219727,3.57115484373625,3.63359929172774,3.67888526948282,3.72276811887776,3.77375605208796,3.81608768329356,3.84729972692424,3.87492009768579,3.9010575954917,3.92651005591092,3.94169449078603,3.94864877227156,3.95793759788542,3.96715939472121,3.98394005739912,4.00630514489029,4.02341044633579,4.0385996028232,4.053731913217,4.06655462059739,4.07063585429161,4.05711989769581,4.03989371460098,4.03066999582626,4.02164675291151,4.01923543978096,4.02338811015505,4.02541262231834,4.02719431675515,4.03726440307046,4.05622707678538,4.08034689295274,4.11903843050383,4.16968059659719,4.2303477219575,4.29977037305875,4.37122228421335,4.43437982772624,4.47315073029219,4.4935742848893,4.50926933373293,4.52068925781203,4.52719500806299,4.52237592134206,4.5050801136258,4.49391664672881,4.48614392206763,4.473280200934,4.45596442377203,4.44230424638218,4.44804122714175,4.47407562835977,4.5050352922287,4.53279027324682,4.56127309746304,4.59354392733977,4.63141167190471,4.66516025097683,4.6869515711794,4.70585162824379,4.72637894454453,4.7505962782935,4.77710443942715,4.78976576762533,4.79703511157667,4.81001112387199,4.8227937975295,4.83617543986876,4.84228504733593,4.84286287069799,4.85265210893933,4.86940537921303,4.88260745928778,4.88555792439079,4.8879296724195,4.90213411556307,4.91895194123727,4.93274587577114,4.94203690676656,4.94203423065375,4.93754798412651,4.93677891524421,4.93871964152661,4.93056653620734,4.91904713796325,4.91446343944143,4.90891598111285,4.89889917012436,4.88612485646469,4.87381686018814,4.86336852965863,4.86194368047753,4.87234175807669,4.88990840658982,4.9087711051142,4.93123857683137,4.95729088027435,4.98242197667981,5.00918919313832,5.04187719319009,5.08103312164841,5.11875726212383,5.14830486459206,5.16900561144768,5.1801540315668,5.17005703907955,5.1364788308263,5.09492220918872,5.05264845093633,5.01079702036756,4.96917294553544,4.92519760880776,4.88351938538845,4.84249757508252,4.80700029871466,4.77767927202127,4.75380413237806,4.74989917335003,4.76688040515689,4.79321135111357,4.82201325523743,4.84878746192965,4.87302476142372,4.89116737006062,4.89707748433696,4.899621324335,4.90221047768978,4.90491302889306,4.9102854251238,4.91664738718048,4.92632759338948,4.93784813222389,4.95001854339481,4.96683881825246,4.98585883185952,5.00514254133779,5.02435046761868,5.0437882710353,5.06173457777652,5.08160821079992,5.10434182708403,5.12570024738601,5.14585197998986,5.16352849011187,5.1790009156649,5.19228251755555,5.2033977098481,5.21490081279905,5.22536960441755,5.23524810395048,5.25327103834118,5.27358437548328,5.28854436540686,5.29854523000606,5.3044192103134,5.31051569981121,5.3181605839699,5.32113853008356,5.31814142915558,5.31584429006222,5.32225145121407,5.33698400085008,5.35203308130026,5.36491385470771,5.37472623785331,5.38437965752845,5.39823959044497,5.4127816641236,5.42526868005244,5.43750678537893,5.44948116358199,5.46066256582776,5.46975937130435,5.47170841081735,5.46355189020402,5.45191647308293,5.44213735725386,5.43037578667826,5.40458613773232,5.35820655576602,5.3107895468579,5.27664948250772,5.25082452206103,5.23201408402432,5.21525509585127,5.19584883243075,5.17376861151005,5.15476890272936,5.14240333134007,5.1293999384135,5.11701654569814,5.11261759753999,5.1039110068928,5.08782766221666,5.07329491608529,5.05957474128423,5.04701754458026,5.03285002038297,5.01964906489083,5.00557494737234,4.99109319024712,4.98307547661349,4.99026131556125,5.01393754523423,5.04092278495558,5.05932211890098,5.06942637990355,5.07311103396887,5.06875340624386,5.06715574864285,5.07230951274517,5.08050125207867,5.08939774398227,5.10396778387399,5.11951818058103,5.13323135693661,5.149877583269,5.16949418635021,5.19520778983735,5.22884320424682,5.27114092520027,5.3164199630237,5.35986610029083,5.40456869592681,5.44800067255279,5.47422033120465,5.48070393898269,5.47959464919678,5.48298797176207,5.49399557634463,5.50631791464121,5.51324725622032,5.50886043720473,5.4980940109609,5.48817683673233,5.47648392592826,5.4622712755632,5.45888405711812,5.47363065543643,5.49317276678953,5.5027408409202,5.48446012829448,5.43336937785634,5.38542161129081,5.36505317892449,5.3592404944084,5.35909850913173,5.3557422757824,5.34972974924212,5.34518700754268,5.34079908784664,5.34482025135338,5.36466957764564,5.41476041344291,5.49447450467868,5.56700975218118,5.61873512768769,5.66399533929307,5.70313983251226,5.74366866624739,5.79565055002611,5.85112658298452,5.89826383970433,5.93854732101389,5.9739857306304,6.00660960325781,6.03753995705185,6.06963995675517,6.10743378139634,6.14311169065505,null,null,null,null,null,null],"text":["dt: 1994 jun<br />.val:        NA","dt: 1994 jul<br />.val:        NA","dt: 1994 ago<br />.val:        NA","dt: 1994 set<br />.val:        NA","dt: 1994 out<br />.val:        NA","dt: 1994 nov<br />.val:        NA","dt: 1994 dez<br />.val: 2.7089580","dt: 1995 jan<br />.val: 2.7054335","dt: 1995 fev<br />.val: 2.7115993","dt: 1995 mar<br />.val: 2.7214571","dt: 1995 abr<br />.val: 2.7307510","dt: 1995 mai<br />.val: 2.7456418","dt: 1995 jun<br />.val: 2.7640671","dt: 1995 jul<br />.val: 2.7796197","dt: 1995 ago<br />.val: 2.7957543","dt: 1995 set<br />.val: 2.8127755","dt: 1995 out<br />.val: 2.8264315","dt: 1995 nov<br />.val: 2.8390793","dt: 1995 dez<br />.val: 2.8573676","dt: 1996 jan<br />.val: 2.8804352","dt: 1996 fev<br />.val: 2.9072751","dt: 1996 mar<br />.val: 2.9409549","dt: 1996 abr<br />.val: 2.9747218","dt: 1996 mai<br />.val: 3.0038785","dt: 1996 jun<br />.val: 3.0317093","dt: 1996 jul<br />.val: 3.0546389","dt: 1996 ago<br />.val: 3.0669493","dt: 1996 set<br />.val: 3.0671264","dt: 1996 out<br />.val: 3.0677687","dt: 1996 nov<br />.val: 3.0727384","dt: 1996 dez<br />.val: 3.0744694","dt: 1997 jan<br />.val: 3.0742958","dt: 1997 fev<br />.val: 3.0690821","dt: 1997 mar<br />.val: 3.0608163","dt: 1997 abr<br />.val: 3.0534152","dt: 1997 mai<br />.val: 3.0397035","dt: 1997 jun<br />.val: 3.0150484","dt: 1997 jul<br />.val: 2.9882027","dt: 1997 ago<br />.val: 2.9629684","dt: 1997 set<br />.val: 2.9416527","dt: 1997 out<br />.val: 2.9228326","dt: 1997 nov<br />.val: 2.9010827","dt: 1997 dez<br />.val: 2.8779575","dt: 1998 jan<br />.val: 2.8524010","dt: 1998 fev<br />.val: 2.8294712","dt: 1998 mar<br />.val: 2.8060118","dt: 1998 abr<br />.val: 2.7750343","dt: 1998 mai<br />.val: 2.7404002","dt: 1998 jun<br />.val: 2.7227533","dt: 1998 jul<br />.val: 2.7330393","dt: 1998 ago<br />.val: 2.7645753","dt: 1998 set<br />.val: 2.8083476","dt: 1998 out<br />.val: 2.8526254","dt: 1998 nov<br />.val: 2.9026880","dt: 1998 dez<br />.val: 2.9652780","dt: 1999 jan<br />.val: 3.0395793","dt: 1999 fev<br />.val: 3.1201917","dt: 1999 mar<br />.val: 3.2030129","dt: 1999 abr<br />.val: 3.2950561","dt: 1999 mai<br />.val: 3.3993156","dt: 1999 jun<br />.val: 3.4945438","dt: 1999 jul<br />.val: 3.5711548","dt: 1999 ago<br />.val: 3.6335993","dt: 1999 set<br />.val: 3.6788853","dt: 1999 out<br />.val: 3.7227681","dt: 1999 nov<br />.val: 3.7737561","dt: 1999 dez<br />.val: 3.8160877","dt: 2000 jan<br />.val: 3.8472997","dt: 2000 fev<br />.val: 3.8749201","dt: 2000 mar<br />.val: 3.9010576","dt: 2000 abr<br />.val: 3.9265101","dt: 2000 mai<br />.val: 3.9416945","dt: 2000 jun<br />.val: 3.9486488","dt: 2000 jul<br />.val: 3.9579376","dt: 2000 ago<br />.val: 3.9671594","dt: 2000 set<br />.val: 3.9839401","dt: 2000 out<br />.val: 4.0063051","dt: 2000 nov<br />.val: 4.0234104","dt: 2000 dez<br />.val: 4.0385996","dt: 2001 jan<br />.val: 4.0537319","dt: 2001 fev<br />.val: 4.0665546","dt: 2001 mar<br />.val: 4.0706359","dt: 2001 abr<br />.val: 4.0571199","dt: 2001 mai<br />.val: 4.0398937","dt: 2001 jun<br />.val: 4.0306700","dt: 2001 jul<br />.val: 4.0216468","dt: 2001 ago<br />.val: 4.0192354","dt: 2001 set<br />.val: 4.0233881","dt: 2001 out<br />.val: 4.0254126","dt: 2001 nov<br />.val: 4.0271943","dt: 2001 dez<br />.val: 4.0372644","dt: 2002 jan<br />.val: 4.0562271","dt: 2002 fev<br />.val: 4.0803469","dt: 2002 mar<br />.val: 4.1190384","dt: 2002 abr<br />.val: 4.1696806","dt: 2002 mai<br />.val: 4.2303477","dt: 2002 jun<br />.val: 4.2997704","dt: 2002 jul<br />.val: 4.3712223","dt: 2002 ago<br />.val: 4.4343798","dt: 2002 set<br />.val: 4.4731507","dt: 2002 out<br />.val: 4.4935743","dt: 2002 nov<br />.val: 4.5092693","dt: 2002 dez<br />.val: 4.5206893","dt: 2003 jan<br />.val: 4.5271950","dt: 2003 fev<br />.val: 4.5223759","dt: 2003 mar<br />.val: 4.5050801","dt: 2003 abr<br />.val: 4.4939166","dt: 2003 mai<br />.val: 4.4861439","dt: 2003 jun<br />.val: 4.4732802","dt: 2003 jul<br />.val: 4.4559644","dt: 2003 ago<br />.val: 4.4423042","dt: 2003 set<br />.val: 4.4480412","dt: 2003 out<br />.val: 4.4740756","dt: 2003 nov<br />.val: 4.5050353","dt: 2003 dez<br />.val: 4.5327903","dt: 2004 jan<br />.val: 4.5612731","dt: 2004 fev<br />.val: 4.5935439","dt: 2004 mar<br />.val: 4.6314117","dt: 2004 abr<br />.val: 4.6651603","dt: 2004 mai<br />.val: 4.6869516","dt: 2004 jun<br />.val: 4.7058516","dt: 2004 jul<br />.val: 4.7263789","dt: 2004 ago<br />.val: 4.7505963","dt: 2004 set<br />.val: 4.7771044","dt: 2004 out<br />.val: 4.7897658","dt: 2004 nov<br />.val: 4.7970351","dt: 2004 dez<br />.val: 4.8100111","dt: 2005 jan<br />.val: 4.8227938","dt: 2005 fev<br />.val: 4.8361754","dt: 2005 mar<br />.val: 4.8422850","dt: 2005 abr<br />.val: 4.8428629","dt: 2005 mai<br />.val: 4.8526521","dt: 2005 jun<br />.val: 4.8694054","dt: 2005 jul<br />.val: 4.8826075","dt: 2005 ago<br />.val: 4.8855579","dt: 2005 set<br />.val: 4.8879297","dt: 2005 out<br />.val: 4.9021341","dt: 2005 nov<br />.val: 4.9189519","dt: 2005 dez<br />.val: 4.9327459","dt: 2006 jan<br />.val: 4.9420369","dt: 2006 fev<br />.val: 4.9420342","dt: 2006 mar<br />.val: 4.9375480","dt: 2006 abr<br />.val: 4.9367789","dt: 2006 mai<br />.val: 4.9387196","dt: 2006 jun<br />.val: 4.9305665","dt: 2006 jul<br />.val: 4.9190471","dt: 2006 ago<br />.val: 4.9144634","dt: 2006 set<br />.val: 4.9089160","dt: 2006 out<br />.val: 4.8988992","dt: 2006 nov<br />.val: 4.8861249","dt: 2006 dez<br />.val: 4.8738169","dt: 2007 jan<br />.val: 4.8633685","dt: 2007 fev<br />.val: 4.8619437","dt: 2007 mar<br />.val: 4.8723418","dt: 2007 abr<br />.val: 4.8899084","dt: 2007 mai<br />.val: 4.9087711","dt: 2007 jun<br />.val: 4.9312386","dt: 2007 jul<br />.val: 4.9572909","dt: 2007 ago<br />.val: 4.9824220","dt: 2007 set<br />.val: 5.0091892","dt: 2007 out<br />.val: 5.0418772","dt: 2007 nov<br />.val: 5.0810331","dt: 2007 dez<br />.val: 5.1187573","dt: 2008 jan<br />.val: 5.1483049","dt: 2008 fev<br />.val: 5.1690056","dt: 2008 mar<br />.val: 5.1801540","dt: 2008 abr<br />.val: 5.1700570","dt: 2008 mai<br />.val: 5.1364788","dt: 2008 jun<br />.val: 5.0949222","dt: 2008 jul<br />.val: 5.0526485","dt: 2008 ago<br />.val: 5.0107970","dt: 2008 set<br />.val: 4.9691729","dt: 2008 out<br />.val: 4.9251976","dt: 2008 nov<br />.val: 4.8835194","dt: 2008 dez<br />.val: 4.8424976","dt: 2009 jan<br />.val: 4.8070003","dt: 2009 fev<br />.val: 4.7776793","dt: 2009 mar<br />.val: 4.7538041","dt: 2009 abr<br />.val: 4.7498992","dt: 2009 mai<br />.val: 4.7668804","dt: 2009 jun<br />.val: 4.7932114","dt: 2009 jul<br />.val: 4.8220133","dt: 2009 ago<br />.val: 4.8487875","dt: 2009 set<br />.val: 4.8730248","dt: 2009 out<br />.val: 4.8911674","dt: 2009 nov<br />.val: 4.8970775","dt: 2009 dez<br />.val: 4.8996213","dt: 2010 jan<br />.val: 4.9022105","dt: 2010 fev<br />.val: 4.9049130","dt: 2010 mar<br />.val: 4.9102854","dt: 2010 abr<br />.val: 4.9166474","dt: 2010 mai<br />.val: 4.9263276","dt: 2010 jun<br />.val: 4.9378481","dt: 2010 jul<br />.val: 4.9500185","dt: 2010 ago<br />.val: 4.9668388","dt: 2010 set<br />.val: 4.9858588","dt: 2010 out<br />.val: 5.0051425","dt: 2010 nov<br />.val: 5.0243505","dt: 2010 dez<br />.val: 5.0437883","dt: 2011 jan<br />.val: 5.0617346","dt: 2011 fev<br />.val: 5.0816082","dt: 2011 mar<br />.val: 5.1043418","dt: 2011 abr<br />.val: 5.1257002","dt: 2011 mai<br />.val: 5.1458520","dt: 2011 jun<br />.val: 5.1635285","dt: 2011 jul<br />.val: 5.1790009","dt: 2011 ago<br />.val: 5.1922825","dt: 2011 set<br />.val: 5.2033977","dt: 2011 out<br />.val: 5.2149008","dt: 2011 nov<br />.val: 5.2253696","dt: 2011 dez<br />.val: 5.2352481","dt: 2012 jan<br />.val: 5.2532710","dt: 2012 fev<br />.val: 5.2735844","dt: 2012 mar<br />.val: 5.2885444","dt: 2012 abr<br />.val: 5.2985452","dt: 2012 mai<br />.val: 5.3044192","dt: 2012 jun<br />.val: 5.3105157","dt: 2012 jul<br />.val: 5.3181606","dt: 2012 ago<br />.val: 5.3211385","dt: 2012 set<br />.val: 5.3181414","dt: 2012 out<br />.val: 5.3158443","dt: 2012 nov<br />.val: 5.3222515","dt: 2012 dez<br />.val: 5.3369840","dt: 2013 jan<br />.val: 5.3520331","dt: 2013 fev<br />.val: 5.3649139","dt: 2013 mar<br />.val: 5.3747262","dt: 2013 abr<br />.val: 5.3843797","dt: 2013 mai<br />.val: 5.3982396","dt: 2013 jun<br />.val: 5.4127817","dt: 2013 jul<br />.val: 5.4252687","dt: 2013 ago<br />.val: 5.4375068","dt: 2013 set<br />.val: 5.4494812","dt: 2013 out<br />.val: 5.4606626","dt: 2013 nov<br />.val: 5.4697594","dt: 2013 dez<br />.val: 5.4717084","dt: 2014 jan<br />.val: 5.4635519","dt: 2014 fev<br />.val: 5.4519165","dt: 2014 mar<br />.val: 5.4421374","dt: 2014 abr<br />.val: 5.4303758","dt: 2014 mai<br />.val: 5.4045861","dt: 2014 jun<br />.val: 5.3582066","dt: 2014 jul<br />.val: 5.3107895","dt: 2014 ago<br />.val: 5.2766495","dt: 2014 set<br />.val: 5.2508245","dt: 2014 out<br />.val: 5.2320141","dt: 2014 nov<br />.val: 5.2152551","dt: 2014 dez<br />.val: 5.1958488","dt: 2015 jan<br />.val: 5.1737686","dt: 2015 fev<br />.val: 5.1547689","dt: 2015 mar<br />.val: 5.1424033","dt: 2015 abr<br />.val: 5.1293999","dt: 2015 mai<br />.val: 5.1170165","dt: 2015 jun<br />.val: 5.1126176","dt: 2015 jul<br />.val: 5.1039110","dt: 2015 ago<br />.val: 5.0878277","dt: 2015 set<br />.val: 5.0732949","dt: 2015 out<br />.val: 5.0595747","dt: 2015 nov<br />.val: 5.0470175","dt: 2015 dez<br />.val: 5.0328500","dt: 2016 jan<br />.val: 5.0196491","dt: 2016 fev<br />.val: 5.0055749","dt: 2016 mar<br />.val: 4.9910932","dt: 2016 abr<br />.val: 4.9830755","dt: 2016 mai<br />.val: 4.9902613","dt: 2016 jun<br />.val: 5.0139375","dt: 2016 jul<br />.val: 5.0409228","dt: 2016 ago<br />.val: 5.0593221","dt: 2016 set<br />.val: 5.0694264","dt: 2016 out<br />.val: 5.0731110","dt: 2016 nov<br />.val: 5.0687534","dt: 2016 dez<br />.val: 5.0671557","dt: 2017 jan<br />.val: 5.0723095","dt: 2017 fev<br />.val: 5.0805013","dt: 2017 mar<br />.val: 5.0893977","dt: 2017 abr<br />.val: 5.1039678","dt: 2017 mai<br />.val: 5.1195182","dt: 2017 jun<br />.val: 5.1332314","dt: 2017 jul<br />.val: 5.1498776","dt: 2017 ago<br />.val: 5.1694942","dt: 2017 set<br />.val: 5.1952078","dt: 2017 out<br />.val: 5.2288432","dt: 2017 nov<br />.val: 5.2711409","dt: 2017 dez<br />.val: 5.3164200","dt: 2018 jan<br />.val: 5.3598661","dt: 2018 fev<br />.val: 5.4045687","dt: 2018 mar<br />.val: 5.4480007","dt: 2018 abr<br />.val: 5.4742203","dt: 2018 mai<br />.val: 5.4807039","dt: 2018 jun<br />.val: 5.4795946","dt: 2018 jul<br />.val: 5.4829880","dt: 2018 ago<br />.val: 5.4939956","dt: 2018 set<br />.val: 5.5063179","dt: 2018 out<br />.val: 5.5132473","dt: 2018 nov<br />.val: 5.5088604","dt: 2018 dez<br />.val: 5.4980940","dt: 2019 jan<br />.val: 5.4881768","dt: 2019 fev<br />.val: 5.4764839","dt: 2019 mar<br />.val: 5.4622713","dt: 2019 abr<br />.val: 5.4588841","dt: 2019 mai<br />.val: 5.4736307","dt: 2019 jun<br />.val: 5.4931728","dt: 2019 jul<br />.val: 5.5027408","dt: 2019 ago<br />.val: 5.4844601","dt: 2019 set<br />.val: 5.4333694","dt: 2019 out<br />.val: 5.3854216","dt: 2019 nov<br />.val: 5.3650532","dt: 2019 dez<br />.val: 5.3592405","dt: 2020 jan<br />.val: 5.3590985","dt: 2020 fev<br />.val: 5.3557423","dt: 2020 mar<br />.val: 5.3497297","dt: 2020 abr<br />.val: 5.3451870","dt: 2020 mai<br />.val: 5.3407991","dt: 2020 jun<br />.val: 5.3448203","dt: 2020 jul<br />.val: 5.3646696","dt: 2020 ago<br />.val: 5.4147604","dt: 2020 set<br />.val: 5.4944745","dt: 2020 out<br />.val: 5.5670098","dt: 2020 nov<br />.val: 5.6187351","dt: 2020 dez<br />.val: 5.6639953","dt: 2021 jan<br />.val: 5.7031398","dt: 2021 fev<br />.val: 5.7436687","dt: 2021 mar<br />.val: 5.7956506","dt: 2021 abr<br />.val: 5.8511266","dt: 2021 mai<br />.val: 5.8982638","dt: 2021 jun<br />.val: 5.9385473","dt: 2021 jul<br />.val: 5.9739857","dt: 2021 ago<br />.val: 6.0066096","dt: 2021 set<br />.val: 6.0375400","dt: 2021 out<br />.val: 6.0696400","dt: 2021 nov<br />.val: 6.1074338","dt: 2021 dez<br />.val: 6.1431117","dt: 2022 jan<br />.val:        NA","dt: 2022 fev<br />.val:        NA","dt: 2022 mar<br />.val:        NA","dt: 2022 abr<br />.val:        NA","dt: 2022 mai<br />.val:        NA","dt: 2022 jun<br />.val:        NA"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[8946,8977,9008,9038,9069,9099,9130,9161,9189,9220,9250,9281,9311,9342,9373,9403,9434,9464,9495,9526,9555,9586,9616,9647,9677,9708,9739,9769,9800,9830,9861,9892,9920,9951,9981,10012,10042,10073,10104,10134,10165,10195,10226,10257,10285,10316,10346,10377,10407,10438,10469,10499,10530,10560,10591,10622,10650,10681,10711,10742,10772,10803,10834,10864,10895,10925,10956,10987,11016,11047,11077,11108,11138,11169,11200,11230,11261,11291,11322,11353,11381,11412,11442,11473,11503,11534,11565,11595,11626,11656,11687,11718,11746,11777,11807,11838,11868,11899,11930,11960,11991,12021,12052,12083,12111,12142,12172,12203,12233,12264,12295,12325,12356,12386,12417,12448,12477,12508,12538,12569,12599,12630,12661,12691,12722,12752,12783,12814,12842,12873,12903,12934,12964,12995,13026,13056,13087,13117,13148,13179,13207,13238,13268,13299,13329,13360,13391,13421,13452,13482,13513,13544,13572,13603,13633,13664,13694,13725,13756,13786,13817,13847,13878,13909,13938,13969,13999,14030,14060,14091,14122,14152,14183,14213,14244,14275,14303,14334,14364,14395,14425,14456,14487,14517,14548,14578,14609,14640,14668,14699,14729,14760,14790,14821,14852,14882,14913,14943,14974,15005,15033,15064,15094,15125,15155,15186,15217,15247,15278,15308,15339,15370,15399,15430,15460,15491,15521,15552,15583,15613,15644,15674,15705,15736,15764,15795,15825,15856,15886,15917,15948,15978,16009,16039,16070,16101,16129,16160,16190,16221,16251,16282,16313,16343,16374,16404,16435,16466,16494,16525,16555,16586,16616,16647,16678,16708,16739,16769,16800,16831,16860,16891,16921,16952,16982,17013,17044,17074,17105,17135,17166,17197,17225,17256,17286,17317,17347,17378,17409,17439,17470,17500,17531,17562,17590,17621,17651,17682,17712,17743,17774,17804,17835,17865,17896,17927,17955,17986,18016,18047,18077,18108,18139,18169,18200,18230,18261,18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596,18627,18658,18686,18717,18747,18778,18808,18839,18870,18900,18931,18961,18992,19023,19051,19082,19112,19143,19173],"y":[1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222,1.00600640573924,1.00989469237476,1.00778139345581,0.998388330793761,0.990464415176926,0.990891155380007,0.993447929454603,0.997664566583414,0.996922514205086,1.00345290389428,1.00239375815989,1.00269193478222],"text":["dt: 1994 jun<br />.val: 1.0026919","dt: 1994 jul<br />.val: 1.0060064","dt: 1994 ago<br />.val: 1.0098947","dt: 1994 set<br />.val: 1.0077814","dt: 1994 out<br />.val: 0.9983883","dt: 1994 nov<br />.val: 0.9904644","dt: 1994 dez<br />.val: 0.9908912","dt: 1995 jan<br />.val: 0.9934479","dt: 1995 fev<br />.val: 0.9976646","dt: 1995 mar<br />.val: 0.9969225","dt: 1995 abr<br />.val: 1.0034529","dt: 1995 mai<br />.val: 1.0023938","dt: 1995 jun<br />.val: 1.0026919","dt: 1995 jul<br />.val: 1.0060064","dt: 1995 ago<br />.val: 1.0098947","dt: 1995 set<br />.val: 1.0077814","dt: 1995 out<br />.val: 0.9983883","dt: 1995 nov<br />.val: 0.9904644","dt: 1995 dez<br />.val: 0.9908912","dt: 1996 jan<br />.val: 0.9934479","dt: 1996 fev<br />.val: 0.9976646","dt: 1996 mar<br />.val: 0.9969225","dt: 1996 abr<br />.val: 1.0034529","dt: 1996 mai<br />.val: 1.0023938","dt: 1996 jun<br />.val: 1.0026919","dt: 1996 jul<br />.val: 1.0060064","dt: 1996 ago<br />.val: 1.0098947","dt: 1996 set<br />.val: 1.0077814","dt: 1996 out<br />.val: 0.9983883","dt: 1996 nov<br />.val: 0.9904644","dt: 1996 dez<br />.val: 0.9908912","dt: 1997 jan<br />.val: 0.9934479","dt: 1997 fev<br />.val: 0.9976646","dt: 1997 mar<br />.val: 0.9969225","dt: 1997 abr<br />.val: 1.0034529","dt: 1997 mai<br />.val: 1.0023938","dt: 1997 jun<br />.val: 1.0026919","dt: 1997 jul<br />.val: 1.0060064","dt: 1997 ago<br />.val: 1.0098947","dt: 1997 set<br />.val: 1.0077814","dt: 1997 out<br />.val: 0.9983883","dt: 1997 nov<br />.val: 0.9904644","dt: 1997 dez<br />.val: 0.9908912","dt: 1998 jan<br />.val: 0.9934479","dt: 1998 fev<br />.val: 0.9976646","dt: 1998 mar<br />.val: 0.9969225","dt: 1998 abr<br />.val: 1.0034529","dt: 1998 mai<br />.val: 1.0023938","dt: 1998 jun<br />.val: 1.0026919","dt: 1998 jul<br />.val: 1.0060064","dt: 1998 ago<br />.val: 1.0098947","dt: 1998 set<br />.val: 1.0077814","dt: 1998 out<br />.val: 0.9983883","dt: 1998 nov<br />.val: 0.9904644","dt: 1998 dez<br />.val: 0.9908912","dt: 1999 jan<br />.val: 0.9934479","dt: 1999 fev<br />.val: 0.9976646","dt: 1999 mar<br />.val: 0.9969225","dt: 1999 abr<br />.val: 1.0034529","dt: 1999 mai<br />.val: 1.0023938","dt: 1999 jun<br />.val: 1.0026919","dt: 1999 jul<br />.val: 1.0060064","dt: 1999 ago<br />.val: 1.0098947","dt: 1999 set<br />.val: 1.0077814","dt: 1999 out<br />.val: 0.9983883","dt: 1999 nov<br />.val: 0.9904644","dt: 1999 dez<br />.val: 0.9908912","dt: 2000 jan<br />.val: 0.9934479","dt: 2000 fev<br />.val: 0.9976646","dt: 2000 mar<br />.val: 0.9969225","dt: 2000 abr<br />.val: 1.0034529","dt: 2000 mai<br />.val: 1.0023938","dt: 2000 jun<br />.val: 1.0026919","dt: 2000 jul<br />.val: 1.0060064","dt: 2000 ago<br />.val: 1.0098947","dt: 2000 set<br />.val: 1.0077814","dt: 2000 out<br />.val: 0.9983883","dt: 2000 nov<br />.val: 0.9904644","dt: 2000 dez<br />.val: 0.9908912","dt: 2001 jan<br />.val: 0.9934479","dt: 2001 fev<br />.val: 0.9976646","dt: 2001 mar<br />.val: 0.9969225","dt: 2001 abr<br />.val: 1.0034529","dt: 2001 mai<br />.val: 1.0023938","dt: 2001 jun<br />.val: 1.0026919","dt: 2001 jul<br />.val: 1.0060064","dt: 2001 ago<br />.val: 1.0098947","dt: 2001 set<br />.val: 1.0077814","dt: 2001 out<br />.val: 0.9983883","dt: 2001 nov<br />.val: 0.9904644","dt: 2001 dez<br />.val: 0.9908912","dt: 2002 jan<br />.val: 0.9934479","dt: 2002 fev<br />.val: 0.9976646","dt: 2002 mar<br />.val: 0.9969225","dt: 2002 abr<br />.val: 1.0034529","dt: 2002 mai<br />.val: 1.0023938","dt: 2002 jun<br />.val: 1.0026919","dt: 2002 jul<br />.val: 1.0060064","dt: 2002 ago<br />.val: 1.0098947","dt: 2002 set<br />.val: 1.0077814","dt: 2002 out<br />.val: 0.9983883","dt: 2002 nov<br />.val: 0.9904644","dt: 2002 dez<br />.val: 0.9908912","dt: 2003 jan<br />.val: 0.9934479","dt: 2003 fev<br />.val: 0.9976646","dt: 2003 mar<br />.val: 0.9969225","dt: 2003 abr<br />.val: 1.0034529","dt: 2003 mai<br />.val: 1.0023938","dt: 2003 jun<br />.val: 1.0026919","dt: 2003 jul<br />.val: 1.0060064","dt: 2003 ago<br />.val: 1.0098947","dt: 2003 set<br />.val: 1.0077814","dt: 2003 out<br />.val: 0.9983883","dt: 2003 nov<br />.val: 0.9904644","dt: 2003 dez<br />.val: 0.9908912","dt: 2004 jan<br />.val: 0.9934479","dt: 2004 fev<br />.val: 0.9976646","dt: 2004 mar<br />.val: 0.9969225","dt: 2004 abr<br />.val: 1.0034529","dt: 2004 mai<br />.val: 1.0023938","dt: 2004 jun<br />.val: 1.0026919","dt: 2004 jul<br />.val: 1.0060064","dt: 2004 ago<br />.val: 1.0098947","dt: 2004 set<br />.val: 1.0077814","dt: 2004 out<br />.val: 0.9983883","dt: 2004 nov<br />.val: 0.9904644","dt: 2004 dez<br />.val: 0.9908912","dt: 2005 jan<br />.val: 0.9934479","dt: 2005 fev<br />.val: 0.9976646","dt: 2005 mar<br />.val: 0.9969225","dt: 2005 abr<br />.val: 1.0034529","dt: 2005 mai<br />.val: 1.0023938","dt: 2005 jun<br />.val: 1.0026919","dt: 2005 jul<br />.val: 1.0060064","dt: 2005 ago<br />.val: 1.0098947","dt: 2005 set<br />.val: 1.0077814","dt: 2005 out<br />.val: 0.9983883","dt: 2005 nov<br />.val: 0.9904644","dt: 2005 dez<br />.val: 0.9908912","dt: 2006 jan<br />.val: 0.9934479","dt: 2006 fev<br />.val: 0.9976646","dt: 2006 mar<br />.val: 0.9969225","dt: 2006 abr<br />.val: 1.0034529","dt: 2006 mai<br />.val: 1.0023938","dt: 2006 jun<br />.val: 1.0026919","dt: 2006 jul<br />.val: 1.0060064","dt: 2006 ago<br />.val: 1.0098947","dt: 2006 set<br />.val: 1.0077814","dt: 2006 out<br />.val: 0.9983883","dt: 2006 nov<br />.val: 0.9904644","dt: 2006 dez<br />.val: 0.9908912","dt: 2007 jan<br />.val: 0.9934479","dt: 2007 fev<br />.val: 0.9976646","dt: 2007 mar<br />.val: 0.9969225","dt: 2007 abr<br />.val: 1.0034529","dt: 2007 mai<br />.val: 1.0023938","dt: 2007 jun<br />.val: 1.0026919","dt: 2007 jul<br />.val: 1.0060064","dt: 2007 ago<br />.val: 1.0098947","dt: 2007 set<br />.val: 1.0077814","dt: 2007 out<br />.val: 0.9983883","dt: 2007 nov<br />.val: 0.9904644","dt: 2007 dez<br />.val: 0.9908912","dt: 2008 jan<br />.val: 0.9934479","dt: 2008 fev<br />.val: 0.9976646","dt: 2008 mar<br />.val: 0.9969225","dt: 2008 abr<br />.val: 1.0034529","dt: 2008 mai<br />.val: 1.0023938","dt: 2008 jun<br />.val: 1.0026919","dt: 2008 jul<br />.val: 1.0060064","dt: 2008 ago<br />.val: 1.0098947","dt: 2008 set<br />.val: 1.0077814","dt: 2008 out<br />.val: 0.9983883","dt: 2008 nov<br />.val: 0.9904644","dt: 2008 dez<br />.val: 0.9908912","dt: 2009 jan<br />.val: 0.9934479","dt: 2009 fev<br />.val: 0.9976646","dt: 2009 mar<br />.val: 0.9969225","dt: 2009 abr<br />.val: 1.0034529","dt: 2009 mai<br />.val: 1.0023938","dt: 2009 jun<br />.val: 1.0026919","dt: 2009 jul<br />.val: 1.0060064","dt: 2009 ago<br />.val: 1.0098947","dt: 2009 set<br />.val: 1.0077814","dt: 2009 out<br />.val: 0.9983883","dt: 2009 nov<br />.val: 0.9904644","dt: 2009 dez<br />.val: 0.9908912","dt: 2010 jan<br />.val: 0.9934479","dt: 2010 fev<br />.val: 0.9976646","dt: 2010 mar<br />.val: 0.9969225","dt: 2010 abr<br />.val: 1.0034529","dt: 2010 mai<br />.val: 1.0023938","dt: 2010 jun<br />.val: 1.0026919","dt: 2010 jul<br />.val: 1.0060064","dt: 2010 ago<br />.val: 1.0098947","dt: 2010 set<br />.val: 1.0077814","dt: 2010 out<br />.val: 0.9983883","dt: 2010 nov<br />.val: 0.9904644","dt: 2010 dez<br />.val: 0.9908912","dt: 2011 jan<br />.val: 0.9934479","dt: 2011 fev<br />.val: 0.9976646","dt: 2011 mar<br />.val: 0.9969225","dt: 2011 abr<br />.val: 1.0034529","dt: 2011 mai<br />.val: 1.0023938","dt: 2011 jun<br />.val: 1.0026919","dt: 2011 jul<br />.val: 1.0060064","dt: 2011 ago<br />.val: 1.0098947","dt: 2011 set<br />.val: 1.0077814","dt: 2011 out<br />.val: 0.9983883","dt: 2011 nov<br />.val: 0.9904644","dt: 2011 dez<br />.val: 0.9908912","dt: 2012 jan<br />.val: 0.9934479","dt: 2012 fev<br />.val: 0.9976646","dt: 2012 mar<br />.val: 0.9969225","dt: 2012 abr<br />.val: 1.0034529","dt: 2012 mai<br />.val: 1.0023938","dt: 2012 jun<br />.val: 1.0026919","dt: 2012 jul<br />.val: 1.0060064","dt: 2012 ago<br />.val: 1.0098947","dt: 2012 set<br />.val: 1.0077814","dt: 2012 out<br />.val: 0.9983883","dt: 2012 nov<br />.val: 0.9904644","dt: 2012 dez<br />.val: 0.9908912","dt: 2013 jan<br />.val: 0.9934479","dt: 2013 fev<br />.val: 0.9976646","dt: 2013 mar<br />.val: 0.9969225","dt: 2013 abr<br />.val: 1.0034529","dt: 2013 mai<br />.val: 1.0023938","dt: 2013 jun<br />.val: 1.0026919","dt: 2013 jul<br />.val: 1.0060064","dt: 2013 ago<br />.val: 1.0098947","dt: 2013 set<br />.val: 1.0077814","dt: 2013 out<br />.val: 0.9983883","dt: 2013 nov<br />.val: 0.9904644","dt: 2013 dez<br />.val: 0.9908912","dt: 2014 jan<br />.val: 0.9934479","dt: 2014 fev<br />.val: 0.9976646","dt: 2014 mar<br />.val: 0.9969225","dt: 2014 abr<br />.val: 1.0034529","dt: 2014 mai<br />.val: 1.0023938","dt: 2014 jun<br />.val: 1.0026919","dt: 2014 jul<br />.val: 1.0060064","dt: 2014 ago<br />.val: 1.0098947","dt: 2014 set<br />.val: 1.0077814","dt: 2014 out<br />.val: 0.9983883","dt: 2014 nov<br />.val: 0.9904644","dt: 2014 dez<br />.val: 0.9908912","dt: 2015 jan<br />.val: 0.9934479","dt: 2015 fev<br />.val: 0.9976646","dt: 2015 mar<br />.val: 0.9969225","dt: 2015 abr<br />.val: 1.0034529","dt: 2015 mai<br />.val: 1.0023938","dt: 2015 jun<br />.val: 1.0026919","dt: 2015 jul<br />.val: 1.0060064","dt: 2015 ago<br />.val: 1.0098947","dt: 2015 set<br />.val: 1.0077814","dt: 2015 out<br />.val: 0.9983883","dt: 2015 nov<br />.val: 0.9904644","dt: 2015 dez<br />.val: 0.9908912","dt: 2016 jan<br />.val: 0.9934479","dt: 2016 fev<br />.val: 0.9976646","dt: 2016 mar<br />.val: 0.9969225","dt: 2016 abr<br />.val: 1.0034529","dt: 2016 mai<br />.val: 1.0023938","dt: 2016 jun<br />.val: 1.0026919","dt: 2016 jul<br />.val: 1.0060064","dt: 2016 ago<br />.val: 1.0098947","dt: 2016 set<br />.val: 1.0077814","dt: 2016 out<br />.val: 0.9983883","dt: 2016 nov<br />.val: 0.9904644","dt: 2016 dez<br />.val: 0.9908912","dt: 2017 jan<br />.val: 0.9934479","dt: 2017 fev<br />.val: 0.9976646","dt: 2017 mar<br />.val: 0.9969225","dt: 2017 abr<br />.val: 1.0034529","dt: 2017 mai<br />.val: 1.0023938","dt: 2017 jun<br />.val: 1.0026919","dt: 2017 jul<br />.val: 1.0060064","dt: 2017 ago<br />.val: 1.0098947","dt: 2017 set<br />.val: 1.0077814","dt: 2017 out<br />.val: 0.9983883","dt: 2017 nov<br />.val: 0.9904644","dt: 2017 dez<br />.val: 0.9908912","dt: 2018 jan<br />.val: 0.9934479","dt: 2018 fev<br />.val: 0.9976646","dt: 2018 mar<br />.val: 0.9969225","dt: 2018 abr<br />.val: 1.0034529","dt: 2018 mai<br />.val: 1.0023938","dt: 2018 jun<br />.val: 1.0026919","dt: 2018 jul<br />.val: 1.0060064","dt: 2018 ago<br />.val: 1.0098947","dt: 2018 set<br />.val: 1.0077814","dt: 2018 out<br />.val: 0.9983883","dt: 2018 nov<br />.val: 0.9904644","dt: 2018 dez<br />.val: 0.9908912","dt: 2019 jan<br />.val: 0.9934479","dt: 2019 fev<br />.val: 0.9976646","dt: 2019 mar<br />.val: 0.9969225","dt: 2019 abr<br />.val: 1.0034529","dt: 2019 mai<br />.val: 1.0023938","dt: 2019 jun<br />.val: 1.0026919","dt: 2019 jul<br />.val: 1.0060064","dt: 2019 ago<br />.val: 1.0098947","dt: 2019 set<br />.val: 1.0077814","dt: 2019 out<br />.val: 0.9983883","dt: 2019 nov<br />.val: 0.9904644","dt: 2019 dez<br />.val: 0.9908912","dt: 2020 jan<br />.val: 0.9934479","dt: 2020 fev<br />.val: 0.9976646","dt: 2020 mar<br />.val: 0.9969225","dt: 2020 abr<br />.val: 1.0034529","dt: 2020 mai<br />.val: 1.0023938","dt: 2020 jun<br />.val: 1.0026919","dt: 2020 jul<br />.val: 1.0060064","dt: 2020 ago<br />.val: 1.0098947","dt: 2020 set<br />.val: 1.0077814","dt: 2020 out<br />.val: 0.9983883","dt: 2020 nov<br />.val: 0.9904644","dt: 2020 dez<br />.val: 0.9908912","dt: 2021 jan<br />.val: 0.9934479","dt: 2021 fev<br />.val: 0.9976646","dt: 2021 mar<br />.val: 0.9969225","dt: 2021 abr<br />.val: 1.0034529","dt: 2021 mai<br />.val: 1.0023938","dt: 2021 jun<br />.val: 1.0026919","dt: 2021 jul<br />.val: 1.0060064","dt: 2021 ago<br />.val: 1.0098947","dt: 2021 set<br />.val: 1.0077814","dt: 2021 out<br />.val: 0.9983883","dt: 2021 nov<br />.val: 0.9904644","dt: 2021 dez<br />.val: 0.9908912","dt: 2022 jan<br />.val: 0.9934479","dt: 2022 fev<br />.val: 0.9976646","dt: 2022 mar<br />.val: 0.9969225","dt: 2022 abr<br />.val: 1.0034529","dt: 2022 mai<br />.val: 1.0023938","dt: 2022 jun<br />.val: 1.0026919"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[8946,8977,9008,9038,9069,9099,9130,9161,9189,9220,9250,9281,9311,9342,9373,9403,9434,9464,9495,9526,9555,9586,9616,9647,9677,9708,9739,9769,9800,9830,9861,9892,9920,9951,9981,10012,10042,10073,10104,10134,10165,10195,10226,10257,10285,10316,10346,10377,10407,10438,10469,10499,10530,10560,10591,10622,10650,10681,10711,10742,10772,10803,10834,10864,10895,10925,10956,10987,11016,11047,11077,11108,11138,11169,11200,11230,11261,11291,11322,11353,11381,11412,11442,11473,11503,11534,11565,11595,11626,11656,11687,11718,11746,11777,11807,11838,11868,11899,11930,11960,11991,12021,12052,12083,12111,12142,12172,12203,12233,12264,12295,12325,12356,12386,12417,12448,12477,12508,12538,12569,12599,12630,12661,12691,12722,12752,12783,12814,12842,12873,12903,12934,12964,12995,13026,13056,13087,13117,13148,13179,13207,13238,13268,13299,13329,13360,13391,13421,13452,13482,13513,13544,13572,13603,13633,13664,13694,13725,13756,13786,13817,13847,13878,13909,13938,13969,13999,14030,14060,14091,14122,14152,14183,14213,14244,14275,14303,14334,14364,14395,14425,14456,14487,14517,14548,14578,14609,14640,14668,14699,14729,14760,14790,14821,14852,14882,14913,14943,14974,15005,15033,15064,15094,15125,15155,15186,15217,15247,15278,15308,15339,15370,15399,15430,15460,15491,15521,15552,15583,15613,15644,15674,15705,15736,15764,15795,15825,15856,15886,15917,15948,15978,16009,16039,16070,16101,16129,16160,16190,16221,16251,16282,16313,16343,16374,16404,16435,16466,16494,16525,16555,16586,16616,16647,16678,16708,16739,16769,16800,16831,16860,16891,16921,16952,16982,17013,17044,17074,17105,17135,17166,17197,17225,17256,17286,17317,17347,17378,17409,17439,17470,17500,17531,17562,17590,17621,17651,17682,17712,17743,17774,17804,17835,17865,17896,17927,17955,17986,18016,18047,18077,18108,18139,18169,18200,18230,18261,18292,18321,18352,18382,18413,18443,18474,18505,18535,18566,18596,18627,18658,18686,18717,18747,18778,18808,18839,18870,18900,18931,18961,18992,19023,19051,19082,19112,19143,19173],"y":[null,null,null,null,null,null,0.989777064510638,0.996942317317943,1.00910166380454,1.04208651327715,1.02477538725275,1.00345450348318,0.977390997286517,0.981436409132007,0.980326481367103,0.966094014625986,0.98646597237247,1.01746881064385,1.0097417326119,0.996193936798802,1.01567043872713,1.02995383465153,0.986050270591377,0.973071515558299,0.980140932634591,0.985156560336061,1.0102563654268,1.03063117029477,1.02747178808098,1.05065710948133,1.04724063660467,1.00503281128587,0.987138702974797,0.96591140916419,0.989280978227224,0.971944774761812,0.98887568436552,1.00233615827429,1.00863795335323,1.0450930273566,1.04751927861298,1.02968193410558,0.995027121432698,0.980355907563079,0.959447631121119,0.983044883557171,0.997216553914474,0.980628799217592,0.989814980529704,0.977312174623397,1.00071181045364,0.974988784322308,0.931219239249192,0.880741222176163,0.966761743916159,1.00072924459773,1.03486411950581,1.02952604263077,0.99867253997582,0.989029579776768,1.00689560056157,1.01443720236235,1.02770511143108,1.01680633592095,1.03605248452466,1.02621015662255,1.01088359692462,1.01479865303861,0.999338253958847,0.959725246967198,0.992431686506575,1.00871857297329,0.992242776855722,1.00286252319976,1.01973265718813,1.01691898251724,1.03718395157854,0.979249597470605,0.98024824175265,0.993575189690122,0.976567727536494,0.994669877236367,1.01764248392565,1.02811064007718,1.01825125417519,1.03059060220793,1.03886500294915,0.998726400020662,0.959842067748376,0.947647750720335,0.955828942687209,0.963787329580907,0.987932183387475,0.992713744574488,0.992232440408988,0.989874278667641,1.00266364717959,1.00446770010035,1.01559052987116,1.03080178515179,0.997622447866308,1.03393843043235,1.03851708806579,1.06064978120731,1.03082520229747,0.974734647241881,0.962524813514459,0.97519859359704,0.983004077587997,1.00095313897241,0.97242252625081,0.985409071937025,0.993382753406434,1.00170001229765,1.00000087411573,0.996443452940187,0.998967267735417,0.993736672149333,1.01570145320926,1.00338112495536,1.00593139733736,1.01648968367791,0.998596598603013,1.01733734657235,0.99680671405589,0.98145611648779,0.996934071320485,0.990952853150935,1.02110760410523,1.01002889429188,0.98178895446877,1.00163165420363,1.00353686615198,1.01521732121031,1.00499009947305,0.990003805810067,0.981085935370933,0.998192172682892,1.01346102845747,0.990430461147464,0.990308464988733,1.01104749160712,1.01155310946032,1.01723458459053,1.02494825074127,1.01892973087217,0.987865886217719,0.975256564557998,0.988595453589032,1.00758817736552,0.982502197270916,0.992423839010421,0.99791463184212,1.00586347488192,0.990781196327067,0.991516431779831,0.996836638703073,0.988520249899673,0.989944257992551,0.98966670740289,1.01028545256423,1.00915566052558,1.00189322483998,0.993893016153903,0.99966010727667,1.009550706521,1.02514603900854,1.0413573819592,1.04750339542115,1.02626771210601,1.02586074518816,1.0091070982829,0.973256379888163,0.945337731366041,0.956671442593578,0.954877374426352,0.980602685497786,0.990821022287938,1.00304562631237,1.02525866089482,1.00487024706973,1.00729713905383,0.983849338640527,0.988406220378536,1.00167729102547,1.00494834228478,1.01351250901417,1.01048487186734,1.01268115564974,1.02058060869069,0.9964263257939,0.993424758330769,0.986420642463951,0.982805950596128,0.971850386362441,0.980333304102994,0.995048343939235,1.00992877223199,1.00955898692795,1.01186187905726,1.02414204097739,1.02498609814122,1.00302223079483,0.993315578890426,0.991298049115649,0.974331453950738,0.985859276380107,0.987191467007863,1.00529234425199,1.01395614853098,1.01163778570084,1.00735636166979,1.01531941245874,1.0114828311481,1.00021555439558,0.980963646593393,0.99106817219618,1.0026060594795,0.999174857213894,0.995594885329922,1.00143213897041,1.00690907045436,1.00864722396958,1.00706922519271,0.993207520615334,0.986662055382023,0.982597544832005,0.994002881436743,1.00749307109748,1.01403483501346,1.00305499041432,0.989219807189679,0.999620401666908,1.01625139915677,1.01171523929802,1.0138549205211,1.00407354017704,1.00062707146948,0.99744927639017,1.00982543280065,1.00932948541991,1.00772570300243,1.00947024936395,1.00662535833052,1.00954753821853,0.980158371088853,0.93519862591816,0.979683141248101,0.99353660474411,1.00668369654655,1.02032491073134,1.0239357970835,1.00962434286018,0.993477105502179,1.01324443852578,1.01766169614409,1.00665603805569,0.991068177196832,0.966131628659747,0.967215229892915,0.988341594961566,1.00203986502374,1.01942275416421,1.02054773729886,0.991110940207494,0.981468744641815,0.977083529130223,0.992281173119193,0.992362433130168,1.0328805315892,1.02670436186419,1.01882546397998,0.999594336614577,1.00467785051001,0.990755768935166,0.978913597403221,0.976448740269837,0.976262551428157,0.978478675393852,0.986883176808641,1.01110949847848,1.01640812206381,1.018063189718,1.00011868952425,0.991466931909419,1.00073729232536,1.0092122858588,1.01372522094358,1.01319844248848,1.00790165735255,1.02363214276623,1.01603386821397,0.987671935129707,0.972092471855079,0.979992589294209,0.996100648370331,1.00747616108143,1.02330551171105,1.01737326380007,0.990529490163768,0.988192401369748,0.983676978072927,0.99534076547022,0.997798020992054,1.02845892101861,1.04720208102851,1.04461699867859,1.02409082039438,0.944094408776043,0.901176920239477,0.967310197237023,0.995692077851682,1.00904272697309,1.01489492463181,0.987598965852257,0.980939506074161,0.981036372689315,0.994856426069723,1.01062877126568,1.02438488656291,1.02875191346566,1.01575804396308,0.999178660153965,0.996844990897949,0.995998545127752,0.980672036490568,0.981988664911302,1.00632272772556,1.00542913070799,0.996447510261593,1.00994399271008,null,null,null,null,null,null],"text":["dt: 1994 jun<br />.val:        NA","dt: 1994 jul<br />.val:        NA","dt: 1994 ago<br />.val:        NA","dt: 1994 set<br />.val:        NA","dt: 1994 out<br />.val:        NA","dt: 1994 nov<br />.val:        NA","dt: 1994 dez<br />.val: 0.9897771","dt: 1995 jan<br />.val: 0.9969423","dt: 1995 fev<br />.val: 1.0091017","dt: 1995 mar<br />.val: 1.0420865","dt: 1995 abr<br />.val: 1.0247754","dt: 1995 mai<br />.val: 1.0034545","dt: 1995 jun<br />.val: 0.9773910","dt: 1995 jul<br />.val: 0.9814364","dt: 1995 ago<br />.val: 0.9803265","dt: 1995 set<br />.val: 0.9660940","dt: 1995 out<br />.val: 0.9864660","dt: 1995 nov<br />.val: 1.0174688","dt: 1995 dez<br />.val: 1.0097417","dt: 1996 jan<br />.val: 0.9961939","dt: 1996 fev<br />.val: 1.0156704","dt: 1996 mar<br />.val: 1.0299538","dt: 1996 abr<br />.val: 0.9860503","dt: 1996 mai<br />.val: 0.9730715","dt: 1996 jun<br />.val: 0.9801409","dt: 1996 jul<br />.val: 0.9851566","dt: 1996 ago<br />.val: 1.0102564","dt: 1996 set<br />.val: 1.0306312","dt: 1996 out<br />.val: 1.0274718","dt: 1996 nov<br />.val: 1.0506571","dt: 1996 dez<br />.val: 1.0472406","dt: 1997 jan<br />.val: 1.0050328","dt: 1997 fev<br />.val: 0.9871387","dt: 1997 mar<br />.val: 0.9659114","dt: 1997 abr<br />.val: 0.9892810","dt: 1997 mai<br />.val: 0.9719448","dt: 1997 jun<br />.val: 0.9888757","dt: 1997 jul<br />.val: 1.0023362","dt: 1997 ago<br />.val: 1.0086380","dt: 1997 set<br />.val: 1.0450930","dt: 1997 out<br />.val: 1.0475193","dt: 1997 nov<br />.val: 1.0296819","dt: 1997 dez<br />.val: 0.9950271","dt: 1998 jan<br />.val: 0.9803559","dt: 1998 fev<br />.val: 0.9594476","dt: 1998 mar<br />.val: 0.9830449","dt: 1998 abr<br />.val: 0.9972166","dt: 1998 mai<br />.val: 0.9806288","dt: 1998 jun<br />.val: 0.9898150","dt: 1998 jul<br />.val: 0.9773122","dt: 1998 ago<br />.val: 1.0007118","dt: 1998 set<br />.val: 0.9749888","dt: 1998 out<br />.val: 0.9312192","dt: 1998 nov<br />.val: 0.8807412","dt: 1998 dez<br />.val: 0.9667617","dt: 1999 jan<br />.val: 1.0007292","dt: 1999 fev<br />.val: 1.0348641","dt: 1999 mar<br />.val: 1.0295260","dt: 1999 abr<br />.val: 0.9986725","dt: 1999 mai<br />.val: 0.9890296","dt: 1999 jun<br />.val: 1.0068956","dt: 1999 jul<br />.val: 1.0144372","dt: 1999 ago<br />.val: 1.0277051","dt: 1999 set<br />.val: 1.0168063","dt: 1999 out<br />.val: 1.0360525","dt: 1999 nov<br />.val: 1.0262102","dt: 1999 dez<br />.val: 1.0108836","dt: 2000 jan<br />.val: 1.0147987","dt: 2000 fev<br />.val: 0.9993383","dt: 2000 mar<br />.val: 0.9597252","dt: 2000 abr<br />.val: 0.9924317","dt: 2000 mai<br />.val: 1.0087186","dt: 2000 jun<br />.val: 0.9922428","dt: 2000 jul<br />.val: 1.0028625","dt: 2000 ago<br />.val: 1.0197327","dt: 2000 set<br />.val: 1.0169190","dt: 2000 out<br />.val: 1.0371840","dt: 2000 nov<br />.val: 0.9792496","dt: 2000 dez<br />.val: 0.9802482","dt: 2001 jan<br />.val: 0.9935752","dt: 2001 fev<br />.val: 0.9765677","dt: 2001 mar<br />.val: 0.9946699","dt: 2001 abr<br />.val: 1.0176425","dt: 2001 mai<br />.val: 1.0281106","dt: 2001 jun<br />.val: 1.0182513","dt: 2001 jul<br />.val: 1.0305906","dt: 2001 ago<br />.val: 1.0388650","dt: 2001 set<br />.val: 0.9987264","dt: 2001 out<br />.val: 0.9598421","dt: 2001 nov<br />.val: 0.9476478","dt: 2001 dez<br />.val: 0.9558289","dt: 2002 jan<br />.val: 0.9637873","dt: 2002 fev<br />.val: 0.9879322","dt: 2002 mar<br />.val: 0.9927137","dt: 2002 abr<br />.val: 0.9922324","dt: 2002 mai<br />.val: 0.9898743","dt: 2002 jun<br />.val: 1.0026636","dt: 2002 jul<br />.val: 1.0044677","dt: 2002 ago<br />.val: 1.0155905","dt: 2002 set<br />.val: 1.0308018","dt: 2002 out<br />.val: 0.9976224","dt: 2002 nov<br />.val: 1.0339384","dt: 2002 dez<br />.val: 1.0385171","dt: 2003 jan<br />.val: 1.0606498","dt: 2003 fev<br />.val: 1.0308252","dt: 2003 mar<br />.val: 0.9747346","dt: 2003 abr<br />.val: 0.9625248","dt: 2003 mai<br />.val: 0.9751986","dt: 2003 jun<br />.val: 0.9830041","dt: 2003 jul<br />.val: 1.0009531","dt: 2003 ago<br />.val: 0.9724225","dt: 2003 set<br />.val: 0.9854091","dt: 2003 out<br />.val: 0.9933828","dt: 2003 nov<br />.val: 1.0017000","dt: 2003 dez<br />.val: 1.0000009","dt: 2004 jan<br />.val: 0.9964435","dt: 2004 fev<br />.val: 0.9989673","dt: 2004 mar<br />.val: 0.9937367","dt: 2004 abr<br />.val: 1.0157015","dt: 2004 mai<br />.val: 1.0033811","dt: 2004 jun<br />.val: 1.0059314","dt: 2004 jul<br />.val: 1.0164897","dt: 2004 ago<br />.val: 0.9985966","dt: 2004 set<br />.val: 1.0173373","dt: 2004 out<br />.val: 0.9968067","dt: 2004 nov<br />.val: 0.9814561","dt: 2004 dez<br />.val: 0.9969341","dt: 2005 jan<br />.val: 0.9909529","dt: 2005 fev<br />.val: 1.0211076","dt: 2005 mar<br />.val: 1.0100289","dt: 2005 abr<br />.val: 0.9817890","dt: 2005 mai<br />.val: 1.0016317","dt: 2005 jun<br />.val: 1.0035369","dt: 2005 jul<br />.val: 1.0152173","dt: 2005 ago<br />.val: 1.0049901","dt: 2005 set<br />.val: 0.9900038","dt: 2005 out<br />.val: 0.9810859","dt: 2005 nov<br />.val: 0.9981922","dt: 2005 dez<br />.val: 1.0134610","dt: 2006 jan<br />.val: 0.9904305","dt: 2006 fev<br />.val: 0.9903085","dt: 2006 mar<br />.val: 1.0110475","dt: 2006 abr<br />.val: 1.0115531","dt: 2006 mai<br />.val: 1.0172346","dt: 2006 jun<br />.val: 1.0249483","dt: 2006 jul<br />.val: 1.0189297","dt: 2006 ago<br />.val: 0.9878659","dt: 2006 set<br />.val: 0.9752566","dt: 2006 out<br />.val: 0.9885955","dt: 2006 nov<br />.val: 1.0075882","dt: 2006 dez<br />.val: 0.9825022","dt: 2007 jan<br />.val: 0.9924238","dt: 2007 fev<br />.val: 0.9979146","dt: 2007 mar<br />.val: 1.0058635","dt: 2007 abr<br />.val: 0.9907812","dt: 2007 mai<br />.val: 0.9915164","dt: 2007 jun<br />.val: 0.9968366","dt: 2007 jul<br />.val: 0.9885202","dt: 2007 ago<br />.val: 0.9899443","dt: 2007 set<br />.val: 0.9896667","dt: 2007 out<br />.val: 1.0102855","dt: 2007 nov<br />.val: 1.0091557","dt: 2007 dez<br />.val: 1.0018932","dt: 2008 jan<br />.val: 0.9938930","dt: 2008 fev<br />.val: 0.9996601","dt: 2008 mar<br />.val: 1.0095507","dt: 2008 abr<br />.val: 1.0251460","dt: 2008 mai<br />.val: 1.0413574","dt: 2008 jun<br />.val: 1.0475034","dt: 2008 jul<br />.val: 1.0262677","dt: 2008 ago<br />.val: 1.0258607","dt: 2008 set<br />.val: 1.0091071","dt: 2008 out<br />.val: 0.9732564","dt: 2008 nov<br />.val: 0.9453377","dt: 2008 dez<br />.val: 0.9566714","dt: 2009 jan<br />.val: 0.9548774","dt: 2009 fev<br />.val: 0.9806027","dt: 2009 mar<br />.val: 0.9908210","dt: 2009 abr<br />.val: 1.0030456","dt: 2009 mai<br />.val: 1.0252587","dt: 2009 jun<br />.val: 1.0048702","dt: 2009 jul<br />.val: 1.0072971","dt: 2009 ago<br />.val: 0.9838493","dt: 2009 set<br />.val: 0.9884062","dt: 2009 out<br />.val: 1.0016773","dt: 2009 nov<br />.val: 1.0049483","dt: 2009 dez<br />.val: 1.0135125","dt: 2010 jan<br />.val: 1.0104849","dt: 2010 fev<br />.val: 1.0126812","dt: 2010 mar<br />.val: 1.0205806","dt: 2010 abr<br />.val: 0.9964263","dt: 2010 mai<br />.val: 0.9934248","dt: 2010 jun<br />.val: 0.9864206","dt: 2010 jul<br />.val: 0.9828060","dt: 2010 ago<br />.val: 0.9718504","dt: 2010 set<br />.val: 0.9803333","dt: 2010 out<br />.val: 0.9950483","dt: 2010 nov<br />.val: 1.0099288","dt: 2010 dez<br />.val: 1.0095590","dt: 2011 jan<br />.val: 1.0118619","dt: 2011 fev<br />.val: 1.0241420","dt: 2011 mar<br />.val: 1.0249861","dt: 2011 abr<br />.val: 1.0030222","dt: 2011 mai<br />.val: 0.9933156","dt: 2011 jun<br />.val: 0.9912980","dt: 2011 jul<br />.val: 0.9743315","dt: 2011 ago<br />.val: 0.9858593","dt: 2011 set<br />.val: 0.9871915","dt: 2011 out<br />.val: 1.0052923","dt: 2011 nov<br />.val: 1.0139561","dt: 2011 dez<br />.val: 1.0116378","dt: 2012 jan<br />.val: 1.0073564","dt: 2012 fev<br />.val: 1.0153194","dt: 2012 mar<br />.val: 1.0114828","dt: 2012 abr<br />.val: 1.0002156","dt: 2012 mai<br />.val: 0.9809636","dt: 2012 jun<br />.val: 0.9910682","dt: 2012 jul<br />.val: 1.0026061","dt: 2012 ago<br />.val: 0.9991749","dt: 2012 set<br />.val: 0.9955949","dt: 2012 out<br />.val: 1.0014321","dt: 2012 nov<br />.val: 1.0069091","dt: 2012 dez<br />.val: 1.0086472","dt: 2013 jan<br />.val: 1.0070692","dt: 2013 fev<br />.val: 0.9932075","dt: 2013 mar<br />.val: 0.9866621","dt: 2013 abr<br />.val: 0.9825975","dt: 2013 mai<br />.val: 0.9940029","dt: 2013 jun<br />.val: 1.0074931","dt: 2013 jul<br />.val: 1.0140348","dt: 2013 ago<br />.val: 1.0030550","dt: 2013 set<br />.val: 0.9892198","dt: 2013 out<br />.val: 0.9996204","dt: 2013 nov<br />.val: 1.0162514","dt: 2013 dez<br />.val: 1.0117152","dt: 2014 jan<br />.val: 1.0138549","dt: 2014 fev<br />.val: 1.0040735","dt: 2014 mar<br />.val: 1.0006271","dt: 2014 abr<br />.val: 0.9974493","dt: 2014 mai<br />.val: 1.0098254","dt: 2014 jun<br />.val: 1.0093295","dt: 2014 jul<br />.val: 1.0077257","dt: 2014 ago<br />.val: 1.0094702","dt: 2014 set<br />.val: 1.0066254","dt: 2014 out<br />.val: 1.0095475","dt: 2014 nov<br />.val: 0.9801584","dt: 2014 dez<br />.val: 0.9351986","dt: 2015 jan<br />.val: 0.9796831","dt: 2015 fev<br />.val: 0.9935366","dt: 2015 mar<br />.val: 1.0066837","dt: 2015 abr<br />.val: 1.0203249","dt: 2015 mai<br />.val: 1.0239358","dt: 2015 jun<br />.val: 1.0096243","dt: 2015 jul<br />.val: 0.9934771","dt: 2015 ago<br />.val: 1.0132444","dt: 2015 set<br />.val: 1.0176617","dt: 2015 out<br />.val: 1.0066560","dt: 2015 nov<br />.val: 0.9910682","dt: 2015 dez<br />.val: 0.9661316","dt: 2016 jan<br />.val: 0.9672152","dt: 2016 fev<br />.val: 0.9883416","dt: 2016 mar<br />.val: 1.0020399","dt: 2016 abr<br />.val: 1.0194228","dt: 2016 mai<br />.val: 1.0205477","dt: 2016 jun<br />.val: 0.9911109","dt: 2016 jul<br />.val: 0.9814687","dt: 2016 ago<br />.val: 0.9770835","dt: 2016 set<br />.val: 0.9922812","dt: 2016 out<br />.val: 0.9923624","dt: 2016 nov<br />.val: 1.0328805","dt: 2016 dez<br />.val: 1.0267044","dt: 2017 jan<br />.val: 1.0188255","dt: 2017 fev<br />.val: 0.9995943","dt: 2017 mar<br />.val: 1.0046779","dt: 2017 abr<br />.val: 0.9907558","dt: 2017 mai<br />.val: 0.9789136","dt: 2017 jun<br />.val: 0.9764487","dt: 2017 jul<br />.val: 0.9762626","dt: 2017 ago<br />.val: 0.9784787","dt: 2017 set<br />.val: 0.9868832","dt: 2017 out<br />.val: 1.0111095","dt: 2017 nov<br />.val: 1.0164081","dt: 2017 dez<br />.val: 1.0180632","dt: 2018 jan<br />.val: 1.0001187","dt: 2018 fev<br />.val: 0.9914669","dt: 2018 mar<br />.val: 1.0007373","dt: 2018 abr<br />.val: 1.0092123","dt: 2018 mai<br />.val: 1.0137252","dt: 2018 jun<br />.val: 1.0131984","dt: 2018 jul<br />.val: 1.0079017","dt: 2018 ago<br />.val: 1.0236321","dt: 2018 set<br />.val: 1.0160339","dt: 2018 out<br />.val: 0.9876719","dt: 2018 nov<br />.val: 0.9720925","dt: 2018 dez<br />.val: 0.9799926","dt: 2019 jan<br />.val: 0.9961006","dt: 2019 fev<br />.val: 1.0074762","dt: 2019 mar<br />.val: 1.0233055","dt: 2019 abr<br />.val: 1.0173733","dt: 2019 mai<br />.val: 0.9905295","dt: 2019 jun<br />.val: 0.9881924","dt: 2019 jul<br />.val: 0.9836770","dt: 2019 ago<br />.val: 0.9953408","dt: 2019 set<br />.val: 0.9977980","dt: 2019 out<br />.val: 1.0284589","dt: 2019 nov<br />.val: 1.0472021","dt: 2019 dez<br />.val: 1.0446170","dt: 2020 jan<br />.val: 1.0240908","dt: 2020 fev<br />.val: 0.9440944","dt: 2020 mar<br />.val: 0.9011769","dt: 2020 abr<br />.val: 0.9673102","dt: 2020 mai<br />.val: 0.9956921","dt: 2020 jun<br />.val: 1.0090427","dt: 2020 jul<br />.val: 1.0148949","dt: 2020 ago<br />.val: 0.9875990","dt: 2020 set<br />.val: 0.9809395","dt: 2020 out<br />.val: 0.9810364","dt: 2020 nov<br />.val: 0.9948564","dt: 2020 dez<br />.val: 1.0106288","dt: 2021 jan<br />.val: 1.0243849","dt: 2021 fev<br />.val: 1.0287519","dt: 2021 mar<br />.val: 1.0157580","dt: 2021 abr<br />.val: 0.9991787","dt: 2021 mai<br />.val: 0.9968450","dt: 2021 jun<br />.val: 0.9959985","dt: 2021 jul<br />.val: 0.9806720","dt: 2021 ago<br />.val: 0.9819887","dt: 2021 set<br />.val: 1.0063227","dt: 2021 out<br />.val: 1.0054291","dt: 2021 nov<br />.val: 0.9964475","dt: 2021 dez<br />.val: 1.0099440","dt: 2022 jan<br />.val:        NA","dt: 2022 fev<br />.val:        NA","dt: 2022 mar<br />.val:        NA","dt: 2022 abr<br />.val:        NA","dt: 2022 mai<br />.val:        NA","dt: 2022 jun<br />.val:        NA"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[8642,8642,8795,8795,8642],"y":[4.43866871701106,4.45809899420889,4.45809899420889,4.43866871701106,4.43866871701106],"text":"","type":"scatter","mode":"lines","line":{"width":1.25984251968504,"color":"rgba(0,0,0,1)","dash":"solid"},"fill":"toself","fillcolor":"rgba(191,191,191,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[8642,8642,8795,8795,8642],"y":[4.41455747599353,4.43398775319137,4.43398775319137,4.41455747599353,4.41455747599353],"text":"","type":"scatter","mode":"lines","line":{"width":1.25984251968504,"color":"rgba(0,0,0,1)","dash":"solid"},"fill":"toself","fillcolor":"rgba(191,191,191,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[8642,8642,8795,8795,8642],"y":[0.990464415176926,1.00989469237476,1.00989469237476,0.990464415176926,0.990464415176926],"text":"","type":"scatter","mode":"lines","line":{"width":1.25984251968504,"color":"rgba(0,0,0,1)","dash":"solid"},"fill":"toself","fillcolor":"rgba(191,191,191,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[8642,8642,8795,8795,8642],"y":[0.960980363092822,0.980410640290655,0.980410640290655,0.960980363092822,0.960980363092822],"text":"","type":"scatter","mode":"lines","line":{"width":1.25984251968504,"color":"rgba(0,0,0,1)","dash":"solid"},"fill":"toself","fillcolor":"rgba(191,191,191,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":54.6170906718852,"r":18.9954337899543,"b":39.3476842791911,"l":16.8036529680365},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":"Decomposição Multiplicativa Clássica:<br />petro_br_log = trend * seasonal * randon","xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[8115.45,19699.55],"tickmode":"array","ticktext":["2000 jan","2010 jan","2020 jan"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000 jan","2010 jan","2020 jan"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"annotations":[{"text":"dt","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.9178082191781},{"text":"ptr_br_log","x":1,"y":0.877038486627528,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"trend","x":1,"y":0.625,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"seasonal","x":1,"y":0.375,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"random","x":1,"y":0.122961513372472,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"yaxis":{"domain":[0.754076973255055,1],"automargin":true,"type":"linear","autorange":false,"range":[2.34051466022588,6.55625305099407],"tickmode":"array","ticktext":["3","4","5","6"],"tickvals":[3,4,5,6],"categoryorder":"array","categoryarray":["3","4","5","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.754076973255055,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.754076973255055,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.504076973255055,"y1":0.745923026744945},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.504076973255055,"y1":0.745923026744945,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.254076973255055,"y1":0.495923026744945},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.254076973255055,"y1":0.495923026744945,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.245923026744945},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.245923026744945,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[2.53354963092358,6.31499559826131],"tickmode":"array","ticktext":["3","4","5","6"],"tickvals":[3,4,5,6],"categoryorder":"array","categoryarray":["3","4","5","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.504076973255055,0.745923026744945],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[0.989492901317035,1.01086620623465],"tickmode":"array","ticktext":["0.990","0.995","1.000","1.005","1.010"],"tickvals":[0.99,0.995,1,1.005,1.01],"categoryorder":"array","categoryarray":["0.990","0.995","1.000","1.005","1.010"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.254076973255055,0.495923026744945],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[0.871745794224605,1.06964520915887],"tickmode":"array","ticktext":["0.90","0.95","1.00","1.05"],"tickvals":[0.9,0.95,1,1.05],"categoryorder":"array","categoryarray":["0.90","0.95","1.00","1.05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.245923026744945],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d03e4b3bd83d":{"x":{},"y":{},"type":"scatter"},"d03e79b3d731":{"ymin":{},"ymax":{},"xmin":{},"xmax":{}}},"cur_data":"d03e4b3bd83d","visdat":{"d03e4b3bd83d":["function (y) ","x"],"d03e79b3d731":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="raíz-unitária-com-kpss-e-pp" class="level1 tabset tabset-fade tabset-pills" data-number="4">
<h1 class="tabset tabset-fade tabset-pills" data-number="4"><span class="header-section-number">4</span> Raíz Unitária com KPSS e PP</h1>
<p>Visualmente, percebemos tendência temporal no IPCA e um passeio aleatório nas demais variáveis, Petro e Câmbio. Faremos o teste de raíz unitária de Phillips-Perron e estacionaridade ao entorno de uma tendência de Kwiatkowski-Phillips-Schmidt-Shin (KPSS) para validar nossa intuição visual. Resumidamente, as raízes do polinômio real de operadores de defasagem devem estar dentro do ciclo unitário para que o processo <span class="math inline">AR(.)</span> seja estacionário e para que o processo <span class="math inline">MA(.)</span> seja invertível. Caso seja detectado raíz fora do ciclo, teremos que remover a tendência, diferenciando a série. Usaremos o teste PP para raíz unitária por ser robusto, se comparado a Dickey-Fuller (DF) na presença de tendência temporal, intercepto e correlação serial nos erros e o teste KPSS para estacionariedade pelo baixo poder do DF na presença de médias móveis perto do círculo unitário.</p>
<p>A hipótese nula do KPSS é do processo ser estacionário ao entorno de uma tendência determinística, simplificamos com <span class="math inline">H_0: y_t \tilde{} I(0)</span> enquanto que a do PP é de raíz unitária. Então, para confirmarmos nossa intuição, o p-valor de um deve ser baixo e do outro deve ser alto.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ptr_br_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ipca_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( petro_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( cambio_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp))  )) <span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="st">"Variável"</span> <span class="ot">=</span><span class="fu">c</span>(<span class="st">"Log Petro Br"</span>, <span class="st">"Log IPCA"</span>, <span class="st">"Log Petro"</span>, <span class="st">"Log Câmbio"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Variável, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"Resultado do KPSS e PP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Resultado do KPSS e PP</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Variável </th>
   <th style="text-align:right;"> kpss_stat </th>
   <th style="text-align:right;"> kpss_pvalue </th>
   <th style="text-align:right;"> pp_stat </th>
   <th style="text-align:right;"> pp_pvalue </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Log Petro Br </td>
   <td style="text-align:right;"> 4.7685 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> -1.0282 </td>
   <td style="text-align:right;"> 0.1000 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log IPCA </td>
   <td style="text-align:right;"> 5.6641 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> -3.2122 </td>
   <td style="text-align:right;"> 0.0265 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Petro </td>
   <td style="text-align:right;"> 3.6723 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> -1.5830 </td>
   <td style="text-align:right;"> 0.1000 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Câmbio </td>
   <td style="text-align:right;"> 3.5262 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> -1.0455 </td>
   <td style="text-align:right;"> 0.1000 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Portanto, rejeitamos a hipótese nula do KPSS de estacionariedade ao entorno de uma tendência determinística a favor da hipótese alternativa de raíz unitária para todas as variáveis, a 5% de significância. Aceitamos a nula do teste PP de integração de primeira ordem, ou seja, uma raíz unitária, a 5%, para todas as variáveis <strong>exceto</strong> para o IPCA. As confirmações de nossa inspeção visual indicam que deveremos ter um VAR com variáveis diferenciadas. A seguir, vamos criar novas variáveis diferenciadas e repetir o teste, além de retirar o tempo de regime de câmbio fixo:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ptr_br_log_dif   =</span> <span class="fu">difference</span>(ptr_br_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">ipca_log_dif     =</span> <span class="fu">difference</span>(ipca_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">petro_log_dif    =</span> <span class="fu">difference</span>(petro_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">cambio_log_dif   =</span> <span class="fu">difference</span>(cambio_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">ptr_br_log_dif12 =</span> <span class="fu">difference</span>(ptr_br_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ipca_log_dif12   =</span> <span class="fu">difference</span>(ipca_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">petro_log_dif12  =</span> <span class="fu">difference</span>(petro_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">cambio_log_dif12 =</span> <span class="fu">difference</span>(cambio_log, <span class="at">lag =</span> <span class="dv">12</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(petro_log_dif12))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">|&gt;</span> <span class="fu">filter</span>(dt <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">my</span>(<span class="st">"Jul 1999"</span>))</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(dd)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ptr_br_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ipca_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( petro_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( cambio_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp))  )) <span class="sc">|&gt;</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="st">"Variável"</span> <span class="ot">=</span><span class="fu">c</span>(<span class="st">"Log Dif(-1) Petro Br"</span>, <span class="st">"Log Dif(-1) IPCA"</span>, <span class="st">"Log Dif(-1) Petro"</span>, <span class="st">"Log Dif(-1) Câmbio"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Variável, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"Resultado do KPSS e PP"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Resultado do KPSS e PP</caption>
 <thead>
  <tr>
   <th style="text-align:left;"> Variável </th>
   <th style="text-align:right;"> kpss_stat </th>
   <th style="text-align:right;"> kpss_pvalue </th>
   <th style="text-align:right;"> pp_stat </th>
   <th style="text-align:right;"> pp_pvalue </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Log Dif(-1) Petro Br </td>
   <td style="text-align:right;"> 0.0802 </td>
   <td style="text-align:right;"> 0.1 </td>
   <td style="text-align:right;"> -13.4414 </td>
   <td style="text-align:right;"> 0.01 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Dif(-1) IPCA </td>
   <td style="text-align:right;"> 0.2270 </td>
   <td style="text-align:right;"> 0.1 </td>
   <td style="text-align:right;"> -7.8199 </td>
   <td style="text-align:right;"> 0.01 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Dif(-1) Petro </td>
   <td style="text-align:right;"> 0.0857 </td>
   <td style="text-align:right;"> 0.1 </td>
   <td style="text-align:right;"> -11.7787 </td>
   <td style="text-align:right;"> 0.01 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Dif(-1) Câmbio </td>
   <td style="text-align:right;"> 0.1454 </td>
   <td style="text-align:right;"> 0.1 </td>
   <td style="text-align:right;"> -11.2043 </td>
   <td style="text-align:right;"> 0.01 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Agora temos certeza que uma diferenciação basta para a estacionariedade das variáveis: aceitamos a hipótese nula do KPSS e a alternativa do PP para todas a variáveis. Nosso VAR terá a primeira diferença, somente. A seguir, as variáveis transformadas:</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt_cambio <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>cambio_log_dif,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Taxa de Câmbio Comercial R$ '</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log R$/US$"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>plt_cambio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b78f72c88f07ca33e187" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-b78f72c88f07ca33e187">{"x":{"visdat":{"d03e22029243":["function () ","plotlyVisDat"]},"cur_data":"d03e22029243","attrs":{"d03e22029243":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e22029243.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Câmbio","line":{"color":"#30d5c8","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Primeira Diferença do Log da Taxa de Câmbio Comercial R$ ","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log R$/US$","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0437629283049094,0.00916004604609311,0.0369416035559536,-0.0203198535321978,-0.0462016350785914,-0.0214554582670977,-0.0158777864616034,-0.0189441624084086,0.0149350094057615,0.0332204703337157,-0.0107853353846999,-0.00582606724936074,0.00632386863689105,0.0164531516740412,0.0217376470583488,0.0357591680804227,0.00782672742330071,-0.00449416005897363,0.023972018749928,0.0426054215084921,0.0483750475316633,0.0466651809058085,0.0336547581752598,0.0372755026193464,0.0179301285881197,0.0622124255715275,0.0253234240529855,-0.0746697352056107,-0.0736028032365789,0.00641487745267966,0.017390292087847,-0.0306450543116531,-0.0112317380851192,0.0667024998254788,0.0900314932441602,0.0781697609817381,0.0580991093993737,0.071932403428715,0.130012248277626,-0.0622092779456793,0.0137488799014818,-0.0531083206543939,0.0433786490215391,-0.0409090456628562,-0.100083458556983,-0.0536948889424516,-0.0248415288861508,-0.00118026882170752,0.0417357832098104,-0.0269104815113415,-0.0212019631996698,0.0181171278484595,0.003940047923646,-0.0254537159704087,0.0271619500721714,-0.00850164525532038,0.000172120002490228,0.0647708361577821,0.00921665510492398,-0.0299488664791987,-0.0112288157510003,-0.0379517408171623,-0.0133047379142635,-0.0237358809647026,-0.0246441432781686,-0.0093168375802305,-0.0360017705472443,0.0403382425677253,-0.0475261237292458,-0.050265033445126,-0.0161575657247007,-0.0167179051379199,-0.00545167752766251,-0.0284542340966587,-0.0166622895170692,-0.0204678305402924,0.0332422091686386,-0.00509018607499978,-0.0505271872964562,-0.00459152535432628,-0.0106083196864478,0.0226680707900662,0.0317329102875021,-0.0266021097148254,-0.0153792514574238,0.00592183086094422,-0.00945458217605999,0.0044603521422607,-0.00371557716951088,-0.00531866514592516,-0.0199382963201089,-0.0036334122297963,-0.0275320247448612,-0.0251259479001917,-0.0254110147635971,-0.025754747581355,0.0432589801491683,-0.0343719136173302,-0.0533243378541781,-0.0174268271484168,0.0090595110805467,-0.00657545854143826,-0.0266271016230522,-0.0117076212767794,-0.0110166362065021,-0.0169667729806698,-0.0253842417209106,-0.0171413178827276,0.0130541187324577,0.10995435364106,0.188574665613096,0.042101043597545,0.0550030236729654,-0.0370239299883198,0.00229511846985364,0.00047568596974723,-0.047772523904917,-0.0680183340317819,-0.0514440393618323,-0.0127547501604447,-0.0464017144399128,-0.0138671218144283,-0.0457820487785059,-0.00716186496592819,0.0139870470340546,0.0167213758580924,0.0333880228027621,-0.0300210162548579,-0.0164938217216309,0.0317273403008748,-0.00386975992892868,-0.020480823320818,-0.00566959223658148,-0.0235291436742552,-0.0192183635275384,0.0160875581262514,-0.0116735071357054,-0.011014232006288,-0.00413849753007167,-0.00535259133899468,-0.0448300966443296,0.0169469084107465,-0.0165685743372507,-0.0146701897477938,0.0209547755404831,0.0914183915766936,0.0130082211454216,0.0100095595833661,0.0256362419622099,-0.026033588630606,-0.0406446779235231,0.0438179248797602,0.0326154591376513,0.0683600174821045,0.0313286350929984,-0.0100179412751084,0.000352475900336935,-0.000673016383645697,0.000878528900302822,0.0185105799648366,0.0048474736217492,-0.0227693486735538,-0.0288787303431771,0.00485064218659281,0.00972019514876588,0.0161727096350517,0.065685481654762,0.0358027143387968,0.0392085676595936,-0.031096543441632,-0.0367218422508109,0.04759253846372,0.0216200776800942,0.0155480785936585,0.000623334777182127,-0.0244650453189126,-0.0411580905614057,-0.00514106459241914,0.00654482183192173,-0.00486131785680688,0.0193271169303985,0.0281912253529992,0.0482899099728935,0.0402734798300571,0.0349010141118331,-0.0019410686900373,0.0669013174320016,0.108600687655368,-0.0311501813070749,0.00605539174573022,0.016217914227636,0.0351761730024438,0.0865079416335082,0.105796997834716,-0.00675761998129731,-0.0270952873981101,0.0247701250602288,0.0457578424370126,-0.0195895747895198,-0.0703239291817512,-0.0379953715263652,-0.00747590098014483,-0.0329819370612094,-0.0445439138184058,-0.020252496405835,0.0144519894587567,-0.0219140325704199,0.0478747994403883,0.00306825152691936,-0.047562484949621,-0.0293364636586322,0.00762042160656495,0.00263200821536547,0.0230558153700289,0.0264680233001868,-0.0274555132525802,-0.0173781260192487,-0.00513104548548915,0.0178501293043842,0.0211181864636165,0.00994657855489489,-0.0250190860562338,0.0095863445830926,0.0115678517716056,0.0383820147961897,0.0649334136582973,0.0370205313227512,0.0146212687566811,0.0260468984048272,0.0464440422545545,-0.0910339309675399,0.00747900440226079,0.025071502876636,-0.0370178604117668,-0.00483114732647905,0.032466975622474,0.0128331874444456,0.0266871618390674,-0.036316342446064,-0.0208240168768881,0.0617446840039297,0.0249434266376198,-0.00841038054062904,0.016585035231411,-0.0110850470523782,0.00967336808480512,0.0451344822587367,0.117835384679286,0.0866054659214899,0.057979362338064,-0.0825011204989627,0.0159614431100072,0.0337151374636917,-0.011373007228398,0.0410630154232901,-0.0376691876172863,-0.0515708584419261,0.0401280632024947,0.0111952213377728,0.0415293061704367,-0.0149931206529474,-0.0499712189212385,-0.0502235365731065,0.0244869278787583,0.0182756368103125,0.00531177588853926,0.0481279441309106,0.00304354154296083,0.0168372220460491,-0.0209410117899991,-0.0629363730797889,-0.0449115943987208,-0.0432687991308409,0.0405814989300035,0.0188267952447747,0.0612448215304593],"name":"Câmbio","line":{"color":"#30d5c8","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt_ipca <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da  IPCA, Brasil, de Jul/95 a Jul/2022.'</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>plt_ipca</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-71e178674219efb63cbb" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-71e178674219efb63cbb">{"x":{"visdat":{"d03e3ff7e96e":["function () ","plotlyVisDat"]},"cur_data":"d03e3ff7e96e","attrs":{"d03e3ff7e96e":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e3ff7e96e.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IPCA","line":{"color":"#551a8b","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Primeira Diferença do Log da  IPCA, Brasil, de Jul/95 a Jul/2022.","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log IPCA","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00558318949476266,0.00309698065394848,0.0118327072056728,0.00945504161467881,0.00597921374740107,0.00618143965219797,0.00130044721193912,0.00219691147807755,0.00419316519776025,9.93276758762818e-05,0.00230039815847771,0.0159745843031915,0.0130136603878377,0.00229564649319958,0.00139764103382589,0.00319582779944305,0.00588014455392738,0.00568630957564764,0.00459055648173123,0.00379088412952377,0.00578181453814075,0.00409126876803345,0.00518874682211834,0.0132112160469706,0.00697337464180858,0.00279496185719275,0.00826562362788419,0.00707685488232546,0.00648111212930669,0.00518884272440356,0.00359381549966997,0.00598107146604576,0.00796985219900659,0.00209559543902937,0.00418878021009306,0.0118320618561807,0.00647712710965997,0.00717232304889492,0.0130171245122064,0.029755134513068,0.020780367382045,0.0222529822643214,0.0155803071239946,0.0122265135805995,0.00965253980345082,0.00608226489961261,-0.00150216049910856,0.00199779161285996,0.00339397152135756,0.00777040784828387,0.00289501367675005,0.00339626376494984,0.00518500526427523,0.00756942969630892,0.0060800442927178,0.00468783964643205,0.00369239303880686,0.00508543915111304,0.00707297741813129,0.00905713788934293,0.00687487992761415,0.00329649567032497,0.00439119159404466,0.00687673572970926,0.00856121225424111,0.00578169636769044,0.00588443607933797,0.00607937069769893,0.00866063990542898,0.00488834152521012,-0.000202025916571813,0.00249821037799869,0.00169957108627639,0.00349476543106242,0.00747065165012462,0.00548544679438656,0.00359167545033134,0.0058831101539738,0.00409299402591135,0.00429018806551706,0.00209747098683,0.0010005740561434,-0.00210313996267608,0.00189767737068181,0.000500014545724348,0.00209810860156967,0.00329311504415841,0.00309404758595022,0.00478764179671032,0.00439178744706581,0.00439153702730355,0.0036927775600093,0.00249699321422714,0.00279511056755322,0.0027948121003325,0.00239842814083424,0.00469039814738981,0.00179872873949805,0.00299564595140289,0.00379099041823672,0.00737441268736738,0.00538519991686037,0.0048890439180953,0.00478953220968759,0.00548423447385371,0.00786973870607532,0.00737393264570851,0.00528419567802807,0.00279635077987272,0.00259636794511398,0.00449095765596486,0.00359424682979093,0.00279699159781277,0.00478654614125418,0.00548593271847242,0.00199613827325784,0.00478949001127571,0.004688867380648,0.00359243814293198,0.00239677492827273,0.00149842961732904,0.00239751578081027,0.00279597909243989,0.00409288882976533,0.00369186649215081,0.00747138166103944,0.00776852444365339,0.00518573574256997,0.00568536550062682,0.00429113310202567,0,9.96497793259721e-05,0.000398499846195222,0.00448820837477193,0.00747291173852993,0.00826484954735029,0.00628084999342171,0.00826702078778041,0.00796836668139811,0.00786872012785267,0.00767089368619267,0.00469030820611493,0.00149831279452783,0.00159833638515572,0.00369257791961175,0.00528691415735771,0.00429201165107962,0.0051864510997266,0.00498636633038529,0.00558411885645782,0.00448916214956618,0.00209774032414423,0.00637942700523908,0.00359271480666123,0.000798545425951147,0.00429201194082829,0.00409145560443314,0.00568420491024391,0.00588290127352664,0.00598279910925115,0.00786997490680719,0.0085629125047415,0.00598189658646042,0.00468909078174029,0.00548538790029696,0.0036924449634963,0.00259761402833902,0.000298670113011212,0.00239689056547476,0.00349366860645794,0.00568321997351617,0.00538663082020641,0.00915751528545172,0.00548371945131976,0.00687605722978724,0.00915841798434869,0.00667787236060313,0.00458876749808468,0.00399197074305313,0.000101047866460036,0.00249768652453675,0.00568353234611152,0.00419040421958528,0.00508684046053887,0.00776928601737481,0.0123231988642072,0.0121251125779409,0.0131144723090468,0.00707530328946326,0.00737172407226261,0.00787008588751448,0.00617984042493269,0.00219720578137306,0.00538503521749689,0.00816543146944859,0.0100493145068459,0.0095532513459915,0.012619315128827,0.00895929050709121,0.00429033161548276,0.0060822006380743,0.00776875549496125,0.00349318480249572,0.0051873180378923,0.00439027314411966,0.00079980842627414,0.00259759831484274,0.00179940096563591,0.00299461696436509,0.00379328636422649,0.00329462828420191,0.00249601431998592,0.00139894511283067,0.00309558397914245,-0.00230268155257995,0.00239765145132331,0.0018975063804465,0.00159771083719917,0.00419212938201952,0.00279659803570986,0.00439082669439728,0.00289626267990251,0.00319523376527187,0.000899221577245868,0.00219716232886569,0.00399255121032027,0.0125214205091968,0.00329521542398759,-0.000899416625909311,0.00478822386630462,0.00448917344967548,-0.00210265007356369,0.00149898297370576,0.00319450941785426,0.00429023675139106,0.00747163337833179,0.00568351322154825,0.00129933333892396,9.97313009420964e-05,0.00189874990584649,0.0011000459302295,-0.000399702810030433,0.000999913092792681,0.00508729438343281,0.0114348963984128,0.00209732447485145,0.00249715149288399,0.000699507380831577,-0.00310475512501007,-0.00380700150503088,0.00259657139187652,0.00359322566646725,0.00239766366128613,0.00638002538115323,0.00856340535322708,0.00886076185011042,0.0134100429873047,0.00249661560042469,0.0085631214550439,0.00925726814713457,0.00309491820475749,0.00826641119310523,0.00528606196843384,0.00955390243830756,0.00866225071755089,0.0115328690703027,0.0124220838441893,0.0094558426439324,0.00727306942680883,0.00538576221200593,0.0100499458054983,0.0160706728999873,0.0105443927917879,0.00468906184051932,0.00667822849660027,-0.00682325965905939],"name":"IPCA","line":{"color":"#551a8b","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>plt_petro <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>petro_log_dif,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Média do Preço Internacional do Petróleo'</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log Preço em Dólar"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>plt_petro</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-41a221a747af3df88756" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-41a221a747af3df88756">{"x":{"visdat":{"d03e3aa4602f":["function () ","plotlyVisDat"]},"cur_data":"d03e3aa4602f","attrs":{"d03e3aa4602f":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e3aa4602f.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Petroleum","line":{"color":"#2E8B57","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Primeira Diferença do Log da Média do Preço Internacional do Petróleo","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log Preço em Dólar","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0725961487964208,0.11758614864392,-0.0383377898346517,0.101265014000881,0.031173303800148,0.00819878990427059,0.0720495685363942,0.00360265740594912,-0.145825733284896,0.144606246814813,0.0861152557670968,-0.0511868295623272,0.058219175095847,0.0759089275251461,-0.0243386687812537,0.0299499305519006,-0.254051609924161,0.0249103615686987,0.0545559525322852,-0.0819118063922413,0.0261118886813851,0.0598100716690158,-0.0132082383154821,-0.0853924779024124,0.0363526873693352,-0.0150205909189274,-0.19254956969748,-0.117328609200876,-0.00396007220202277,0.0373984606771351,0.0425519632139082,0.168610700228844,0.0659822476085843,0.00843338237988478,-0.0440732284504182,0.0471229238850741,0.0361961439988887,0.059018412641711,-0.0312760621302735,-0.108936313238523,0.128434513844681,0.0873080073818508,0.0748794989631709,-0.0785060245042031,-0.173064698561779,0.016393086537922,0.0697533402062875,0.0249164128134667,0.0361758391881226,-0.0975511587434879,0.0759093017845305,0.00194230819248364,0.0284161322564414,0.0472967009254486,-0.00339644499541025,0.0713136125271419,0.00998448102617822,0.10176069429289,-0.0499318730182954,0.0623996512852361,0.0978940340889056,-0.00435135952535637,0.120179489103752,-0.107232067426398,-0.0789465049790263,0.0977163356561852,0.0322649841755669,0.138536434909899,-0.00340012821531666,-0.0544445735825252,0.11727586336573,0.044295214644932,0.0923502438572346,0.000293034124227987,-0.0651336965934499,-0.0545921990735359,0.0283331808998053,0.0954604146017592,-0.0404088943008087,0.0246267387360311,0.104632322054327,0.0116567506265275,-0.00692786035565973,0.0579192795632117,-0.00953172747715048,-0.145322456166767,-0.0687076685474297,0.00605814633553781,0.0447475230989642,-0.126019620628488,0.0699196988284929,0.0492079348403971,0.0728864825217244,0.000855850069644504,0.0426309198344255,0.0758486794856532,-0.04231474321083,0.0856796248006617,0.068203993367475,0.106949121324828,-0.0159261605795713,0.00965032482241046,0.0282313134954899,0.083550365622691,0.0693697535214808,0.12179682185009,0.0687342818490873,0.00674220313981966,-0.147853747319172,-0.135227311635368,-0.326370182598162,-0.309793479475927,-0.268204121500875,0.0549513233740533,-0.0327547124574301,0.113566728642879,0.069382508632871,0.153161229994845,0.169611951797236,-0.0567083221686726,0.10325485795314,-0.0548286160925473,0.0821106009104255,0.0446296947348257,-0.0310798304715618,0.0294908427326268,-0.0328294459829923,0.0643805217008699,0.0569009428604792,-0.111654161320847,-0.00647247530586004,-0.00126268401747254,0.0158906913207995,0.00418699856031424,0.0702696035255661,0.0304071635989072,0.065191691397553,0.0307834659078763,0.0467369951149097,0.109268904501496,0.0684741400525102,-0.073781950790897,-0.0186842362747592,0.0233543090445885,-0.0769572233010685,0.0017188409264639,-0.00579676050753442,0.0473202379308635,-0.0119136382443417,0.0261930635117666,0.0499549048732915,0.0408068910207522,-0.0416737488219718,-0.0831828709681526,-0.133417106577792,0.0713707113911326,0.086442862106086,0.00598212915346163,-0.0343192817736622,-0.0395475767243063,-0.0118032986347814,0.0489474728566952,0.0493317798521149,-0.0433751619256864,-0.0390302781930982,0.00605531426980299,0.00407837535455968,0.0535070509030389,0.0272265147609998,0.00472654277185391,-0.0386811634673805,-0.030482405669523,0.034233285546577,-0.0358077643596326,0.0169461386856167,-0.0171497528300453,0.00860883496435605,0.0115768380752215,0.0289809631387925,-0.0431372279885869,-0.058117166454462,-0.0328296102646322,-0.100873300440493,-0.0935618762032613,-0.245323002606018,-0.246201657843724,0.15365295019513,-0.0345536105783877,0.0825015441680055,0.0848283011186108,-0.015905251910497,-0.11149620213382,-0.161151487875891,-0.000649594667436748,0.00360773882815923,-0.0909343351844165,-0.155570882275989,-0.181895130876069,0.0247549845849799,0.182717767395663,0.0882143383247875,0.118993701834442,0.040571965718442,-0.0777013414927414,0.0147318252670297,0.000616649972482453,0.0990595645917853,-0.0910627913994673,0.156174622587511,0.0171509425855843,0.0081923685398082,-0.0749788171010146,0.0282574416634329,-0.0462790640900037,-0.0771517080367814,0.0297232543112664,0.0493785793907286,0.0555899659546819,0.0408191833612968,0.0903351926480269,0.0181834880563612,0.0816270627605062,-0.0473567593270943,0.00898911433112382,0.0509200832275853,0.0435541516127023,-0.0115196729946634,-0.0169864658832388,-0.0334031201994049,0.0735265542330756,0.0496967113748648,-0.209114724411199,-0.157517558116212,0.0719724174317351,0.0967768486957237,0.0411166427814864,0.0549958674144957,-0.0261584746223784,-0.101811775444347,0.0289772224910658,-0.0592372601731448,0.042545846412664,-0.0409192650782533,0.0495820368652113,0.0460478020285864,-0.0270353084455568,-0.140249176847151,-0.525562252470955,-0.324906832365103,0.324111359123814,0.224714989144485,0.0611877243736236,0.0358931062438068,-0.0653804933418547,-0.00990092400445386,0.0586193588564763,0.135466242356849,0.09539536436509,0.120680622997916,0.0495495152338394,-0.011155804462418,0.0476172494562261,0.0774451682416917,0.0124905429550086,-0.0552729377218082,0.0577644405428694,0.11807763133238,-0.0332772740355223,-0.0818885641258271,0.140920555506181,0.0940743806337974,0.169179364846196,-0.0567135270285331,0.0589694344715861,0.0431417320656831,-0.109796215517446],"name":"Petroleum","line":{"color":"#2E8B57","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plt_petro_n <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">" Dif Petroleum (R$)"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Média do Preço Internacional do Petróleo, em Reais'</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">" Dif Log Preço em Reais"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>plt_petro_n</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-94de78aa3014d23c9d31" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-94de78aa3014d23c9d31">{"x":{"visdat":{"d03e7b6830aa":["function () ","plotlyVisDat"]},"cur_data":"d03e7b6830aa","attrs":{"d03e7b6830aa":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e7b6830aa.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":" Dif Petroleum (R$)","line":{"color":"#073320","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Primeira Diferença do Log da Média do Preço Internacional do Petróleo, em Reais","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":" Dif Log Preço em Reais","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.11635907710133,0.126746194690013,-0.00139618627869798,0.0809451604686835,-0.0150283312784438,-0.013256668362827,0.0561717820747911,-0.0153415050024597,-0.130890723879135,0.177826717148529,0.0753299203823969,-0.0570128968116879,0.0645430437327379,0.0923620791991877,-0.00260102172290555,0.0657090986323237,-0.24622488250086,0.0204162015097249,0.0785279712822136,-0.0393063848837496,0.0744869362130487,0.106475252574824,0.0204465198597781,-0.0481169752830661,0.0542828159574551,0.0471918346526001,-0.167226145644495,-0.191998344406487,-0.0775628754386015,0.0438133381298149,0.0599422553017552,0.13796564591719,0.0547505095234646,0.0751358822053643,0.0459582647937413,0.125292684866813,0.0942952533982622,0.130950816070426,0.0987361861473524,-0.171145591184202,0.142183393746163,0.0341996867274572,0.11825814798471,-0.11941507016706,-0.273148157118762,-0.0373018024045297,0.0449118113201372,0.0237361439917585,0.0779116223979335,-0.12446164025483,0.0547073385848611,0.0200594360409427,0.0323561801800878,0.0218429849550397,0.0237655050767618,0.0628119672718208,0.0101566010286689,0.166531530450672,-0.0407152179133714,0.0324507848060378,0.0866652183379051,-0.0423031003425187,0.106874751189489,-0.130967948391101,-0.103590648257195,0.0883994980759546,-0.00373678637167707,0.178874677477624,-0.0509262519445626,-0.104709607027651,0.101118297641029,0.027577309507012,0.0868985663295723,-0.0281611999724305,-0.0817959861105191,-0.0750600296138284,0.0615753900684437,0.0903702285267594,-0.0909360815972651,0.0200352133817052,0.0940240023678784,0.0343248214165941,0.0248050499318424,0.0313171698483865,-0.0249109789345745,-0.139400625305822,-0.0781622507234898,0.0105184984777988,0.0410319459294533,-0.131338285774413,0.0499814025083838,0.0455745226106012,0.0453544577768632,-0.0242700978305477,0.0172199050708288,0.0500939319042981,0.000944236938338783,0.0513077111833313,0.0148796555132966,0.0895222941764109,-0.00686664949902482,0.00307486628097209,0.0016042118724382,0.0718427443459113,0.0583531173149794,0.104830048869419,0.0433500401281766,-0.0103991147429072,-0.134799628586715,-0.0252729579943081,-0.137795516985066,-0.267692435878382,-0.21320109782791,0.017927393385734,-0.0304595939875769,0.114042414612626,0.0216099847279541,0.0851428959630631,0.118167912435404,-0.0694630723291176,0.0568531435132273,-0.0686957379069755,0.0363285521319199,0.0374678297688975,-0.0170927834375076,0.0462122185907194,0.000558576819769563,0.0343595054460124,0.0404071211388484,-0.0799268210199724,-0.0103422352347886,-0.0217435073382912,0.0102210990842186,-0.0193421451139413,0.0510512399980279,0.0464947217251588,0.0535181842618471,0.0197692339015889,0.0425984975848381,0.103916313162501,0.0236440434081802,-0.0568350423801505,-0.0352528106120094,0.00868411929679436,-0.0560024477605854,0.0931372325031576,0.0072114606378868,0.05732979751423,0.0137226037178682,0.000159474881160193,0.00931022694976846,0.0846248159005123,-0.00905828968432054,-0.0148228534860477,-0.102088471484794,0.0613527701160246,0.0867953380064233,0.00530911276981527,-0.0334407528733589,-0.0210369967594701,-0.00695582501303171,0.0261781241831409,0.0204530495089381,-0.0385245197390933,-0.0293100830443329,0.0222280239048551,0.0697638570093213,0.0893097652418362,0.0664350824205933,-0.026370000669778,-0.0754030057181918,0.0171101327941976,0.0558533632266709,-0.020259685765974,0.0175694734627987,-0.0416147981489576,-0.0325492555970497,0.006435773482802,0.035525784970714,-0.0479985458453935,-0.0387900495240636,-0.00463838491163315,-0.052583390467599,-0.0532883963732038,-0.210421988494186,-0.248142726533761,0.220554267627132,0.0740470770769805,0.0513513628609301,0.0908836928643408,0.000312662317139001,-0.0763200291313755,-0.0746435462423829,0.10514740316728,-0.00314988115313852,-0.118029622582527,-0.13080075721576,-0.136137288439055,0.00516540979545965,0.112393838213912,0.0502189667984227,0.111517800854298,0.00759002865723257,-0.122245255311148,-0.00552067113880561,0.0150686394312398,0.0771455320213654,-0.043187991959079,0.15924287411443,-0.0304115423640372,-0.0211440951188244,-0.0673583954944492,0.0308894498787984,-0.0232232487199751,-0.0506836847365948,0.00226774105868621,0.0320004533714808,0.0504589204691923,0.058669312665681,0.111453379111643,0.0281300666112561,0.0566079767042726,-0.0377704147440019,0.0205569661027294,0.0893020980237749,0.108487565271,0.0255008583280878,-0.00236519712655792,-0.00735622179457796,0.11997059648763,-0.0413372195926751,-0.201635720008938,-0.132446055239576,0.0349545570199679,0.0919457013692453,0.0735836184039602,0.0678290548589411,0.000528687216688972,-0.13812811789041,0.00815320561417732,0.00250742383078517,0.0674892730502838,-0.0493296456188821,0.0661670720966221,0.0349627549762079,-0.0173619403607512,-0.095114694588414,-0.407726867791669,-0.238301366443614,0.382090721461879,0.142213868645522,0.0771491674836309,0.0696082437074983,-0.076753500570252,0.0311620914188353,0.0209501712391909,0.0838953839149221,0.135523427567585,0.131875844335688,0.0910788214042757,-0.0261489251153648,-0.00235396946501254,0.0272216316685849,0.0369774708337669,-0.0369973009114952,0.0630762164314085,0.16620557546329,-0.0302337324925617,-0.0650513420797774,0.119979543716181,0.0311380075540093,0.124267770447474,-0.099982326159374,0.0995509334015896,0.0619685273104578,-0.0485513939869868],"name":" Dif Petroleum (R$)","line":{"color":"#073320","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="funções-de-autocorrelações" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Funções de Autocorrelações</h1>
<p>Faremos as funções de autocorrelação (FAC e FACP) para cada variável para perceber quais lags da própria variável ou de seus erros são relevantes para explicar sua trajetória. É possível que o n-ésimo lag de uma variável seja relevante para explicá-la mas, passando para o VAR, esse n-ésimo lag não seja considerado. Essa desconsideração pode aparecer no erro do VAR, a depender da relevância do lag. Conhecer as propiedades de cada variável,individualmente, ajuda a entender o modelo multivariado. A análise das funções também pode nos indicar usar a diferenciação com o evento imediatamente anterior em detrimento da diferenciação com o mesmo mês do ano anterior, fica como exercício avaliar os gráficos das variáveis <code>&lt;&gt;_dif12</code>, criadas anteriormente.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(ptr_br_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> ggplot2<span class="sc">::</span><span class="fu">autoplot</span>(),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(ptr_br_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> ggplot2<span class="sc">::</span><span class="fu">autoplot</span>()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(Petro R$))"</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(ipca_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(ipca_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(IPCA))"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>) <span class="co"># Maior influnência do passado na contemporânea</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(petro_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(petro_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(Petro US$))"</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(cambio_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(cambio_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(R$/US$))"</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<p>As FAC’s nos mostram erros com comportamento senoide em todas as variáveis, com alta persistência para os erros do IPCA, e algumas significâncias assíncronas (sem múltiplos) no componente autorregressivo, o que dificulta a visualização de sazonalidades.</p>
</section>
<section id="var" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> VAR</h1>
<p>Primeiramente, definimos a ordem do conjunto VAR. Para fins de comparação, vamos montar dois modelos: o <strong>primeiro modelo</strong> com Petro US$, Câmbio e IPCA; <strong>o segundo</strong> com Petro R$ e IPCA. Separar o efeito do câmbio e do preço do petróleo pode ser valioso na fase de decomposição da variância e por capturar o efeito puro do preço internacional do petróleo: quando fazemos <code>petro * câmbio</code>, todos os demais fatores que afetam o câmbio (como saúde fiscal ou taxa de juros do FED) também afetarão o preço percebido do petróleo no país.</p>
<p>A regra para determinar a ordem do sistema é colocar tantas defasagens forem necessárias para produzir resíduos brancos em todas as variáveis, mas adicionar muitos parâmetros diminui o poder dos testes estatísticos. Devemos usar algum critério de informação para escolher a ordem do sistema, penalizando lags que não contribuem significativamente para a explicação dos erros. Os critérios HQ() e SC() penalizam mais fortemente parâmetros adicionais, enquanto que o AIC() tende a sobreparametrizar o modelo, apesar de funcionar melhor em pequenas amostras, o que não é o caso.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>var1_p_select <span class="ot">&lt;-</span> <span class="fu">VARselect</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, petro_log_dif, cambio_log_dif),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag.max =</span> <span class="dv">12</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"both"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>var1_p_select<span class="sc">$</span>selection <span class="sc">|&gt;</span> <span class="fu">t</span>() <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"VAR 1: Petro US$, Câmbio e IPCA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>VAR 1: Petro US$, Câmbio e IPCA</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> AIC(n) </th>
   <th style="text-align:right;"> HQ(n) </th>
   <th style="text-align:right;"> SC(n) </th>
   <th style="text-align:right;"> FPE(n) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>var2_p_select <span class="ot">&lt;-</span> <span class="fu">VARselect</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, ptr_br_log_dif),</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag.max =</span> <span class="dv">12</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"both"</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>var2_p_select<span class="sc">$</span>selection <span class="sc">|&gt;</span> <span class="fu">t</span>() <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"VAR 2: Petro R$ e IPCA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>VAR 2: Petro R$ e IPCA</caption>
 <thead>
  <tr>
   <th style="text-align:right;"> AIC(n) </th>
   <th style="text-align:right;"> HQ(n) </th>
   <th style="text-align:right;"> SC(n) </th>
   <th style="text-align:right;"> FPE(n) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Vamos rodar os dois modelos com VAR(1) e sem dummies sazonais. Fica como exercício comparar o ganho de explicação e as significâncias com p=4.</p>
<section id="var_1-petro-us-câmbio-e-ipca" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="var_1-petro-us-câmbio-e-ipca"><span class="header-section-number">6.1</span> <span class="math inline">VAR_{1}</span>: Petro US$, Câmbio e IPCA</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> vars<span class="sc">::</span><span class="fu">VAR</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, cambio_log_dif, petro_log_dif),</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="dv">1</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"const"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="cn">NULL</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">exog =</span> <span class="cn">NULL</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
VAR Estimation Results:
========================= 
Endogenous variables: ipca_log_dif, cambio_log_dif, petro_log_dif 
Deterministic variables: const 
Sample size: 275 
Log Likelihood: 2011.68 
Roots of the characteristic polynomial:
0.6242 0.4388 0.1376
Call:
vars::VAR(y = dplyr::select(dplyr::as_tibble(dd), ipca_log_dif, 
    cambio_log_dif, petro_log_dif), p = 1, type = "const", exogen = NULL)


Estimation results for equation ipca_log_dif: 
============================================= 
ipca_log_dif = ipca_log_dif.l1 + cambio_log_dif.l1 + petro_log_dif.l1 + const 

                   Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1   0.6336983  0.0477546  13.270  &lt; 2e-16 ***
cambio_log_dif.l1 0.0182740  0.0050916   3.589 0.000394 ***
petro_log_dif.l1  0.0060105  0.0020802   2.889 0.004172 ** 
const             0.0017625  0.0003138   5.616 4.84e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.003083 on 271 degrees of freedom
Multiple R-Squared: 0.4081, Adjusted R-squared: 0.4016 
F-statistic: 62.28 on 3 and 271 DF,  p-value: &lt; 2.2e-16 


Estimation results for equation cambio_log_dif: 
=============================================== 
cambio_log_dif = ipca_log_dif.l1 + cambio_log_dif.l1 + petro_log_dif.l1 + const 

                   Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1   -0.425754   0.562229  -0.757   0.4496    
cambio_log_dif.l1  0.318697   0.059945   5.317 2.21e-07 ***
petro_log_dif.l1  -0.050679   0.024491  -2.069   0.0395 *  
const              0.005178   0.003695   1.401   0.1622    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.03629 on 271 degrees of freedom
Multiple R-Squared: 0.1476, Adjusted R-squared: 0.1382 
F-statistic: 15.65 on 3 and 271 DF,  p-value: 2.058e-09 


Estimation results for equation petro_log_dif: 
============================================== 
petro_log_dif = ipca_log_dif.l1 + cambio_log_dif.l1 + petro_log_dif.l1 + const 

                    Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1    1.1636187  1.3961442   0.833   0.4053    
cambio_log_dif.l1 -0.3744455  0.1488562  -2.515   0.0125 *  
petro_log_dif.l1   0.2482173  0.0608159   4.081 5.89e-05 ***
const             -0.0004095  0.0091754  -0.045   0.9644    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.09012 on 271 degrees of freedom
Multiple R-Squared: 0.1151, Adjusted R-squared: 0.1053 
F-statistic: 11.75 on 3 and 271 DF,  p-value: 2.941e-07 



Covariance matrix of residuals:
               ipca_log_dif cambio_log_dif petro_log_dif
ipca_log_dif      9.502e-06     -1.493e-05     1.024e-06
cambio_log_dif   -1.493e-05      1.317e-03    -8.597e-04
petro_log_dif     1.024e-06     -8.597e-04     8.122e-03

Correlation matrix of residuals:
               ipca_log_dif cambio_log_dif petro_log_dif
ipca_log_dif       1.000000        -0.1335      0.003685
cambio_log_dif    -0.133472         1.0000     -0.262855
petro_log_dif      0.003685        -0.2629      1.000000</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var1, <span class="at">equation=</span><span class="st">"ipca_log_dif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
VAR Estimation Results:
========================= 
Endogenous variables: ipca_log_dif, cambio_log_dif, petro_log_dif 
Deterministic variables: const 
Sample size: 275 
Log Likelihood: 2011.68 
Roots of the characteristic polynomial:
0.6242 0.4388 0.1376
Call:
vars::VAR(y = dplyr::select(dplyr::as_tibble(dd), ipca_log_dif, 
    cambio_log_dif, petro_log_dif), p = 1, type = "const", exogen = NULL)


Estimation results for equation ipca_log_dif: 
============================================= 
ipca_log_dif = ipca_log_dif.l1 + cambio_log_dif.l1 + petro_log_dif.l1 + const 

                   Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1   0.6336983  0.0477546  13.270  &lt; 2e-16 ***
cambio_log_dif.l1 0.0182740  0.0050916   3.589 0.000394 ***
petro_log_dif.l1  0.0060105  0.0020802   2.889 0.004172 ** 
const             0.0017625  0.0003138   5.616 4.84e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.003083 on 271 degrees of freedom
Multiple R-Squared: 0.4081, Adjusted R-squared: 0.4016 
F-statistic: 62.28 on 3 and 271 DF,  p-value: &lt; 2.2e-16 



Covariance matrix of residuals:
               ipca_log_dif cambio_log_dif petro_log_dif
ipca_log_dif      9.502e-06     -1.493e-05     1.024e-06
cambio_log_dif   -1.493e-05      1.317e-03    -8.597e-04
petro_log_dif     1.024e-06     -8.597e-04     8.122e-03

Correlation matrix of residuals:
               ipca_log_dif cambio_log_dif petro_log_dif
ipca_log_dif       1.000000        -0.1335      0.003685
cambio_log_dif    -0.133472         1.0000     -0.262855
petro_log_dif      0.003685        -0.2629      1.000000</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Acoef</span>(var1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
               ipca_log_dif.l1 cambio_log_dif.l1 petro_log_dif.l1
ipca_log_dif         0.6336983        0.01827398      0.006010469
cambio_log_dif      -0.4257536        0.31869694     -0.050679481
petro_log_dif        1.1636187       -0.37444549      0.248217291</code></pre>
</div>
</div>
<p>A variável melhor explicada, i.e., com o maior <span class="math inline">R^2-adj</span>, é a equação do IPCA e isso é bem razoável, está conforme nossas hipóteses a priori. A um nível de confiança de 95%, todas as variáveis do IPCA são significantes. O câmbio é explicado somente pelo seu próprio lag. Já o preço do petróleo é explicado por ele mesmo no passado e pelo câmbio no passado, esse último resultado está contradizendo nossa hipótese a priori (a de que nosso câmbio não afeta o preço internacional do petróleo por não sermos um agente com poder de mercado) e submeteremos essa equação a um teste de Granger-causalidade. Os valores altos na matriz de correlação dos resíduos nos diz que podemos ter esquecido alguma outra variável na relação delas, essa relação desconsiderad afetaria os resíduos conjuntamente. A maior correlação é de -0.2605. O diagnóstico dos resíduos, mais adiante, nos ajudarão a entendê-los melhor.<br>
As equações do sistema reduzido ficariam:</p>
<p><span class="math display">
\begin{bmatrix}
ipca_{t} \\ camb_{t} \\ us.petro_{t}
\end{bmatrix}
=
\begin{bmatrix}
.0017 \\ .0049 \\ -.0005
\end{bmatrix}
+
\begin{bmatrix}
.6279 &amp; .0178 &amp; .0057 \\
-.3663 &amp; .3232 &amp; -.0478 \\
1.2086 &amp; -.3709 &amp; .2503
\end{bmatrix}
\begin{bmatrix}
ipca_{t-1} \\ camb_{t-1} \\ us.petro_{t-1}
\end{bmatrix}
+
\begin{bmatrix}
\epsilon_{ipca,t}  \\ \epsilon_{camb,t} \\ \epsilon_{us.petro,t}
\end{bmatrix}
</span></p>
</section>
<section id="var_2-petro-r-e-ipca" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="var_2-petro-r-e-ipca"><span class="header-section-number">6.2</span> <span class="math inline">VAR_{2}</span>: Petro R$ e IPCA</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> vars<span class="sc">::</span><span class="fu">VAR</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, ptr_br_log_dif),</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="dv">1</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"const"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="cn">NULL</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">exog =</span> <span class="cn">NULL</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
VAR Estimation Results:
========================= 
Endogenous variables: ipca_log_dif, ptr_br_log_dif 
Deterministic variables: const 
Sample size: 275 
Log Likelihood: 1478.102 
Roots of the characteristic polynomial:
0.636 0.175
Call:
vars::VAR(y = dplyr::select(dplyr::as_tibble(dd), ipca_log_dif, 
    ptr_br_log_dif), p = 1, type = "const", exogen = NULL)


Estimation results for equation ipca_log_dif: 
============================================= 
ipca_log_dif = ipca_log_dif.l1 + ptr_br_log_dif.l1 + const 

                   Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1   0.6219448  0.0480098  12.955  &lt; 2e-16 ***
ptr_br_log_dif.l1 0.0064184  0.0020949   3.064   0.0024 ** 
const             0.0018657  0.0003143   5.935 8.91e-09 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.003114 on 272 degrees of freedom
Multiple R-Squared: 0.3939, Adjusted R-squared: 0.3895 
F-statistic: 88.39 on 2 and 272 DF,  p-value: &lt; 2.2e-16 


Estimation results for equation ptr_br_log_dif: 
=============================================== 
ptr_br_log_dif = ipca_log_dif.l1 + ptr_br_log_dif.l1 + const 

                  Estimate Std. Error t value Pr(&gt;|t|)   
ipca_log_dif.l1   0.980618   1.360765   0.721  0.47175   
ptr_br_log_dif.l1 0.189113   0.059377   3.185  0.00162 **
const             0.002636   0.008910   0.296  0.76755   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.08825 on 272 degrees of freedom
Multiple R-Squared: 0.03764,    Adjusted R-squared: 0.03056 
F-statistic: 5.319 on 2 and 272 DF,  p-value: 0.005419 



Covariance matrix of residuals:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif      9.695e-06     -1.855e-05
ptr_br_log_dif   -1.855e-05      7.788e-03

Correlation matrix of residuals:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif         1.0000        -0.0675
ptr_br_log_dif      -0.0675         1.0000</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var2, <span class="at">equation=</span><span class="st">"ipca_log_dif"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
VAR Estimation Results:
========================= 
Endogenous variables: ipca_log_dif, ptr_br_log_dif 
Deterministic variables: const 
Sample size: 275 
Log Likelihood: 1478.102 
Roots of the characteristic polynomial:
0.636 0.175
Call:
vars::VAR(y = dplyr::select(dplyr::as_tibble(dd), ipca_log_dif, 
    ptr_br_log_dif), p = 1, type = "const", exogen = NULL)


Estimation results for equation ipca_log_dif: 
============================================= 
ipca_log_dif = ipca_log_dif.l1 + ptr_br_log_dif.l1 + const 

                   Estimate Std. Error t value Pr(&gt;|t|)    
ipca_log_dif.l1   0.6219448  0.0480098  12.955  &lt; 2e-16 ***
ptr_br_log_dif.l1 0.0064184  0.0020949   3.064   0.0024 ** 
const             0.0018657  0.0003143   5.935 8.91e-09 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1


Residual standard error: 0.003114 on 272 degrees of freedom
Multiple R-Squared: 0.3939, Adjusted R-squared: 0.3895 
F-statistic: 88.39 on 2 and 272 DF,  p-value: &lt; 2.2e-16 



Covariance matrix of residuals:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif      9.695e-06     -1.855e-05
ptr_br_log_dif   -1.855e-05      7.788e-03

Correlation matrix of residuals:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif         1.0000        -0.0675
ptr_br_log_dif      -0.0675         1.0000</code></pre>
</div>
</div>
<p>Como no primeiro modelo, o IPCA foi a variável melhor explicada (maior <span class="math inline">R^2-adj</span>). Tanto seu valor defasado quanto o preço internacional do petróleo em reais são significativos para explicá-la. A única variável significativa que explica os preços em reais do mercado internacional de petróleo é ela mesma no passado, o que corrobora nossa hipótese a priori. O modelo ficaria assim:</p>
<p><span class="math display">
\begin{bmatrix}
ipca_{t} \\ br.petro_{t}
\end{bmatrix}
=
\begin{bmatrix}
.0018 \\ .0023
\end{bmatrix}
+
\begin{bmatrix}
.6166 &amp; .0061  \\
1.0768 &amp; .1939 \\
\end{bmatrix}
\begin{bmatrix}
ipca_{t-1} \\ br.petro_{t-1}
\end{bmatrix}
+
\begin{bmatrix}
\epsilon_{ipca,t}  \\ \epsilon_{br.petro,t}
\end{bmatrix}
</span></p>
<p>A seguir, vamos fazer uma base só com os valores realizados e estimados (<code>realz_fit</code>) e fazer os gráficos comparando-os:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>realz_fit <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    var1[[<span class="st">"y"</span>]] <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>(),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    var2<span class="sc">$</span>y <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ptr_br_log_dif),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_ipca"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>ipca_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_cambio"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>cambio_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_petro"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>petro_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_fitted_ipca"</span><span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,var2<span class="sc">$</span>varresult<span class="sc">$</span>ipca_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_fitted_ptr"</span><span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,var2<span class="sc">$</span>varresult<span class="sc">$</span>ptr_br_log_dif<span class="sc">$</span>fitted.values)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>plt_ipca_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_ipca,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0e0417"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v2_fitted_ipca,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var2"</span>,</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#8C2280"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(IPCA)) Realizado e Estimado em VAR¹ e VAR²'</span>,</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>plt_ipca_var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-46dfecf4781b50f005bf" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-46dfecf4781b50f005bf">{"x":{"visdat":{"d03e30c649a":["function () ","plotlyVisDat"]},"cur_data":"d03e30c649a","attrs":{"d03e30c649a":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e30c649a.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IPCA","line":{"color":"#551a8b","width":2},"inherit":true},"d03e30c649a.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted Var1","line":{"color":"#0e0417","width":2,"dash":"dot"},"inherit":true},"d03e30c649a.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted Var2","line":{"color":"#8C2280","width":2,"dash":"dash"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Dif(Log(IPCA)) Realizado e Estimado em VAR¹ e VAR²","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log IPCA","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00558318949476266,0.00309698065394848,0.0118327072056728,0.00945504161467881,0.00597921374740107,0.00618143965219797,0.00130044721193912,0.00219691147807755,0.00419316519776025,9.93276758762818e-05,0.00230039815847771,0.0159745843031915,0.0130136603878377,0.00229564649319958,0.00139764103382589,0.00319582779944305,0.00588014455392738,0.00568630957564764,0.00459055648173123,0.00379088412952377,0.00578181453814075,0.00409126876803345,0.00518874682211834,0.0132112160469706,0.00697337464180858,0.00279496185719275,0.00826562362788419,0.00707685488232546,0.00648111212930669,0.00518884272440356,0.00359381549966997,0.00598107146604576,0.00796985219900659,0.00209559543902937,0.00418878021009306,0.0118320618561807,0.00647712710965997,0.00717232304889492,0.0130171245122064,0.029755134513068,0.020780367382045,0.0222529822643214,0.0155803071239946,0.0122265135805995,0.00965253980345082,0.00608226489961261,-0.00150216049910856,0.00199779161285996,0.00339397152135756,0.00777040784828387,0.00289501367675005,0.00339626376494984,0.00518500526427523,0.00756942969630892,0.0060800442927178,0.00468783964643205,0.00369239303880686,0.00508543915111304,0.00707297741813129,0.00905713788934293,0.00687487992761415,0.00329649567032497,0.00439119159404466,0.00687673572970926,0.00856121225424111,0.00578169636769044,0.00588443607933797,0.00607937069769893,0.00866063990542898,0.00488834152521012,-0.000202025916571813,0.00249821037799869,0.00169957108627639,0.00349476543106242,0.00747065165012462,0.00548544679438656,0.00359167545033134,0.0058831101539738,0.00409299402591135,0.00429018806551706,0.00209747098683,0.0010005740561434,-0.00210313996267608,0.00189767737068181,0.000500014545724348,0.00209810860156967,0.00329311504415841,0.00309404758595022,0.00478764179671032,0.00439178744706581,0.00439153702730355,0.0036927775600093,0.00249699321422714,0.00279511056755322,0.0027948121003325,0.00239842814083424,0.00469039814738981,0.00179872873949805,0.00299564595140289,0.00379099041823672,0.00737441268736738,0.00538519991686037,0.0048890439180953,0.00478953220968759,0.00548423447385371,0.00786973870607532,0.00737393264570851,0.00528419567802807,0.00279635077987272,0.00259636794511398,0.00449095765596486,0.00359424682979093,0.00279699159781277,0.00478654614125418,0.00548593271847242,0.00199613827325784,0.00478949001127571,0.004688867380648,0.00359243814293198,0.00239677492827273,0.00149842961732904,0.00239751578081027,0.00279597909243989,0.00409288882976533,0.00369186649215081,0.00747138166103944,0.00776852444365339,0.00518573574256997,0.00568536550062682,0.00429113310202567,0,9.96497793259721e-05,0.000398499846195222,0.00448820837477193,0.00747291173852993,0.00826484954735029,0.00628084999342171,0.00826702078778041,0.00796836668139811,0.00786872012785267,0.00767089368619267,0.00469030820611493,0.00149831279452783,0.00159833638515572,0.00369257791961175,0.00528691415735771,0.00429201165107962,0.0051864510997266,0.00498636633038529,0.00558411885645782,0.00448916214956618,0.00209774032414423,0.00637942700523908,0.00359271480666123,0.000798545425951147,0.00429201194082829,0.00409145560443314,0.00568420491024391,0.00588290127352664,0.00598279910925115,0.00786997490680719,0.0085629125047415,0.00598189658646042,0.00468909078174029,0.00548538790029696,0.0036924449634963,0.00259761402833902,0.000298670113011212,0.00239689056547476,0.00349366860645794,0.00568321997351617,0.00538663082020641,0.00915751528545172,0.00548371945131976,0.00687605722978724,0.00915841798434869,0.00667787236060313,0.00458876749808468,0.00399197074305313,0.000101047866460036,0.00249768652453675,0.00568353234611152,0.00419040421958528,0.00508684046053887,0.00776928601737481,0.0123231988642072,0.0121251125779409,0.0131144723090468,0.00707530328946326,0.00737172407226261,0.00787008588751448,0.00617984042493269,0.00219720578137306,0.00538503521749689,0.00816543146944859,0.0100493145068459,0.0095532513459915,0.012619315128827,0.00895929050709121,0.00429033161548276,0.0060822006380743,0.00776875549496125,0.00349318480249572,0.0051873180378923,0.00439027314411966,0.00079980842627414,0.00259759831484274,0.00179940096563591,0.00299461696436509,0.00379328636422649,0.00329462828420191,0.00249601431998592,0.00139894511283067,0.00309558397914245,-0.00230268155257995,0.00239765145132331,0.0018975063804465,0.00159771083719917,0.00419212938201952,0.00279659803570986,0.00439082669439728,0.00289626267990251,0.00319523376527187,0.000899221577245868,0.00219716232886569,0.00399255121032027,0.0125214205091968,0.00329521542398759,-0.000899416625909311,0.00478822386630462,0.00448917344967548,-0.00210265007356369,0.00149898297370576,0.00319450941785426,0.00429023675139106,0.00747163337833179,0.00568351322154825,0.00129933333892396,9.97313009420964e-05,0.00189874990584649,0.0011000459302295,-0.000399702810030433,0.000999913092792681,0.00508729438343281,0.0114348963984128,0.00209732447485145,0.00249715149288399,0.000699507380831577,-0.00310475512501007,-0.00380700150503088,0.00259657139187652,0.00359322566646725,0.00239766366128613,0.00638002538115323,0.00856340535322708,0.00886076185011042,0.0134100429873047,0.00249661560042469,0.0085631214550439,0.00925726814713457,0.00309491820475749,0.00826641119310523,0.00528606196843384,0.00955390243830756,0.00866225071755089,0.0115328690703027,0.0124220838441893,0.0094558426439324,0.00727306942680883,0.00538576221200593,0.0100499458054983,0.0160706728999873,0.0105443927917879,0.00468906184051932,0.00667822849660027,-0.00682325965905939],"name":"IPCA","line":{"color":"#551a8b","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00653656969580406,0.00459914171211071,0.00970546095785023,0.00799142152925486,0.00489454780692075,0.0053368216858307,0.00272944425619095,0.00283009923143774,0.00381609467240786,0.00330161726457563,0.00354071227218288,0.0114713971081128,0.0104746736640455,0.00397411203151322,0.00289908116689945,0.00462111816205053,0.0041047457832075,0.00543345346624228,0.00543745096989426,0.0044509711980268,0.00646732764748594,0.00556732739388207,0.00558617086218571,0.0103023006537489,0.00672761933156769,0.00458020257674367,0.00630581041448145,0.00417732939443137,0.00450070337917163,0.00539262046448366,0.00461339387502452,0.0060060689826742,0.00700426955748826,0.00436003616260001,0.00579720820968464,0.0109721137047061,0.00714625454065607,0.00797676100580944,0.0121992401041462,0.0188266615944369,0.0159541347278074,0.0154183912769271,0.0128784283223317,0.00829094388494773,0.00501012663751097,0.0047340835050782,0.000775831673936484,0.00315664009289628,0.00489331871753465,0.00560845640019105,0.00366582327389315,0.00425740477727887,0.00529097566769079,0.00637832136880789,0.00609130860046911,0.00500639730120506,0.00416547183731575,0.00678033691496327,0.00611289688208715,0.00732971109762055,0.00650224564532174,0.00313175234438554,0.00502434711701878,0.00504196365459574,0.00626282557319284,0.00584336843775999,0.00502744103700328,0.00718474829932115,0.00636175690645103,0.00361440579672091,0.00204404807958094,0.00330629579522346,0.00329491153493655,0.00345886784342429,0.00580062085192709,0.00453641675821063,0.00481625387181791,0.00597131280886146,0.00318996582030689,0.00454524961228895,0.00352664869493023,0.00288081238296088,0.000967942444857607,0.00282700223537467,0.00174097976217018,0.00232677900934498,0.00326355508993868,0.00384106528808398,0.00499742763633942,0.00369088994782713,0.00460125955635328,0.00433192462501057,0.00327975435304027,0.00307970155128105,0.00332539087017473,0.00326757595810207,0.00527093179010101,0.00278916606813932,0.00309627747199475,0.00448915291010432,0.00650543454970717,0.00511288717670636,0.00454373097374536,0.00508580237911043,0.00545342897720531,0.00717149763311331,0.00638455469906637,0.00483832142755976,0.00288437499871773,0.00460429043988179,0.00609273689384824,0.00294746972423934,0.00292799253924435,0.00444938660983427,0.00508394801246077,0.00371868324840124,0.00434157068479419,0.00441138407411949,0.00411833364209021,0.00270736031874447,0.00248467000657495,0.00269880024816304,0.003191161824523,0.0044934782133473,0.00417077615985888,0.00697987392325546,0.0070981647013853,0.00488699744596044,0.00540585197042596,0.00439042674956387,0.00165283318541502,0.00144374405336752,0.00200688489277644,0.00420181657746377,0.00656918075537613,0.00747661835521345,0.00592112715399566,0.00698499831567672,0.00701727696360205,0.00730779088233214,0.00621582158608924,0.00460091571427118,0.00229685517468257,0.00264760238659853,0.00402281050544191,0.00679366985465695,0.00468516321656935,0.0055164285982368,0.00531917358799897,0.00498279382350425,0.00416473855328365,0.00413778296743243,0.00615061972286754,0.00478839102966612,0.00203908826379433,0.00472819635808258,0.00488120368168311,0.00538817970973343,0.00530021579841706,0.00565430422228896,0.00676728113506799,0.00706686578526834,0.00532194737628128,0.00456185631172956,0.00518156940766154,0.00443428314043525,0.00463340390399224,0.00292757922670347,0.00416149822560633,0.00343653473292886,0.00446035251760859,0.00586244256339482,0.00816639712607285,0.00530637958825093,0.00623304289842092,0.00701597415899619,0.00529382923102206,0.00464598060968552,0.00458594615916986,0.001478374975022,0.0033491035713505,0.00568194146614711,0.0046940572024844,0.0051595803338346,0.00584910974049436,0.0080563839963357,0.0115921955235968,0.0118499551026068,0.00617269478032768,0.00705441512283067,0.00695048006033131,0.00565127078714837,0.00376706619674788,0.00710436803361945,0.00683506772935949,0.00708898886022621,0.00733392625284361,0.00950219395852586,0.00723074880846463,0.00429434886057127,0.0054526149395898,0.00726409272471116,0.00361722229842728,0.00376863028882793,0.00426301194105363,0.00253709080490301,0.00360348324370809,0.00323026242590404,0.00465488747884106,0.00340018011514143,0.00336339811936302,0.00303276949453446,0.0028668986982938,0.00386728092828461,0.000323204539018523,0.00295876856373047,0.00294411920396522,0.00301527557511743,0.00499053263301603,0.00446352159257496,0.00483596627804805,0.00363122714506542,0.00367781047318267,0.0025977065039543,0.00416223581766651,0.00574089794586169,0.0103045292276736,0.0040157165230234,0.00146770511002011,0.00608738809866871,0.00324238139945486,-0.000690200516216038,0.00222375662295712,0.00354293124161333,0.00497455762032079,0.00733764480044971,0.00592914911067225,0.00291629321474668,0.000550070471802335,0.00275931534176718,0.0032318267271946,0.00222069701817826,0.0019964598642541,0.0055873477662644,0.0090829276064828,0.00310579888676984,0.00332671601973795,0.00120017478658596,-0.000575241950684613,0.00235753645704541,0.00325091299521771,0.0046989190000258,0.00411369155457753,0.00520466568667765,0.00787994329290828,0.00704146556297934,0.0101321844011779,0.00465122342524592,0.00811881611728862,0.00868548901594868,0.00338266061031709,0.00637389156013665,0.00465991811175577,0.00833929170585526,0.0072534581387404,0.00951507051555201,0.0112234970303054,0.00761020920902747,0.00618687827960188,0.00563972325976967,0.00754641861737048,0.0121425441543928,0.00731284775121647,0.00582992214026017,0.00659777672280168],"name":"Fitted Var1","line":{"color":"#0e0417","width":2,"dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00608498719475071,0.00460537109242704,0.00921604262786727,0.00826576508789187,0.00548799617164443,0.0056251407587569,0.00303505197179305,0.00313360277398945,0.00363352194063613,0.00306885129331068,0.00377993078395149,0.0114350916514202,0.0103737543592937,0.00388629462978419,0.00271827410851877,0.00427508838356397,0.00394246985884094,0.00553332294233354,0.00522480925602287,0.00397114975637011,0.00593976908164965,0.00509365653076014,0.00522406095753185,0.00977352659980569,0.0065511757022046,0.00390692077433375,0.00593315130663722,0.00503480498501863,0.00539877788059315,0.00537409806817791,0.00448560089714531,0.00647112731675286,0.00717393160462513,0.00365130937870779,0.00476588134831165,0.0100287804469957,0.00649935273752478,0.00716699612726595,0.010595373940754,0.0192732848563407,0.0157025440041319,0.0159253471473154,0.0123148317612925,0.00870347667518181,0.00611588735857404,0.0054091283714287,0.00121971367021027,0.00326057698298559,0.00447664346112308,0.0058996338937093,0.00401738495710029,0.0041067509384803,0.00529817481677946,0.00671367741669607,0.00579970136482823,0.0051844424986124,0.00422736670336844,0.00609744055743932,0.00600338824759604,0.0077070348766055,0.00669776046719493,0.00364443330946491,0.00528275612028907,0.00530205908956316,0.00652542886837784,0.00602899190076927,0.00550152328445109,0.00679483433039343,0.00692528826862572,0.00423392400441285,0.00238908106547315,0.00359646396131217,0.00348050163225884,0.00385851446091783,0.0059870470897435,0.00479559323017407,0.0044947520082157,0.00610471460645128,0.00382766566661848,0.0046625670610577,0.00377370727806021,0.00270832499569194,0.000716884469984252,0.0032469694649841,0.00201680584576934,0.00227589242440311,0.00341217256242285,0.00385755164577861,0.00510672115397857,0.00375418139189171,0.00491780698777947,0.00445493205780495,0.00370980770849421,0.00344834236861735,0.00371445595706226,0.00367892548717959,0.00478894222681012,0.00331373606224024,0.00382434288595525,0.00479808918496844,0.00640811782879935,0.00523474581239112,0.00491672491569754,0.00530565275467576,0.00565113748127238,0.00743309679030879,0.00673012980860415,0.00508544541904503,0.00273969154756148,0.00331829867052259,0.00377441473098438,0.00238298036476849,0.00223687851901335,0.00495774557699324,0.00508215865193896,0.00383916999411358,0.00498321282681628,0.00532841040902729,0.00485845951182136,0.00291053322672953,0.00316255935108309,0.0029159190513914,0.00383782860256523,0.00465174723654767,0.00405214191302707,0.00680910831078469,0.00670089163025038,0.00531148726643077,0.00566104539421651,0.0040215590205115,0.00179933233506341,0.00178813113417799,0.00217916085030743,0.00453298533501673,0.00684111868436701,0.00730441477355951,0.00611555587248381,0.00713423043341984,0.00709501128448256,0.00742659857435023,0.00678834232438121,0.00441803606277202,0.00257131431737428,0.00291552803414981,0.00380284679476215,0.0057516733152595,0.00458139332282318,0.00545936458211967,0.00505503470955253,0.00533975028459635,0.00471748076597879,0.00371354710152749,0.00577522482035395,0.00400504434187388,0.00170711996566218,0.00492889380187764,0.00496745927149743,0.00543505069686885,0.00530991693598933,0.00545166008165782,0.00671575782326109,0.00735939354371836,0.00571739825921335,0.00453480305516025,0.00508919782014661,0.00430487815539433,0.00392905746410991,0.0026246945473783,0.00378285315552814,0.00386932892080812,0.00491639587952304,0.00532571963683148,0.00791967106619751,0.00514624915970557,0.00625500891505696,0.00729464335563791,0.00581006707153131,0.00476098041992112,0.0045765169444924,0.00162048546478972,0.00317016624172448,0.00537078543176376,0.00413441214557789,0.00468742102083694,0.00534720872522664,0.00793738466767443,0.0108224682737894,0.0104974544501733,0.0065957544738973,0.00703384594699705,0.0067624788683715,0.00521938058124136,0.00275316190168596,0.00588978521774511,0.00692394355382264,0.00735827132664064,0.00696777722657134,0.00884044776688197,0.00747105089462483,0.00525545045793814,0.00597083125363891,0.00741321543720677,0.00408699689684367,0.00430732018579857,0.00456078670166908,0.00245986607285731,0.00397642619564396,0.00270764342078752,0.00475028304337803,0.00402973442472728,0.00377907874728357,0.00298576329973267,0.00293404024225516,0.0036419393430498,0.000108264109127826,0.00337147505485933,0.00325124870189888,0.00318326614416334,0.00484954887193744,0.00432039434944944,0.00477711469935931,0.00403036081395727,0.00361054655723657,0.00255692181502656,0.00380540274613524,0.00504517547388118,0.00981702015433283,0.00389997429692911,0.00125911023168618,0.00561374259286879,0.00439241248685082,-0.000736197104753523,0.00194790651660289,0.00407687363320742,0.00512414724265452,0.00698494531509367,0.00583589817543425,0.00267721985392504,0.00104117945775914,0.00309896105525129,0.00256597439407197,0.00205029258812593,0.00217098651731498,0.00545441569266758,0.00920199229397935,0.0030586972008579,0.0028083196729516,-0.000316184125463431,-0.00159478575031621,0.00195037709407254,0.00439342177920387,0.00459567480899064,0.00380370058034924,0.00534110238808856,0.00739168913763837,0.00751108433690864,0.0107444934254285,0.00428831289974882,0.00803793319594871,0.00820780273970668,0.0036227471219736,0.00699185584587076,0.0053280709515864,0.00804504907537901,0.00701569161167402,0.00944336918492662,0.0106583366533714,0.00755267325620477,0.00597163558439187,0.00598543590188799,0.0083160807001402,0.0126583843478195,0.00778201737759246,0.00542100782481244,0.00641694101414201],"name":"Fitted Var2","line":{"color":"#8C2280","width":2,"dash":"dash"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>plt_cambio_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>cambio_log_dif,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_cambio,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#156760"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Câmbio)) Realizado e Estimado em VAR¹'</span>,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log R$/US$"</span>,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>plt_cambio_var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8357ac6074881a40a836" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-8357ac6074881a40a836">{"x":{"visdat":{"d03e581ecc3d":["function () ","plotlyVisDat"]},"cur_data":"d03e581ecc3d","attrs":{"d03e581ecc3d":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e581ecc3d.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Câmbio","line":{"color":"#30d5c8","width":2},"inherit":true},"d03e581ecc3d.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted Var1","line":{"color":"#156760","width":2,"dash":"dot"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Dif(Log(Câmbio)) Realizado e Estimado em VAR¹","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log R$/US$","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0437629283049094,0.00916004604609311,0.0369416035559536,-0.0203198535321978,-0.0462016350785914,-0.0214554582670977,-0.0158777864616034,-0.0189441624084086,0.0149350094057615,0.0332204703337157,-0.0107853353846999,-0.00582606724936074,0.00632386863689105,0.0164531516740412,0.0217376470583488,0.0357591680804227,0.00782672742330071,-0.00449416005897363,0.023972018749928,0.0426054215084921,0.0483750475316633,0.0466651809058085,0.0336547581752598,0.0372755026193464,0.0179301285881197,0.0622124255715275,0.0253234240529855,-0.0746697352056107,-0.0736028032365789,0.00641487745267966,0.017390292087847,-0.0306450543116531,-0.0112317380851192,0.0667024998254788,0.0900314932441602,0.0781697609817381,0.0580991093993737,0.071932403428715,0.130012248277626,-0.0622092779456793,0.0137488799014818,-0.0531083206543939,0.0433786490215391,-0.0409090456628562,-0.100083458556983,-0.0536948889424516,-0.0248415288861508,-0.00118026882170752,0.0417357832098104,-0.0269104815113415,-0.0212019631996698,0.0181171278484595,0.003940047923646,-0.0254537159704087,0.0271619500721714,-0.00850164525532038,0.000172120002490228,0.0647708361577821,0.00921665510492398,-0.0299488664791987,-0.0112288157510003,-0.0379517408171623,-0.0133047379142635,-0.0237358809647026,-0.0246441432781686,-0.0093168375802305,-0.0360017705472443,0.0403382425677253,-0.0475261237292458,-0.050265033445126,-0.0161575657247007,-0.0167179051379199,-0.00545167752766251,-0.0284542340966587,-0.0166622895170692,-0.0204678305402924,0.0332422091686386,-0.00509018607499978,-0.0505271872964562,-0.00459152535432628,-0.0106083196864478,0.0226680707900662,0.0317329102875021,-0.0266021097148254,-0.0153792514574238,0.00592183086094422,-0.00945458217605999,0.0044603521422607,-0.00371557716951088,-0.00531866514592516,-0.0199382963201089,-0.0036334122297963,-0.0275320247448612,-0.0251259479001917,-0.0254110147635971,-0.025754747581355,0.0432589801491683,-0.0343719136173302,-0.0533243378541781,-0.0174268271484168,0.0090595110805467,-0.00657545854143826,-0.0266271016230522,-0.0117076212767794,-0.0110166362065021,-0.0169667729806698,-0.0253842417209106,-0.0171413178827276,0.0130541187324577,0.10995435364106,0.188574665613096,0.042101043597545,0.0550030236729654,-0.0370239299883198,0.00229511846985364,0.00047568596974723,-0.047772523904917,-0.0680183340317819,-0.0514440393618323,-0.0127547501604447,-0.0464017144399128,-0.0138671218144283,-0.0457820487785059,-0.00716186496592819,0.0139870470340546,0.0167213758580924,0.0333880228027621,-0.0300210162548579,-0.0164938217216309,0.0317273403008748,-0.00386975992892868,-0.020480823320818,-0.00566959223658148,-0.0235291436742552,-0.0192183635275384,0.0160875581262514,-0.0116735071357054,-0.011014232006288,-0.00413849753007167,-0.00535259133899468,-0.0448300966443296,0.0169469084107465,-0.0165685743372507,-0.0146701897477938,0.0209547755404831,0.0914183915766936,0.0130082211454216,0.0100095595833661,0.0256362419622099,-0.026033588630606,-0.0406446779235231,0.0438179248797602,0.0326154591376513,0.0683600174821045,0.0313286350929984,-0.0100179412751084,0.000352475900336935,-0.000673016383645697,0.000878528900302822,0.0185105799648366,0.0048474736217492,-0.0227693486735538,-0.0288787303431771,0.00485064218659281,0.00972019514876588,0.0161727096350517,0.065685481654762,0.0358027143387968,0.0392085676595936,-0.031096543441632,-0.0367218422508109,0.04759253846372,0.0216200776800942,0.0155480785936585,0.000623334777182127,-0.0244650453189126,-0.0411580905614057,-0.00514106459241914,0.00654482183192173,-0.00486131785680688,0.0193271169303985,0.0281912253529992,0.0482899099728935,0.0402734798300571,0.0349010141118331,-0.0019410686900373,0.0669013174320016,0.108600687655368,-0.0311501813070749,0.00605539174573022,0.016217914227636,0.0351761730024438,0.0865079416335082,0.105796997834716,-0.00675761998129731,-0.0270952873981101,0.0247701250602288,0.0457578424370126,-0.0195895747895198,-0.0703239291817512,-0.0379953715263652,-0.00747590098014483,-0.0329819370612094,-0.0445439138184058,-0.020252496405835,0.0144519894587567,-0.0219140325704199,0.0478747994403883,0.00306825152691936,-0.047562484949621,-0.0293364636586322,0.00762042160656495,0.00263200821536547,0.0230558153700289,0.0264680233001868,-0.0274555132525802,-0.0173781260192487,-0.00513104548548915,0.0178501293043842,0.0211181864636165,0.00994657855489489,-0.0250190860562338,0.0095863445830926,0.0115678517716056,0.0383820147961897,0.0649334136582973,0.0370205313227512,0.0146212687566811,0.0260468984048272,0.0464440422545545,-0.0910339309675399,0.00747900440226079,0.025071502876636,-0.0370178604117668,-0.00483114732647905,0.032466975622474,0.0128331874444456,0.0266871618390674,-0.036316342446064,-0.0208240168768881,0.0617446840039297,0.0249434266376198,-0.00841038054062904,0.016585035231411,-0.0110850470523782,0.00967336808480512,0.0451344822587367,0.117835384679286,0.0866054659214899,0.057979362338064,-0.0825011204989627,0.0159614431100072,0.0337151374636917,-0.011373007228398,0.0410630154232901,-0.0376691876172863,-0.0515708584419261,0.0401280632024947,0.0111952213377728,0.0415293061704367,-0.0149931206529474,-0.0499712189212385,-0.0502235365731065,0.0244869278787583,0.0182756368103125,0.00531177588853926,0.0481279441309106,0.00304354154296083,0.0168372220460491,-0.0209410117899991,-0.0629363730797889,-0.0449115943987208,-0.0432687991308409,0.0405814989300035,0.0188267952447747,0.0612448215304593],"name":"Câmbio","line":{"color":"#30d5c8","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0130693409415951,0.000819950950678508,0.0138567253213167,-0.010455023487405,-0.0136714102371229,-0.00470664148770868,-0.00408687872739525,-0.00197694233599344,0.0155432869195814,0.00839483147964155,-0.0036025046200026,-0.000885436782498136,-0.00129730489514696,0.00559759219855057,0.0127445698648911,0.0136962831297723,0.0180444929015566,6.27419253930207e-05,0.00809892357099375,0.0212939104701499,0.0168104420382137,0.0152774623339149,0.0143643552584535,0.0157609399683249,0.00608143028306937,0.024576608031029,0.0194881187269501,-0.0156854313715721,-0.020837222369419,0.00311832668477813,0.00703406946446166,-0.0156796224124396,-0.00513823191208872,0.0251167035288361,0.0343214090467438,0.0226651829426792,0.0191023741021073,0.0220583996221409,0.0426558999864241,-0.0217949984107994,-0.00579615698441696,-0.0256460430605123,0.0085748444054217,-0.00908599726105211,-0.0220566382235646,-0.0153543079494048,-0.00563400396732978,0.00268896206760232,0.0152011258381611,-0.0017622971511199,-0.0066581792430585,0.00940789438300142,0.00278645964851907,-0.00855327756076788,0.0114183875064679,-0.00314102180997702,0.00315522411765941,0.0184983717916181,0.00763492344728331,-0.0113846750662791,-0.00628838494195604,-0.00809964582547923,-0.00702195098979399,0.00012054586928939,-0.00231958411980759,-0.00520461084763348,-0.0104357185241211,0.00842483370056482,-0.0134829839966587,-0.0101628905032469,-0.00582840529756791,-0.00345799772523172,-0.00196286586756765,-0.00539260905855172,-1.15076253512682e-05,-0.000913351377394629,0.0128075385035481,-0.00378643834168582,-0.0106191370007454,0.000640489532824487,-0.00439812858585701,0.0113859165955044,0.0165381290437158,-0.00704284487732801,0.000547287657442126,0.0135372866171082,0.00424529494657472,0.00497560289981949,-0.000311852086994157,0.0080001752562602,-0.00658905273026866,-4.55753232661109e-05,-0.00835289690344642,-0.0040625370827116,-0.00627039878379353,-0.00789464228506604,0.0191124676711419,-0.0108838097157564,-0.0165478251463505,-0.00740960221450462,0.00573311312998713,0.000301007736613696,-0.00681982412281595,-0.00482620481190709,-0.00418309592683469,-0.00975199991374669,-0.00953434822260069,-0.00287591424551637,0.0156413303019489,0.0459683804711565,0.0799048260192279,0.0327658106506897,0.0351093393987272,-0.0114437788909606,0.00523421136158358,-0.00127533826228912,-0.015601941174931,-0.0262572404659931,-0.0213419688715122,0.0029670409183416,-0.0154805206311029,0.00251695353227577,-0.0147638914896809,-0.0011084083851088,0.00963934119098339,0.0058319309284846,0.0141753904947573,-0.00985979502852153,-0.00538237758028626,0.0191214436153476,0.0042731690279408,-0.001327181747718,0.00239655156902822,-0.00444330384498552,-0.00768925174602017,0.00524567467796411,-0.00451985859289739,-0.00341157801506978,-0.00190166601591543,-0.00541525380310508,-0.0158449309870678,0.012321671059238,0.000207069410235045,-0.00136099828542921,0.0141846744646455,0.0319751565124323,0.00779054555806248,0.00376212859030353,0.0118294332759164,-0.00682330656332396,-0.0122178719615862,0.0161818738166674,0.0149688147432083,0.0296506094904326,0.0215842940558739,-0.00345862937223388,-0.000832070380065795,0.0022406977633527,0.00469302937182904,0.0105347454292155,0.00397081779254325,-0.00820441708309411,-0.0090720579398164,0.006926146132878,0.00791883491875291,0.00845366903032629,0.0247995562222313,0.0137497739039793,0.015273767914672,-0.00645892588919385,-0.00698402077181624,0.019597479133778,0.00643491017554872,0.00961355853650812,0.00159075517171559,-0.00564859594668257,-0.0112179489177312,0.000999593978285089,0.00409590652867639,0.00577229168386215,0.0132198696801912,0.0134068883057436,0.0238964010763804,0.0205893892052433,0.0254263150317129,0.0117905410923792,0.0135503107040274,0.0359567594994759,-0.0119425106794773,-0.000329329598982075,0.00780237998516151,0.0194084467822118,0.0399798493243686,0.0366358299604621,-0.000634505052355284,-0.00312678413569836,0.0168895112132321,0.0236069439611424,-0.0061337295134881,-0.0283202585001739,-0.0139907562316711,-0.00654223345463314,-0.00887621649517668,-0.00728823661848393,-0.00389175646325428,0.00941245990825453,-0.0079317312014965,0.0242848933821047,-0.00303354740429605,-0.0124637964664883,-0.0059888979697312,0.010344233394717,0.00398956252978788,0.0135536885697657,0.0185040893725156,-0.00609872782353879,-0.00367027848768351,4.56777421098432e-05,0.00701370026493217,0.00613992694141301,0.00555743204178821,-0.00816498952577983,0.00927320027994868,0.00802665641150882,0.0138946053231719,0.0219653630792856,0.0122295289518045,0.00929609693672574,0.0155552773428779,0.0142151107629506,-0.0282636922102034,0.0190550002403373,0.0205133497439284,-0.0116266493620997,-0.00309242808332519,0.0102607086502448,0.00406138723018226,0.0144560467306602,-0.00127817214960798,-0.00373507260937891,0.0273900346313521,0.0111417951296661,0.00414611595900771,0.00578530206625661,-0.00555646965251218,0.00873849266934575,0.0256072333561677,0.0690696082158469,0.0505672948122325,0.00885132238280768,-0.0336083649201166,0.00563450010031359,0.0130834810399288,0.00215101603401879,0.0151209581254375,-0.0135699266933168,-0.0238317795933672,0.0120695881407198,-0.00101550044356892,0.0119612315860809,-0.000352135856795076,-0.0166799182487409,-0.0170031001063257,0.00828171419085167,0.0101160367026106,-0.000966357795066743,0.00924379625024712,0.00380901117486951,0.0115979333946535,-0.0109301965784403,-0.0239256427296637,-0.024550828871325,-0.0102263069186332,0.0131267020277262,0.00614878947634106],"name":"Fitted Var1","line":{"color":"#156760","width":2,"dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>plt_petro_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>petro_log_dif,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum US$"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_petro,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0c2416"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Petro US$)) Realizado e Estimado em VAR¹'</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log Preço em Dólar"</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>plt_petro_var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-68f7fded0bc608bf67cc" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-68f7fded0bc608bf67cc">{"x":{"visdat":{"d03e75a50b6d":["function () ","plotlyVisDat"]},"cur_data":"d03e75a50b6d","attrs":{"d03e75a50b6d":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e75a50b6d.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Petroleum US$","line":{"color":"#2E8B57","width":2},"inherit":true},"d03e75a50b6d.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted Var1","line":{"color":"#0c2416","width":2,"dash":"dot"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Dif(Log(Petro US$)) Realizado e Estimado em VAR¹","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log Preço em Dólar","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0725961487964208,0.11758614864392,-0.0383377898346517,0.101265014000881,0.031173303800148,0.00819878990427059,0.0720495685363942,0.00360265740594912,-0.145825733284896,0.144606246814813,0.0861152557670968,-0.0511868295623272,0.058219175095847,0.0759089275251461,-0.0243386687812537,0.0299499305519006,-0.254051609924161,0.0249103615686987,0.0545559525322852,-0.0819118063922413,0.0261118886813851,0.0598100716690158,-0.0132082383154821,-0.0853924779024124,0.0363526873693352,-0.0150205909189274,-0.19254956969748,-0.117328609200876,-0.00396007220202277,0.0373984606771351,0.0425519632139082,0.168610700228844,0.0659822476085843,0.00843338237988478,-0.0440732284504182,0.0471229238850741,0.0361961439988887,0.059018412641711,-0.0312760621302735,-0.108936313238523,0.128434513844681,0.0873080073818508,0.0748794989631709,-0.0785060245042031,-0.173064698561779,0.016393086537922,0.0697533402062875,0.0249164128134667,0.0361758391881226,-0.0975511587434879,0.0759093017845305,0.00194230819248364,0.0284161322564414,0.0472967009254486,-0.00339644499541025,0.0713136125271419,0.00998448102617822,0.10176069429289,-0.0499318730182954,0.0623996512852361,0.0978940340889056,-0.00435135952535637,0.120179489103752,-0.107232067426398,-0.0789465049790263,0.0977163356561852,0.0322649841755669,0.138536434909899,-0.00340012821531666,-0.0544445735825252,0.11727586336573,0.044295214644932,0.0923502438572346,0.000293034124227987,-0.0651336965934499,-0.0545921990735359,0.0283331808998053,0.0954604146017592,-0.0404088943008087,0.0246267387360311,0.104632322054327,0.0116567506265275,-0.00692786035565973,0.0579192795632117,-0.00953172747715048,-0.145322456166767,-0.0687076685474297,0.00605814633553781,0.0447475230989642,-0.126019620628488,0.0699196988284929,0.0492079348403971,0.0728864825217244,0.000855850069644504,0.0426309198344255,0.0758486794856532,-0.04231474321083,0.0856796248006617,0.068203993367475,0.106949121324828,-0.0159261605795713,0.00965032482241046,0.0282313134954899,0.083550365622691,0.0693697535214808,0.12179682185009,0.0687342818490873,0.00674220313981966,-0.147853747319172,-0.135227311635368,-0.326370182598162,-0.309793479475927,-0.268204121500875,0.0549513233740533,-0.0327547124574301,0.113566728642879,0.069382508632871,0.153161229994845,0.169611951797236,-0.0567083221686726,0.10325485795314,-0.0548286160925473,0.0821106009104255,0.0446296947348257,-0.0310798304715618,0.0294908427326268,-0.0328294459829923,0.0643805217008699,0.0569009428604792,-0.111654161320847,-0.00647247530586004,-0.00126268401747254,0.0158906913207995,0.00418699856031424,0.0702696035255661,0.0304071635989072,0.065191691397553,0.0307834659078763,0.0467369951149097,0.109268904501496,0.0684741400525102,-0.073781950790897,-0.0186842362747592,0.0233543090445885,-0.0769572233010685,0.0017188409264639,-0.00579676050753442,0.0473202379308635,-0.0119136382443417,0.0261930635117666,0.0499549048732915,0.0408068910207522,-0.0416737488219718,-0.0831828709681526,-0.133417106577792,0.0713707113911326,0.086442862106086,0.00598212915346163,-0.0343192817736622,-0.0395475767243063,-0.0118032986347814,0.0489474728566952,0.0493317798521149,-0.0433751619256864,-0.0390302781930982,0.00605531426980299,0.00407837535455968,0.0535070509030389,0.0272265147609998,0.00472654277185391,-0.0386811634673805,-0.030482405669523,0.034233285546577,-0.0358077643596326,0.0169461386856167,-0.0171497528300453,0.00860883496435605,0.0115768380752215,0.0289809631387925,-0.0431372279885869,-0.058117166454462,-0.0328296102646322,-0.100873300440493,-0.0935618762032613,-0.245323002606018,-0.246201657843724,0.15365295019513,-0.0345536105783877,0.0825015441680055,0.0848283011186108,-0.015905251910497,-0.11149620213382,-0.161151487875891,-0.000649594667436748,0.00360773882815923,-0.0909343351844165,-0.155570882275989,-0.181895130876069,0.0247549845849799,0.182717767395663,0.0882143383247875,0.118993701834442,0.040571965718442,-0.0777013414927414,0.0147318252670297,0.000616649972482453,0.0990595645917853,-0.0910627913994673,0.156174622587511,0.0171509425855843,0.0081923685398082,-0.0749788171010146,0.0282574416634329,-0.0462790640900037,-0.0771517080367814,0.0297232543112664,0.0493785793907286,0.0555899659546819,0.0408191833612968,0.0903351926480269,0.0181834880563612,0.0816270627605062,-0.0473567593270943,0.00898911433112382,0.0509200832275853,0.0435541516127023,-0.0115196729946634,-0.0169864658832388,-0.0334031201994049,0.0735265542330756,0.0496967113748648,-0.209114724411199,-0.157517558116212,0.0719724174317351,0.0967768486957237,0.0411166427814864,0.0549958674144957,-0.0261584746223784,-0.101811775444347,0.0289772224910658,-0.0592372601731448,0.042545846412664,-0.0409192650782533,0.0495820368652113,0.0460478020285864,-0.0270353084455568,-0.140249176847151,-0.525562252470955,-0.324906832365103,0.324111359123814,0.224714989144485,0.0611877243736236,0.0358931062438068,-0.0653804933418547,-0.00990092400445386,0.0586193588564763,0.135466242356849,0.09539536436509,0.120680622997916,0.0495495152338394,-0.011155804462418,0.0476172494562261,0.0774451682416917,0.0124905429550086,-0.0552729377218082,0.0577644405428694,0.11807763133238,-0.0332772740355223,-0.0818885641258271,0.140920555506181,0.0940743806337974,0.169179364846196,-0.0567135270285331,0.0589694344715861,0.0431417320656831,-0.109796215517446],"name":"Petroleum US$","line":{"color":"#2E8B57","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00771997081234403,0.028951160700649,-0.00998948075390804,0.0433369471192007,0.0315857506558316,0.0168522986205172,0.0249330176395999,0.0101346440453823,-0.0373190911209544,0.0231605737684561,0.0276810807315703,0.00765489260791029,0.0268164794712445,0.0149428358406435,-0.0129640423594405,-0.00264656481237663,-0.0595579601175016,0.0140731754248126,0.00949765261919835,-0.0322837121297066,-0.0053140897205068,0.00172348309136668,-0.0102521838681393,-0.0201902362390051,0.0100143378147268,-0.0241807838864764,-0.048067861315977,0.00666199559560143,0.0337093014266139,0.0125092359173273,0.00782272629775022,0.0598771590333786,0.0294479563746578,-0.0208541860895172,-0.0401870021361147,-0.00421510244890296,-0.00564305556004249,-0.00434904540490314,-0.0417083107896343,0.0304682174740666,0.0505023643773328,0.0670419938053476,0.0200634627622316,0.00964913378331211,0.00534050378703682,0.0308427725304997,0.0244583201601816,0.00854177723693728,-0.00310853946917405,-0.00550510513665849,0.0297401515380915,-0.00275932752404519,0.0112018901051914,0.0296692969456443,-0.00434839397369842,0.0259300111090726,0.00630088764462745,0.0065136073231352,-0.00802436150622721,0.0368324243172307,0.0360937890625099,0.0165571182726252,0.039512677758917,-0.0101366825333339,-0.000815533693279941,0.0340617007720094,0.027927146264609,0.0259472138562283,0.0266201335261001,0.0105860749260466,0.0345154222269906,0.0197522254101444,0.0265324148225122,0.0143843489364244,-0.00164472169977643,8.68063752394455e-05,-0.00164479037877163,0.0320370985490625,0.0132426542929978,0.012414680191674,0.0319749241721794,-0.00483978441327491,-0.0164586342278128,0.0261362582600255,0.00356505673473267,-0.0362570720808486,-0.010091796676184,0.00302434832677091,0.0176598584075121,-0.024587853845364,0.0295216367556002,0.0174622389029611,0.0308969544586799,0.0124636563284859,0.0229393456690473,0.0308520373811406,-0.0216530671084045,0.0358210854922076,0.039972736657193,0.037073764103379,0.000826041904292101,0.0107143264360231,0.0222573600006236,0.0302861794428221,0.0273159386477699,0.0453330627949866,0.0347369768555711,0.0138312882990302,-0.0387435476596581,-0.0721260076617483,-0.146805414379555,-0.0888878324643873,-0.0843234240645521,0.0326635056168647,-0.00301567001138775,0.0299243298043692,0.0402737633776436,0.068532956528352,0.0651343146499605,-0.00692061655681778,0.0443386332251398,-0.00603665638872126,0.0403680848849451,0.0181126307262781,-0.00906553431892942,0.00934321163143684,-0.0120207514631144,0.0328462907164317,0.0265059114864154,-0.0350109313772738,-0.000567087458423061,0.00706196493268175,0.00612147815017086,0.0146627091614072,0.032924458890872,0.0107312825988896,0.0274517904817033,0.0209753569057827,0.0220131914317162,0.0378733539248312,0.0422993672567998,-0.0196114402008105,0.00290022092431715,0.012740462530755,-0.0230613031582346,-0.0280621273302498,-0.00172498210226253,0.0136231971383902,-0.00716383824833595,0.0223379950652656,0.0324330393029671,-0.00424699978495459,-0.0155431571696699,-0.0424734981658543,-0.0443276177566701,0.0260513617078398,0.0256760030809455,0.00794160181256991,-0.00241166754802886,-0.0101954197545825,0.00400323143466876,0.0302299330590669,0.0296096366465251,-0.00753597373668919,-0.00735429436863067,-0.000665687678813995,-0.0209701980351768,-0.000186772864877484,-0.00554383414458491,0.0164729469721359,0.0103525744736642,-0.0195286083257365,0.0106480878028258,-0.00873857682268183,0.0115645073920699,0.0151513460573092,0.0249092990847542,0.00972867431291705,0.00897850774190957,-0.00917904745482793,-0.0191658038705744,-0.0125010107312955,-0.0386539248183074,-0.0327942767938514,-0.0653309729975782,-0.0464547004125841,0.0267879092430903,-0.0343911169692099,0.0399657887689964,0.0269567918382574,-0.00127242535328007,-0.0340653878095442,-0.0702459058050064,-0.0339198427514769,0.0125177911469924,-0.00114171691777806,-0.0371836236642111,-0.0480087841974264,0.0234955200408214,0.076268976192153,0.0427913608143907,0.0409659597714554,0.0260758149180768,0.0030189902327785,0.0159392324200254,-0.00473726833980988,0.0354070001327388,-0.0388455667442093,0.0406914198343098,0.0260711361959727,0.0164425638720631,-0.0189695836611911,0.00724675942214811,-0.0169278518088743,-0.0321501845975882,0.0200388495695307,0.0205622307443613,0.0171692925156653,0.00791664564505494,0.0173597996485798,0.00548873152327768,0.0325901564769691,-0.0120358174619818,-0.00146344656677561,0.000414410704972716,-0.00926684429852166,-0.00256091489373714,-0.00626634961737053,-0.0195004749782714,0.00602194560957553,0.0512369928804675,-0.0575625741614399,-0.0471517693607695,0.0350336389961316,0.0304133670376851,0.0063333603158141,0.0150495171724054,-0.0153834657948123,-0.0119664245674633,0.0167900064836212,-0.0369532179355729,0.000346038137269605,-0.00625364378377298,0.0116070769326528,0.0284769448314958,-0.0083018153495292,-0.0492164630956778,-0.174172128197908,-0.117098792316527,0.0539005132037977,0.0892822160408644,0.0129827841593421,-0.00133474653871866,-0.00495560196880351,-0.00827842390910422,0.038556422962028,0.0681301948660795,0.0111485939832576,0.0353177043466871,0.00711099433308022,0.00603682630583972,0.0397403517497904,0.0437706459706851,0.00463892753076826,-0.0108928927784126,0.0253595035456057,0.0253326662563014,0.00119383906866835,-0.0185772209062315,0.0486776383780672,0.0582019127647883,0.0771008022102225,0.013984660254605,0.00448843289417937,0.0110203057290122],"name":"Fitted Var1","line":{"color":"#0c2416","width":2,"dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>plt_petro_br_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum R$"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v2_fitted_ptr,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var2"</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#02110a"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Petro R$)) Realizado e Estimado em VAR²'</span>,</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">" Dif Log Preço em Reais"</span>,</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>plt_petro_br_var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-440abe7d6c887c16661a" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-440abe7d6c887c16661a">{"x":{"visdat":{"d03e4586e12c":["function () ","plotlyVisDat"]},"cur_data":"d03e4586e12c","attrs":{"d03e4586e12c":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e4586e12c.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Petroleum R$","line":{"color":"#073320","width":2},"inherit":true},"d03e4586e12c.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted Var2","line":{"color":"#02110a","width":2,"dash":"dot"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Dif(Log(Petro R$)) Realizado e Estimado em VAR²","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":" Dif Log Preço em Reais","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.11635907710133,0.126746194690013,-0.00139618627869798,0.0809451604686835,-0.0150283312784438,-0.013256668362827,0.0561717820747911,-0.0153415050024597,-0.130890723879135,0.177826717148529,0.0753299203823969,-0.0570128968116879,0.0645430437327379,0.0923620791991877,-0.00260102172290555,0.0657090986323237,-0.24622488250086,0.0204162015097249,0.0785279712822136,-0.0393063848837496,0.0744869362130487,0.106475252574824,0.0204465198597781,-0.0481169752830661,0.0542828159574551,0.0471918346526001,-0.167226145644495,-0.191998344406487,-0.0775628754386015,0.0438133381298149,0.0599422553017552,0.13796564591719,0.0547505095234646,0.0751358822053643,0.0459582647937413,0.125292684866813,0.0942952533982622,0.130950816070426,0.0987361861473524,-0.171145591184202,0.142183393746163,0.0341996867274572,0.11825814798471,-0.11941507016706,-0.273148157118762,-0.0373018024045297,0.0449118113201372,0.0237361439917585,0.0779116223979335,-0.12446164025483,0.0547073385848611,0.0200594360409427,0.0323561801800878,0.0218429849550397,0.0237655050767618,0.0628119672718208,0.0101566010286689,0.166531530450672,-0.0407152179133714,0.0324507848060378,0.0866652183379051,-0.0423031003425187,0.106874751189489,-0.130967948391101,-0.103590648257195,0.0883994980759546,-0.00373678637167707,0.178874677477624,-0.0509262519445626,-0.104709607027651,0.101118297641029,0.027577309507012,0.0868985663295723,-0.0281611999724305,-0.0817959861105191,-0.0750600296138284,0.0615753900684437,0.0903702285267594,-0.0909360815972651,0.0200352133817052,0.0940240023678784,0.0343248214165941,0.0248050499318424,0.0313171698483865,-0.0249109789345745,-0.139400625305822,-0.0781622507234898,0.0105184984777988,0.0410319459294533,-0.131338285774413,0.0499814025083838,0.0455745226106012,0.0453544577768632,-0.0242700978305477,0.0172199050708288,0.0500939319042981,0.000944236938338783,0.0513077111833313,0.0148796555132966,0.0895222941764109,-0.00686664949902482,0.00307486628097209,0.0016042118724382,0.0718427443459113,0.0583531173149794,0.104830048869419,0.0433500401281766,-0.0103991147429072,-0.134799628586715,-0.0252729579943081,-0.137795516985066,-0.267692435878382,-0.21320109782791,0.017927393385734,-0.0304595939875769,0.114042414612626,0.0216099847279541,0.0851428959630631,0.118167912435404,-0.0694630723291176,0.0568531435132273,-0.0686957379069755,0.0363285521319199,0.0374678297688975,-0.0170927834375076,0.0462122185907194,0.000558576819769563,0.0343595054460124,0.0404071211388484,-0.0799268210199724,-0.0103422352347886,-0.0217435073382912,0.0102210990842186,-0.0193421451139413,0.0510512399980279,0.0464947217251588,0.0535181842618471,0.0197692339015889,0.0425984975848381,0.103916313162501,0.0236440434081802,-0.0568350423801505,-0.0352528106120094,0.00868411929679436,-0.0560024477605854,0.0931372325031576,0.0072114606378868,0.05732979751423,0.0137226037178682,0.000159474881160193,0.00931022694976846,0.0846248159005123,-0.00905828968432054,-0.0148228534860477,-0.102088471484794,0.0613527701160246,0.0867953380064233,0.00530911276981527,-0.0334407528733589,-0.0210369967594701,-0.00695582501303171,0.0261781241831409,0.0204530495089381,-0.0385245197390933,-0.0293100830443329,0.0222280239048551,0.0697638570093213,0.0893097652418362,0.0664350824205933,-0.026370000669778,-0.0754030057181918,0.0171101327941976,0.0558533632266709,-0.020259685765974,0.0175694734627987,-0.0416147981489576,-0.0325492555970497,0.006435773482802,0.035525784970714,-0.0479985458453935,-0.0387900495240636,-0.00463838491163315,-0.052583390467599,-0.0532883963732038,-0.210421988494186,-0.248142726533761,0.220554267627132,0.0740470770769805,0.0513513628609301,0.0908836928643408,0.000312662317139001,-0.0763200291313755,-0.0746435462423829,0.10514740316728,-0.00314988115313852,-0.118029622582527,-0.13080075721576,-0.136137288439055,0.00516540979545965,0.112393838213912,0.0502189667984227,0.111517800854298,0.00759002865723257,-0.122245255311148,-0.00552067113880561,0.0150686394312398,0.0771455320213654,-0.043187991959079,0.15924287411443,-0.0304115423640372,-0.0211440951188244,-0.0673583954944492,0.0308894498787984,-0.0232232487199751,-0.0506836847365948,0.00226774105868621,0.0320004533714808,0.0504589204691923,0.058669312665681,0.111453379111643,0.0281300666112561,0.0566079767042726,-0.0377704147440019,0.0205569661027294,0.0893020980237749,0.108487565271,0.0255008583280878,-0.00236519712655792,-0.00735622179457796,0.11997059648763,-0.0413372195926751,-0.201635720008938,-0.132446055239576,0.0349545570199679,0.0919457013692453,0.0735836184039602,0.0678290548589411,0.000528687216688972,-0.13812811789041,0.00815320561417732,0.00250742383078517,0.0674892730502838,-0.0493296456188821,0.0661670720966221,0.0349627549762079,-0.0173619403607512,-0.095114694588414,-0.407726867791669,-0.238301366443614,0.382090721461879,0.142213868645522,0.0771491674836309,0.0696082437074983,-0.076753500570252,0.0311620914188353,0.0209501712391909,0.0838953839149221,0.135523427567585,0.131875844335688,0.0910788214042757,-0.0261489251153648,-0.00235396946501254,0.0272216316685849,0.0369774708337669,-0.0369973009114952,0.0630762164314085,0.16620557546329,-0.0302337324925617,-0.0650513420797774,0.119979543716181,0.0311380075540093,0.124267770447474,-0.099982326159374,0.0995509334015896,0.0619685273104578,-0.0485513939869868],"name":"Petroleum R$","line":{"color":"#073320","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.0301161386538956,0.0296424522108722,0.0139755194336157,0.0272157278058798,0.00565746563076016,0.00619081592690299,0.0145342241323739,0.00188924578317323,-0.0180050109090844,0.0363628721386973,0.019137840708122,0.00751929601918755,0.0276035265695621,0.022354177913957,0.00351485319759569,0.0181964962342682,-0.0381618770788898,0.0120732481504034,0.0219884037130973,-0.00107973756544265,0.0223923622642098,0.0267839776233533,0.0115910626041857,0.0064918179417008,0.019739973054434,0.0143015508087166,-0.0208829718252183,-0.026733436463973,-0.00567643732349826,0.0160101176916253,0.0174961871932992,0.0345923845829043,0.0208055839313334,0.0189003123434758,0.015435070888669,0.0379333553839991,0.0268202019354669,0.0344339545598592,0.034073279500915,-0.000551181447280669,0.0499024741301833,0.0309254616581264,0.0402786332519474,-0.00795717131981571,-0.0395541292969773,0.00154632421146401,0.00965653282304579,0.00908406315982282,0.0206984512574192,-0.013281280312,0.0158209403545093,0.00976011850901021,0.0138396610485008,0.0141896929634354,0.0130927473003602,0.0191117061167017,0.00817775686517991,0.03911628143466,0.00187231494425418,0.0176546360022745,0.025767309429698,-0.00213126074123908,0.0271536376718478,-0.0153880567312553,-0.00855883434735404,0.0250232878970175,0.0076998989545547,0.0424251941813429,0.00149817003967025,-0.0123721277760466,0.0215608264178657,0.0103011959561051,0.0207364360508058,0.000737578536765426,-0.0055066115823405,-0.00617948512916557,0.0178029350736429,0.0254954261773579,-0.0105473121061478,0.0106321362046917,0.0224741340934017,0.0101086262995404,0.00526475834590084,0.0104195572321948,-0.00158447098535064,-0.0216687917512392,-0.00891599498263728,0.00765944776582771,0.0150906962654784,-0.0178948779195952,0.0163947241843258,0.0148761111216059,0.0136618860921941,0.000787340847510601,0.00863333277321056,0.014461525915725,0.00741424428213185,0.0141029907444187,0.00838770331075792,0.0232835002112105,0.00856910052211666,0.00849850856791227,0.00773384956754231,0.0209192619327808,0.0190494404859474,0.0301780854615095,0.0180652412894088,0.00585136163931979,-0.0201139760040812,0.000402796651349735,-0.0190187739389852,-0.0444632561831194,-0.0349400576169661,0.0107202585696486,0.00225549817604617,0.026160500472615,0.0114195700087114,0.023335775146944,0.0285060451466486,-0.00814983775916779,0.0148572233682499,-0.00800399861572073,0.0122481641277809,0.0137353893381816,0.00302403707810906,0.0187020757432594,0.0103597779771206,0.0142192315289027,0.0158528582618128,-0.00827102280850973,0.000680339414819368,-0.00137806702913446,0.00495990239768513,0.00337956172379993,0.0196186963515545,0.0195335897723387,0.0189162691970735,0.0144815909696639,0.0185060279632932,0.0300042876395081,0.0146297933523723,-0.00351263683667093,-0.00256129272396919,0.00584582170837952,-0.00433357521167474,0.025434060955211,0.00820879051650244,0.0185639059422745,0.0101210269609966,0.0081422347074278,0.00879902316821046,0.0206968931020238,0.00717893248278118,0.00335607960313145,-0.0158869666769319,0.0184475975857566,0.0230624399426901,0.00921424261485222,0.00208099792427329,0.00452466681949185,0.0090381936734972,0.0159837500525118,0.0123700745985143,-5.10791126418116e-05,0.00247235098391053,0.0104606666142336,0.0183766829993734,0.0198186751808702,0.0175503365024854,0.00107524142642076,-0.00605040625680517,0.0111541582530096,0.0221787916523934,0.00418225953122297,0.0127015841454056,0.00374721407155407,0.00302915451859629,0.00835310246636767,0.0132691619698305,-0.00634185608074252,-0.00225022522143676,0.00733238538819366,-0.00319881064076057,-0.00245307441768342,-0.0295385700873608,-0.0322063888418411,0.0562358971210282,0.0294997175617388,0.0192855512709017,0.0270522907966872,0.0104128654406583,-0.00573683189802612,-0.00932523208840391,0.0278015555224094,0.0100476759272254,-0.00983016685226643,-0.0127317986330987,-0.0107343660388321,0.0123986753577095,0.0280984617343137,0.018097546234367,0.0313437980134576,0.00749703831216589,-0.0153951589489263,0.00589734028730259,0.00627016415154011,0.0197726357509248,-0.00376668337361102,0.0356876058333577,0.000604745395266247,0.00186834372258271,-0.00765450077359223,0.00984960400590697,0.0012799629813366,-0.00920679082617236,0.00541622634643972,0.0105486071172723,0.0137453518499281,0.0178421751598308,0.0264558265677061,0.0122616634702628,0.0161815998709435,-0.00137337180786779,0.00740556253313528,0.0216789213778614,0.0270677271788656,0.0197374558059228,0.00542024674145182,0.0003630479629185,0.0300195648493457,-0.000779038839549356,-0.0375575764825905,-0.0209411080817418,0.0123791303849905,0.024231367258641,0.0238786006738775,0.021036876576432,0.00401031844244498,-0.0233877897999466,0.00604001020118345,0.00418909770197495,0.0150073067150353,-0.00571214022389607,0.0201379115140039,0.0204613548021146,0.00140949905266075,-0.0129024530580229,-0.0737841738151914,-0.0454741967587913,0.0711611625430004,0.0320768746323724,0.0207496536405878,0.0181511795703432,-0.00562250180595362,0.0169267646255369,0.0152871545023873,0.0316519990250846,0.0307136090804872,0.0359727314473441,0.0289381910542166,0.000726027679758589,0.0102972154623684,0.0129677509979108,0.0189978260116183,0.0041338905438721,0.0258740399341701,0.0462490870969197,0.00619117767263348,-0.00253374023058052,0.03060721390629,0.0183799387984006,0.0418959905541167,-0.00593171189401104,0.0260607080523937,0.0209040126303318],"name":"Fitted Var2","line":{"color":"#02110a","width":2,"dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="diagnóstico-dos-resíduos-do-var" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Diagnóstico dos Resíduos do VAR</h1>
<p>Vamos coletar os resíduos em uma base:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>resids <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt) <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_ipca"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"ipca_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_cambio"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"cambio_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_petro"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"petro_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_ipca"</span> <span class="ot">=</span> var2[[<span class="st">"varresult"</span>]][[<span class="st">"ipca_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_ptr"</span> <span class="ot">=</span> var2[[<span class="st">"varresult"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][[<span class="st">"residuals"</span>]]</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Os primeiros três testes que faremos serão para investigar autocorrelação individual e conjunta dos resíduos: se esquecemos de alguma variável muito relevante para a explicação das variáveis dependentes, então a jogamos para o erro e seu padrão poderá acusar um erro correlacionado com ele mesmo, no passado. O teste de heterocedasticidade verifica se as variâncias dos resíduos diferenciam-se no tempo, isso não interfere nas propriedades de inexistência de viés e consistência dos estimadores de MQO, no entanto, eles deixam de ter variância mínima e eficiência e interfere nas inferências que poderemos fazer com os parâmetros estimados. O teste de quebra estrutural verificará se, em algum momento, a variável sofreu alguma mudança no seu processo aleatório.</p>
<section id="autocorrelação-breusch-godfrey" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="autocorrelação-breusch-godfrey"><span class="header-section-number">7.1</span> Autocorrelação: Breusch-Godfrey</h2>
<p>O teste Breusch-Godfrey examina a autocorrelação conjunta dos erros, se o coeficiente do vetor dos erros passados é significativo ao explicar o vetor de erro presente. Tem como hipótese nula a não-autocorrelação conjunta dos resíduos.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>test_autocorr_var1 <span class="ot">&lt;-</span> <span class="fu">serial.test</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    var1,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lags.pt =</span> <span class="dv">12</span>, <span class="at">type =</span> <span class="st">"BG"</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>test_autocorr_var1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Breusch-Godfrey LM test

data:  Residuals of VAR object var1
Chi-squared = 65.183, df = 45, p-value = 0.02612</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>test_autocorr_var2 <span class="ot">&lt;-</span> <span class="fu">serial.test</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    var2,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lags.pt =</span> <span class="dv">12</span>, <span class="at">type =</span> <span class="st">"BG"</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>test_autocorr_var2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Breusch-Godfrey LM test

data:  Residuals of VAR object var2
Chi-squared = 26.891, df = 20, p-value = 0.1384</code></pre>
</div>
</div>
<p>Os resultados indicam que, a 5%, podemos rejeitar a hipótese nula, ou seja, existe autocorrelação conjunta dos resíduos do primeiro modelo, já que o p-valor é 4.73% (por pouco!). Já no segundo modelo, aceitamos a hipótese nula de que não existe autocorrelação conjunta.</p>
</section>
<section id="autocorrelação-ljung-box" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="autocorrelação-ljung-box"><span class="header-section-number">7.2</span> Autocorrelação: Ljung-Box</h2>
<p>Agora testaremos autocorrelação individual dos erros de cada equação. O teste Ljung-Box tem a hipótese nula de não-autocorrelação dos resíduos, ou seja, independência em relação às suas realizações passadas.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_ipca <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   lb_stat  lb_pvalue 
16.6381690  0.1637225 </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_cambio <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   lb_stat  lb_pvalue 
11.5305522  0.4840785 </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_petro <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  lb_stat lb_pvalue 
9.7968308 0.6337792 </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v2_ipca <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   lb_stat  lb_pvalue 
17.8180631  0.1213275 </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v2_ptr <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   lb_stat  lb_pvalue 
13.3988238  0.3407309 </code></pre>
</div>
</div>
<p>Todos os testes aceitaram a nula de não-autocorrelação individual dos resíduos. A independência individual e a correlação conjunta no primeiro modelo é um resultado interessante: os erros de alguma outra equação ajudam a explicar os erros da outra equação, eles não independem entre si.</p>
</section>
<section id="autocorrelação-fac-e-facp-nos-resíduos" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="autocorrelação-fac-e-facp-nos-resíduos"><span class="header-section-number">7.3</span> Autocorrelação: FAC e FACP nos Resíduos</h2>
<p>O teste Ljung-Box, de independência temporal individual, analisa se a soma das autocorrelações é diferente de zero, em cada equação. Faremos agora os gráficos das funções de autocorrelação pura e parcial, o que nos mostrará, em cada equação e cada defasagem, quais defasagens do erro são significantes para explicá-lo. Percorrendo esses três testes podemos ter uma visão mais detalhada do comportamento dos resíduos: conjuntamente, individualmente e em cada defasagem.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">FAC e FACP do IPCA de VAR(1)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_cambio) <span class="sc">|&gt;</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_cambio) <span class="sc">|&gt;</span> </span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">FAC e FACP do Câmbio de VAR(1)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_petro) <span class="sc">|&gt;</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_petro) <span class="sc">|&gt;</span> </span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">FAC e FACP do Petro US de VAR(1)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">FAC e FACP do IPCA de VAR(2)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ptr) <span class="sc">|&gt;</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ptr) <span class="sc">|&gt;</span> </span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">FAC e FACP do Petro BR de VAR(2)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>O erro na equação do IPCA dos dois modelos exibem significância na 12ª e na 14ª defasagem: o erro do mesmo mês do ano anterior ainda é significante ao explicar o erro atual. Uma solução seria incorporar uma defasagem L=12 e L=14 aditiva do erro no VAR e fazer um teste de penalidade por colocar variáveis a mais, inclusive no câmbio, em petro(US$) e em petro(R$). Outra solução pode ser a presença ignorada de cointegração entre as variáveis, que será considerada mais adiante.</p>
</section>
<section id="heterocedasticidade-arch-multiplicador-de-lagrange" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="heterocedasticidade-arch-multiplicador-de-lagrange"><span class="header-section-number">7.4</span> Heterocedasticidade: ARCH Multiplicador de Lagrange</h2>
<p>O teste ARCH-LM multivariado verifica heterocedasticidade autorregressiva nos erros: se a atual variância do erro depende dos valores de suas variâncias passadas. Esse defeito não nos permite ter estimações eficientes para um mesmo intervalo em tempos diferentes, deixando-os incomparáveis. Heterocedasticidade indica uma dispersão crescente das realizações ao entorno de sua média. A hipótese nula do teste é que os coeficientes de um AR das variâncias são conjuntamente zero, ou seja, não há heterocedasticidade; e a hipótese alternativa é que qualquer um dos coeficientes é diferente de zero. O teste é realizado para o erro de cada equação e na forma VARCH (um VAR com os erros ao quadrado) para o teste multivariado.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>test_var1_arch <span class="ot">&lt;-</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arch.test</span>(var1, <span class="at">lags.multi =</span> <span class="dv">12</span>, <span class="at">multivariate.only =</span> <span class="cn">FALSE</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>test_var1_arch</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$ipca_log_dif

    ARCH test (univariate)

data:  Residual of ipca_log_dif equation
Chi-squared = 11.587, df = 16, p-value = 0.7719


$cambio_log_dif

    ARCH test (univariate)

data:  Residual of cambio_log_dif equation
Chi-squared = 28.39, df = 16, p-value = 0.02839


$petro_log_dif

    ARCH test (univariate)

data:  Residual of petro_log_dif equation
Chi-squared = 69.04, df = 16, p-value = 1.469e-08



    ARCH (multivariate)

data:  Residuals of VAR object var1
Chi-squared = 614.25, df = 432, p-value = 1.723e-08</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>test_var2_arch <span class="ot">&lt;-</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arch.test</span>(var2, <span class="at">lags.multi =</span> <span class="dv">12</span>, <span class="at">multivariate.only =</span> <span class="cn">FALSE</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>test_var2_arch</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$ipca_log_dif

    ARCH test (univariate)

data:  Residual of ipca_log_dif equation
Chi-squared = 10.221, df = 16, p-value = 0.8548


$ptr_br_log_dif

    ARCH test (univariate)

data:  Residual of ptr_br_log_dif equation
Chi-squared = 39.793, df = 16, p-value = 0.0008346



    ARCH (multivariate)

data:  Residuals of VAR object var2
Chi-squared = 158.25, df = 108, p-value = 0.001174</code></pre>
</div>
</div>
<p>O p-valor dos testes mostram que, nos dois modelos, os erros da equação do IPCA são homocedásticos enquanto que os erros das demais equações (câmbio, petro US e petro BR) são heterocedásticos. Os testes multivariados apontam para heterocedasticidade. Uma solução para o caso seria incorporar um componente ARCH nas equações do modelo sob pena de sobreparametrizá-lo. Também testaremos se a consideração da cointegração muda os resultados desse teste.</p>
</section>
<section id="quebra-estrutural-teste-cusum" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="quebra-estrutural-teste-cusum"><span class="header-section-number">7.5</span> Quebra Estrutural: Teste CUSUM</h2>
<p>O teste CUSUM (cumulative sum) é um teste e uma forma visual de entender a estabilidade do modelo e possíveis quebras estruturais no processo aleatório atravéz do plot de uma medida de qualidade, baseada no somatório dos erros, e os limites inferior e superior dessa medida de qualidade. Os testes mostram certa estabilidade das estimações, uma vez que nenhuma equação nos dois modelos ultrapassaram os limites de significância.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>test_var1_cusum <span class="ot">&lt;-</span> <span class="fu">stability</span>(var1, <span class="at">type =</span> <span class="st">"OLS-CUSUM"</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>test_var1_cusum <span class="sc">|&gt;</span> <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>test_var2_cusum <span class="ot">&lt;-</span> <span class="fu">stability</span>(var2, <span class="at">type =</span> <span class="st">"OLS-CUSUM"</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>test_var2_cusum <span class="sc">|&gt;</span> <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="teste-de-cointegração-de-johansen" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Teste de Cointegração de Johansen</h1>
<p>Agora, o deus ex-machina desse ao palco. A autocorrelação conjunta dos resíduos pode indicar algo afetando os resíduos de forma que os coeficientes de um VAR usando os erros sejam conjuntamente significativos, isso indica que pode haver algo não capturado nas relações entre as estimações. Faremos agora o teste de cointegração das variáveis: a existência de alguma trajetória estacionária feita de alguma combinação linear de curto-prazo entre as variáveis, como dito na introdução.</p>
<p>O Teste de Cointegração de Johansen usa o fato de que o posto da matriz de coeficientes de um modelo cointegrado é não-nulo, ou seja, há pelo menos uma linha linearmente independente na matriz de coeficientes da correção dos erros. Existem duas estatísticas no teste: a raíz característica máxima (<span class="math inline">\lambda_{max}</span>) e o traço da matriz de raízes características (<span class="math inline">\lambda_{trc}</span>). O teste <span class="math inline">\lambda_{trc}</span> é mais geral: com hipótese nula de que o número de combinações lineares independentes (r) é menor ou iqual a um i, ou seja, <span class="math inline">H_0: \ \ r \leq i</span> e <span class="math inline">H_1: \ \ r \neq i</span>. O teste <span class="math inline">\lambda_{max}</span> é mais específico: <span class="math inline">H_0: \ \ r = i</span> e <span class="math inline">H_1: \ \ r = i+1</span>, que usaremos nesse exercício.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>johansen_var1_max <span class="ot">&lt;-</span> <span class="fu">ca.jo</span>(</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, cambio_log, petro_log),</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"eigen"</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ecdet =</span> <span class="st">"const"</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="dv">2</span>,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">spec =</span> <span class="st">"transitory"</span>,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">dumvar =</span> <span class="cn">NULL</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>johansen_var1_max <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
###################### 
# Johansen-Procedure # 
###################### 

Test type: maximal eigenvalue statistic (lambda max) , without linear trend and constant in cointegration 

Eigenvalues (lambda):
[1]  1.531890e-01  4.774665e-02  9.826885e-03 -9.648096e-17

Values of teststatistic and critical values of test:

          test 10pct  5pct  1pct
r &lt;= 2 |  2.71  7.52  9.24 12.97
r &lt;= 1 | 13.41 13.75 15.67 20.20
r = 0  | 45.56 19.77 22.00 26.81

Eigenvectors, normalised to first column:
(These are the cointegration relations)

              ipca_log.l1 cambio_log.l1 petro_log.l1    constant
ipca_log.l1     1.0000000     1.0000000    1.0000000   1.0000000
cambio_log.l1  -0.9432502    -0.8607872   -1.1148409   2.3727672
petro_log.l1   -0.3716494    -0.7655085   -0.1580206   0.5260349
constant       -6.4367764    -4.1843562   -6.3226737 -12.2786700

Weights W:
(This is the loading matrix)

              ipca_log.l1 cambio_log.l1 petro_log.l1      constant
ipca_log.d   -0.002893118  0.0000504169 -0.000174564 -1.948918e-17
cambio_log.d -0.001999773  0.0064586850  0.012301483  8.974855e-17
petro_log.d   0.003351252  0.0973347569 -0.013251530  1.416329e-16</code></pre>
</div>
</div>
<p>No teste do máximo para o primeiro modelo, começamos o teste por r=0, onde aceitamos <span class="math inline">H_1</span>, daí vamos para o teste de <span class="math inline">r \leq 1</span>, onde rejeitamos a nula a 10% e aceitamos a 5%, continuaremos a trabalhar com os 5% para valor crítico, ou seja, as variáveis são cointegrada e há um vetor independente de cointegração entre as variáveis.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>johansen_var2_max <span class="ot">&lt;-</span> <span class="fu">ca.jo</span>(</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, ptr_br_log),</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"eigen"</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ecdet =</span> <span class="st">"none"</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="dv">2</span>,</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">spec =</span> <span class="st">"transitory"</span>,</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">dumvar =</span> <span class="cn">NULL</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>johansen_var2_max <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
###################### 
# Johansen-Procedure # 
###################### 

Test type: maximal eigenvalue statistic (lambda max) , with linear trend 

Eigenvalues (lambda):
[1] 0.04484867 0.00659975

Values of teststatistic and critical values of test:

          test 10pct  5pct  1pct
r &lt;= 1 |  1.81  6.50  8.18 11.65
r = 0  | 12.57 12.91 14.90 19.19

Eigenvectors, normalised to first column:
(These are the cointegration relations)

              ipca_log.l1 ptr_br_log.l1
ipca_log.l1     1.0000000    1.00000000
ptr_br_log.l1  -0.7972612    0.07918677

Weights W:
(This is the loading matrix)

               ipca_log.l1 ptr_br_log.l1
ipca_log.d   -0.0004385142 -0.0005593953
ptr_br_log.d  0.0935488298 -0.0018356589</code></pre>
</div>
</div>
<p>No teste do máximo pra o segundo modelo, aceitamos a hipótese nula de r = 0, ou seja, não há cointegração entre as duas variáveis. <strong>Devemos proceder com um VECM para o primeiro modelo e um VAR com o segundo modelo.</strong></p>
</section>
<section id="vecm-do-trio-de-variáveis" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> VECM do Trio de Variáveis</h1>
<p>O comando <code>tsDyn::VECM()</code> tem como parâmetros a escolha de estimar o VECM por MQO de dois estágios ou máxima verossimilhança (MV), conhecidos como método de Engle-Granger e Johansen, respectivamente. A diferença entre eles <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> é que via 2-MQO tem um grande viés no estimador do primeiro estágio, o que acaba por contaminar o segundo estágio. O método de Johansen tem uma função geradora de momentos infinitos para população finita, o que provoca alta variância do estimador e, por fim, diminui a eficiência. Já que ambos consideram a combinação linear de curto-prazo <span class="math inline">\beta</span> como dada, é aconselhado <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> usar o 2-MQO por envolver somente uma única coimbinação linear independente (posto = 1). Embora a estimação com 2-MQO resultou em AIC e BIC menores que com MV, a variabilidade de resultados dos estimadores e significâncias estatísticas deste último é maior que a estimação com 2-MQO: estimei várias versões VECM com constante ou trend na relação de longo prazo ou na de curto-prazo. De todos os modelos testados (recomendo as comparações como exercício), o seginte modelo apresentou os maiores AIC e BIC:</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="ot">&lt;-</span> tsDyn<span class="sc">::</span><span class="fu">VECM</span>(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, cambio_log,petro_log),</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag =</span> <span class="dv">1</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">r=</span><span class="dv">1</span>,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">include =</span> <span class="st">"none"</span>,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">estim =</span> <span class="st">"2OLS"</span>,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">LRinclude =</span> <span class="st">"none"</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>#############
###Model VECM 
#############
Full sample size: 276   End sample size: 274
Number of variables: 3  Number of estimated slope parameters 12
AIC -6286.881   BIC -6236.297   SSR 2.499032
Cointegrating vector (estimated by 2OLS):
   ipca_log cambio_log petro_log
r1        1  -1.589338 -1.611408

                    ECT                 ipca_log -1        cambio_log -1     
Equation ipca_log   0.0004(0.0004)      0.8471(0.0302)***  0.0232(0.0053)*** 
Equation cambio_log -0.0006(0.0040)     0.2106(0.3395)     0.3311(0.0599)*** 
Equation petro_log  0.0254(0.0099)*     0.9128(0.8278)     -0.3765(0.1460)*  
                    petro_log -1      
Equation ipca_log   0.0072(0.0022)**  
Equation cambio_log -0.0489(0.0249).  
Equation petro_log  0.2636(0.0606)*** </code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="sc">|&gt;</span> <span class="fu">summary</span>(<span class="at">equation=</span><span class="st">"ipca_log"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>#############
###Model VECM 
#############
Full sample size: 276   End sample size: 274
Number of variables: 3  Number of estimated slope parameters 12
AIC -6286.881   BIC -6236.297   SSR 2.499032
Cointegrating vector (estimated by 2OLS):
   ipca_log cambio_log petro_log
r1        1  -1.589338 -1.611408

                    ECT                 ipca_log -1        cambio_log -1     
Equation ipca_log   0.0004(0.0004)      0.8471(0.0302)***  0.0232(0.0053)*** 
Equation cambio_log -0.0006(0.0040)     0.2106(0.3395)     0.3311(0.0599)*** 
Equation petro_log  0.0254(0.0099)*     0.9128(0.8278)     -0.3765(0.1460)*  
                    petro_log -1      
Equation ipca_log   0.0072(0.0022)**  
Equation cambio_log -0.0489(0.0249).  
Equation petro_log  0.2636(0.0606)*** </code></pre>
</div>
</div>
<p>Representado do modo matricial como:</p>
<p><span class="math display"> \Delta X_t = \Pi X_{t-1} + \Gamma_1 \Delta X_{t-1} + \epsilon_t </span></p>
<p>com:</p>
<p><span class="math display"> \Pi = \alpha \beta^{‘} </span> sendo <span class="math inline">\alpha</span> a velocidadde de ajuste e <span class="math inline">\beta</span> o vetor de cointegração que, nesse caso, é único. Portanto:</p>
<p><span class="math display"> \Delta X_t = \begin{bmatrix}  .0004 \\ -.0006 \\  .0254 \end{bmatrix}
\begin{bmatrix}
1 \\ -1.5893 \\ -1.6114
\end{bmatrix}^{'}
X_{t-1}
+
\begin{bmatrix}
.8471  &amp;  .0232 &amp;  .0072 \\
.2106  &amp;  .3311 &amp; -.0489 \\
.9128  &amp; -.3765 &amp;  .2636
\end{bmatrix}
\Delta X_{t-1} + \epsilon_t </span></p>
<p>Portanto, o termo de correção de erros <span class="math inline">ECT = \beta^{‘} X_{t-1}</span> ficou com a trajetória representada no gráfico abaixo. O termo ETC tem valores negativos para o câmbio e o Petróleo (-1.5893 e -1.6114) e a velocidade de ajuste (<span class="math inline">\alpha</span>) positiva nas equações do IPCA e do Petróleo (a única com coeficiente significativo a 10%) e negativa na do câmbio (.0004,-.0007,.0267).<br>
Para ter noção do que ocorre no modelo, por exemplo, uma inovação unitária no log do preço internacional do petróleo afetaria a equação do log do IPCA de duas formas: pelo próprio coeficiente do petróleo (<span class="math inline">.0072</span>) e pelos termos da ECT e <span class="math inline">\alpha</span>: <span class="math inline">-1.6114 \times .0004 = -.0006</span>. O saldo do choque +1 no log do preço internacional do petróleo no log do IPCA seria <span class="math inline">+.0065</span> com o termo ECT funcionando como um desacelerador do impacto. A verificação gráfica desse exemplo será feita na Função Impulso-resposta.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>ect_vecm3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ect"</span> <span class="ot">=</span> vecm3[[<span class="st">"model"</span>]][[<span class="st">"ECT"</span>]]</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>plt_ECT_vecm3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ect_vecm3,</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ect,</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Error Correction Term"</span>,</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Termo de Ajuste do Curto-prazo (ECT) em VECM3'</span>,</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log"</span>,</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>plt_ECT_vecm3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-655cf4c9a6d4bc13099a" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-655cf4c9a6d4bc13099a">{"x":{"visdat":{"d03e57c82d7d":["function () ","plotlyVisDat"]},"cur_data":"d03e57c82d7d","attrs":{"d03e57c82d7d":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e57c82d7d.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Error Correction Term","line":{"color":"#551a8b","width":2},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Termo de Ajuste do Curto-prazo (ECT) em VECM3","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[1.28048095281135,1.29537878992596,1.17394971630582,1.20312602431926,1.23019583739438,1.14063021869711,1.16713044992673,1.3825715514024,1.09685271810733,0.977527869792817,1.0852448927072,0.994392964337586,0.848218768556322,0.854287467877945,0.752388356861372,1.15520990758203,1.12789820648061,1.00647725068461,1.07454705133724,0.96136768568853,0.794913818322929,0.767897649392165,0.859467603298993,0.77936495036829,0.707487660851685,0.985781672144475,1.3005981680647,1.43044027361137,1.36516954320822,1.27255575280341,1.05554158205951,0.975038156587154,0.857531343839561,0.789649626026072,0.60130930560394,0.457120588796211,0.254865314367258,0.111647571384302,0.415815063439894,0.207783455544142,0.173754694020428,-0.000269717346210285,0.203480292402529,0.651077022415014,0.716082647471502,0.6416609939238,0.605384131893251,0.484151828391095,0.691886763866995,0.606158022066354,0.577630202985982,0.530763167852721,0.502572877720088,0.470956471078228,0.374240991431362,0.361570758154552,0.09973550654568,0.172620711710894,0.128725431111869,-0.00430050940028082,0.0663259291253464,-0.101795312198496,0.11560032986181,0.290544410997546,0.153672852750588,0.164784212732767,-0.116486178985268,-0.026811490920208,0.145697362845143,-0.0178040646370397,-0.0601131086267976,-0.198562874755085,-0.150316922651537,-0.0114073280936147,0.114578700856647,0.0196809777508804,-0.120171534327802,0.0293414213570724,0.00124537708443206,-0.148402279151147,-0.202212699930103,-0.243586539888925,-0.29274070191363,-0.252438365802113,-0.0255783219897801,0.10345738157592,0.0897002801922255,0.0282867255783321,0.244200653517091,0.167611734056181,0.0977851855888776,0.0265900223574622,0.0679396232601261,0.0424253244362349,-0.0364664042614811,-0.0323428270945953,-0.113980330109806,-0.136138748562006,-0.276989283249338,-0.258349954496707,-0.258064738733148,-0.256348396756113,-0.367585203666395,-0.456374769451312,-0.61780343606909,-0.680844324082804,-0.659181225388184,-0.438879610648932,-0.393131501063791,-0.162433927168999,0.273451143785378,0.621015946128886,0.596097031122523,0.650716441357615,0.468954253967922,0.437866904357175,0.303854683371988,0.11589506379753,0.229943669258437,0.138804415995871,0.251592723574229,0.194838180287645,0.138397057012564,0.169941061628962,0.103314761107203,0.11092006731208,0.0600760650933534,0.000285064620245912,0.134071117222511,0.150651268671252,0.185336559760705,0.169139573500145,0.204276572914403,0.129060972788134,0.0627589240130524,-0.0174574751432663,-0.0412898350421678,-0.102056352049829,-0.261757310438596,-0.293176014536046,-0.196527262042919,-0.138587969036196,-0.151307061724077,-0.0569092348940679,-0.19968676124338,-0.206728260091808,-0.29370257377092,-0.310263122396395,-0.305510546294126,-0.316920987257029,-0.450221260544034,-0.428525409673437,-0.399538322849573,-0.233542203362519,-0.328335613987424,-0.464099054481729,-0.466984848259013,-0.407195871372445,-0.366905363664591,-0.347719734638827,-0.381842974426122,-0.409456635383018,-0.342581783050699,-0.289651376281857,-0.321420406817339,-0.429791123939173,-0.572616727277993,-0.67640850282196,-0.63110831588796,-0.504730566964636,-0.525864964019616,-0.606232830739547,-0.567759350282158,-0.589181120674822,-0.513504242669645,-0.455284612335848,-0.461179963500608,-0.514290071094035,-0.436951086991753,-0.37152026504493,-0.357740220629109,-0.267750773779666,-0.175905762103415,0.17170940329651,0.583848860791894,0.242047648310941,0.138238918264803,0.0618787530799763,-0.0770665615321846,-0.069342371243482,0.0605964925458071,0.184984121140804,0.0232687716311428,0.0363608045222259,0.23600596522288,0.456879241783716,0.689881110447764,0.690084476155475,0.511710456756018,0.436030866665105,0.263933986268129,0.254468626116261,0.455659800556943,0.468499151172904,0.445336194856293,0.323137244763724,0.395586709407459,0.142043850756719,0.193792821972347,0.230511749306027,0.341717783640123,0.293399320287588,0.334425869855594,0.414379419452729,0.412516869807421,0.362465062639256,0.282639638265895,0.192685539948214,0.0163513859328051,-0.0243672711737251,-0.113241711109902,-0.0489713689945477,-0.080942497158607,-0.221800327868245,-0.391192387365399,-0.418946199569756,-0.411516994552414,-0.3999876813441,-0.587495975146216,-0.518404815347115,-0.195425052942728,0.0200518525729017,-0.033896667650188,-0.177875065178938,-0.288260091337152,-0.391593609210194,-0.390557218393711,-0.16867828050262,-0.180377256810723,-0.181954982052829,-0.290556914840652,-0.210252449239528,-0.311421250516909,-0.35657025442468,-0.326282273581741,-0.169520449438093,0.490793906664894,0.873601197016132,0.255369877867222,0.0269811201011247,-0.0933921456074138,-0.202417645072035,-0.072607441820046,-0.113352605730549,-0.139082473407094,-0.262000270971251,-0.477001518911138,-0.680697067810635,-0.817288357412381,-0.772387759701596,-0.761431013420403,-0.801118536193513,-0.850609985920907,-0.781926654948099,-0.871918054819743,-1.12625872552491,-1.06801684254839,-0.955547941088798,-1.14396030854069,-1.18547539917754,-1.37064197045108,-1.19994023463442,-1.35477267517418,-1.44753549912526],"name":"Error Correction Term","line":{"color":"#551a8b","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>E a comparação entre o IPCA realizado e estimado ficou como:</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparing IPCA</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>realz_fit_vecm3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"realiz_ipca"</span> <span class="ot">=</span> vecm3[[<span class="st">"model"</span>]] <span class="sc">|&gt;</span> </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">pull</span>(<span class="st">`</span><span class="at">ipca_log -1</span><span class="st">`</span>),</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fit_ipca"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,vecm3[[<span class="st">"fitted.values"</span>]] <span class="sc">|&gt;</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                            dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">pull</span>(ipca_log))</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>plt_ipca_vecm3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit_vecm3,</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>realiz_ipca,</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>fit_ipca,</span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted"</span>,</span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0e0417"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(IPCA)) Realizado e Estimado em VECM3'</span>,</span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb76-28"><a href="#cb76-28" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb76-29"><a href="#cb76-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb76-30"><a href="#cb76-30" aria-hidden="true" tabindex="-1"></a>plt_ipca_vecm3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fa53e494b9d107dada77" style="width:100%;height:505px;"></div>
<script type="application/json" data-for="htmlwidget-fa53e494b9d107dada77">{"x":{"visdat":{"d03e5c917c54":["function () ","plotlyVisDat"]},"cur_data":"d03e5c917c54","attrs":{"d03e5c917c54":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e5c917c54.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IPCA","line":{"color":"#551a8b","width":2},"inherit":true},"d03e5c917c54.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"Fitted","line":{"color":"#0e0417","width":2,"dash":"dot"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":true,"title":"Dif(Log(IPCA)) Realizado e Estimado em VECM3","xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"visible":true},"title":"Data","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif Log IPCA","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0.00309698065394848,0.0118327072056728,0.00945504161467881,0.00597921374740107,0.00618143965219797,0.00130044721193912,0.00219691147807755,0.00419316519776025,9.93276758762818e-05,0.00230039815847771,0.0159745843031915,0.0130136603878377,0.00229564649319958,0.00139764103382589,0.00319582779944305,0.00588014455392738,0.00568630957564764,0.00459055648173123,0.00379088412952377,0.00578181453814075,0.00409126876803345,0.00518874682211834,0.0132112160469706,0.00697337464180858,0.00279496185719275,0.00826562362788419,0.00707685488232546,0.00648111212930669,0.00518884272440356,0.00359381549966997,0.00598107146604576,0.00796985219900659,0.00209559543902937,0.00418878021009306,0.0118320618561807,0.00647712710965997,0.00717232304889492,0.0130171245122064,0.029755134513068,0.020780367382045,0.0222529822643214,0.0155803071239946,0.0122265135805995,0.00965253980345082,0.00608226489961261,-0.00150216049910856,0.00199779161285996,0.00339397152135756,0.00777040784828387,0.00289501367675005,0.00339626376494984,0.00518500526427523,0.00756942969630892,0.0060800442927178,0.00468783964643205,0.00369239303880686,0.00508543915111304,0.00707297741813129,0.00905713788934293,0.00687487992761415,0.00329649567032497,0.00439119159404466,0.00687673572970926,0.00856121225424111,0.00578169636769044,0.00588443607933797,0.00607937069769893,0.00866063990542898,0.00488834152521012,-0.000202025916571813,0.00249821037799869,0.00169957108627639,0.00349476543106242,0.00747065165012462,0.00548544679438656,0.00359167545033134,0.0058831101539738,0.00409299402591135,0.00429018806551706,0.00209747098683,0.0010005740561434,-0.00210313996267608,0.00189767737068181,0.000500014545724348,0.00209810860156967,0.00329311504415841,0.00309404758595022,0.00478764179671032,0.00439178744706581,0.00439153702730355,0.0036927775600093,0.00249699321422714,0.00279511056755322,0.0027948121003325,0.00239842814083424,0.00469039814738981,0.00179872873949805,0.00299564595140289,0.00379099041823672,0.00737441268736738,0.00538519991686037,0.0048890439180953,0.00478953220968759,0.00548423447385371,0.00786973870607532,0.00737393264570851,0.00528419567802807,0.00279635077987272,0.00259636794511398,0.00449095765596486,0.00359424682979093,0.00279699159781277,0.00478654614125418,0.00548593271847242,0.00199613827325784,0.00478949001127571,0.004688867380648,0.00359243814293198,0.00239677492827273,0.00149842961732904,0.00239751578081027,0.00279597909243989,0.00409288882976533,0.00369186649215081,0.00747138166103944,0.00776852444365339,0.00518573574256997,0.00568536550062682,0.00429113310202567,0,9.96497793259721e-05,0.000398499846195222,0.00448820837477193,0.00747291173852993,0.00826484954735029,0.00628084999342171,0.00826702078778041,0.00796836668139811,0.00786872012785267,0.00767089368619267,0.00469030820611493,0.00149831279452783,0.00159833638515572,0.00369257791961175,0.00528691415735771,0.00429201165107962,0.0051864510997266,0.00498636633038529,0.00558411885645782,0.00448916214956618,0.00209774032414423,0.00637942700523908,0.00359271480666123,0.000798545425951147,0.00429201194082829,0.00409145560443314,0.00568420491024391,0.00588290127352664,0.00598279910925115,0.00786997490680719,0.0085629125047415,0.00598189658646042,0.00468909078174029,0.00548538790029696,0.0036924449634963,0.00259761402833902,0.000298670113011212,0.00239689056547476,0.00349366860645794,0.00568321997351617,0.00538663082020641,0.00915751528545172,0.00548371945131976,0.00687605722978724,0.00915841798434869,0.00667787236060313,0.00458876749808468,0.00399197074305313,0.000101047866460036,0.00249768652453675,0.00568353234611152,0.00419040421958528,0.00508684046053887,0.00776928601737481,0.0123231988642072,0.0121251125779409,0.0131144723090468,0.00707530328946326,0.00737172407226261,0.00787008588751448,0.00617984042493269,0.00219720578137306,0.00538503521749689,0.00816543146944859,0.0100493145068459,0.0095532513459915,0.012619315128827,0.00895929050709121,0.00429033161548276,0.0060822006380743,0.00776875549496125,0.00349318480249572,0.0051873180378923,0.00439027314411966,0.00079980842627414,0.00259759831484274,0.00179940096563591,0.00299461696436509,0.00379328636422649,0.00329462828420191,0.00249601431998592,0.00139894511283067,0.00309558397914245,-0.00230268155257995,0.00239765145132331,0.0018975063804465,0.00159771083719917,0.00419212938201952,0.00279659803570986,0.00439082669439728,0.00289626267990251,0.00319523376527187,0.000899221577245868,0.00219716232886569,0.00399255121032027,0.0125214205091968,0.00329521542398759,-0.000899416625909311,0.00478822386630462,0.00448917344967548,-0.00210265007356369,0.00149898297370576,0.00319450941785426,0.00429023675139106,0.00747163337833179,0.00568351322154825,0.00129933333892396,9.97313009420964e-05,0.00189874990584649,0.0011000459302295,-0.000399702810030433,0.000999913092792681,0.00508729438343281,0.0114348963984128,0.00209732447485145,0.00249715149288399,0.000699507380831577,-0.00310475512501007,-0.00380700150503088,0.00259657139187652,0.00359322566646725,0.00239766366128613,0.00638002538115323,0.00856340535322708,0.00886076185011042,0.0134100429873047,0.00249661560042469,0.0085631214550439,0.00925726814713457,0.00309491820475749,0.00826641119310523,0.00528606196843384,0.00955390243830756,0.00866225071755089,0.0115328690703027,0.0124220838441893,0.0094558426439324,0.00727306942680883,0.00538576221200593,0.0100499458054983,0.0160706728999873,0.0105443927917879,0.00468906184051932,0.00667822849660027],"name":"IPCA","line":{"color":"#551a8b","width":2},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":["1999-07-31","1999-08-31","1999-09-30","1999-10-31","1999-11-30","1999-12-31","2000-01-31","2000-02-29","2000-03-31","2000-04-30","2000-05-31","2000-06-30","2000-07-31","2000-08-31","2000-09-30","2000-10-31","2000-11-30","2000-12-31","2001-01-31","2001-02-28","2001-03-31","2001-04-30","2001-05-31","2001-06-30","2001-07-31","2001-08-31","2001-09-30","2001-10-31","2001-11-30","2001-12-31","2002-01-31","2002-02-28","2002-03-31","2002-04-30","2002-05-31","2002-06-30","2002-07-31","2002-08-31","2002-09-30","2002-10-31","2002-11-30","2002-12-31","2003-01-31","2003-02-28","2003-03-31","2003-04-30","2003-05-31","2003-06-30","2003-07-31","2003-08-31","2003-09-30","2003-10-31","2003-11-30","2003-12-31","2004-01-31","2004-02-29","2004-03-31","2004-04-30","2004-05-31","2004-06-30","2004-07-31","2004-08-31","2004-09-30","2004-10-31","2004-11-30","2004-12-31","2005-01-31","2005-02-28","2005-03-31","2005-04-30","2005-05-31","2005-06-30","2005-07-31","2005-08-31","2005-09-30","2005-10-31","2005-11-30","2005-12-31","2006-01-31","2006-02-28","2006-03-31","2006-04-30","2006-05-31","2006-06-30","2006-07-31","2006-08-31","2006-09-30","2006-10-31","2006-11-30","2006-12-31","2007-01-31","2007-02-28","2007-03-31","2007-04-30","2007-05-31","2007-06-30","2007-07-31","2007-08-31","2007-09-30","2007-10-31","2007-11-30","2007-12-31","2008-01-31","2008-02-29","2008-03-31","2008-04-30","2008-05-31","2008-06-30","2008-07-31","2008-08-31","2008-09-30","2008-10-31","2008-11-30","2008-12-31","2009-01-31","2009-02-28","2009-03-31","2009-04-30","2009-05-31","2009-06-30","2009-07-31","2009-08-31","2009-09-30","2009-10-31","2009-11-30","2009-12-31","2010-01-31","2010-02-28","2010-03-31","2010-04-30","2010-05-31","2010-06-30","2010-07-31","2010-08-31","2010-09-30","2010-10-31","2010-11-30","2010-12-31","2011-01-31","2011-02-28","2011-03-31","2011-04-30","2011-05-31","2011-06-30","2011-07-31","2011-08-31","2011-09-30","2011-10-31","2011-11-30","2011-12-31","2012-01-31","2012-02-29","2012-03-31","2012-04-30","2012-05-31","2012-06-30","2012-07-31","2012-08-31","2012-09-30","2012-10-31","2012-11-30","2012-12-31","2013-01-31","2013-02-28","2013-03-31","2013-04-30","2013-05-31","2013-06-30","2013-07-31","2013-08-31","2013-09-30","2013-10-31","2013-11-30","2013-12-31","2014-01-31","2014-02-28","2014-03-31","2014-04-30","2014-05-31","2014-06-30","2014-07-31","2014-08-31","2014-09-30","2014-10-31","2014-11-30","2014-12-31","2015-01-31","2015-02-28","2015-03-31","2015-04-30","2015-05-31","2015-06-30","2015-07-31","2015-08-31","2015-09-30","2015-10-31","2015-11-30","2015-12-31","2016-01-31","2016-02-29","2016-03-31","2016-04-30","2016-05-31","2016-06-30","2016-07-31","2016-08-31","2016-09-30","2016-10-31","2016-11-30","2016-12-31","2017-01-31","2017-02-28","2017-03-31","2017-04-30","2017-05-31","2017-06-30","2017-07-31","2017-08-31","2017-09-30","2017-10-31","2017-11-30","2017-12-31","2018-01-31","2018-02-28","2018-03-31","2018-04-30","2018-05-31","2018-06-30","2018-07-31","2018-08-31","2018-09-30","2018-10-31","2018-11-30","2018-12-31","2019-01-31","2019-02-28","2019-03-31","2019-04-30","2019-05-31","2019-06-30","2019-07-31","2019-08-31","2019-09-30","2019-10-31","2019-11-30","2019-12-31","2020-01-31","2020-02-29","2020-03-31","2020-04-30","2020-05-31","2020-06-30","2020-07-31","2020-08-31","2020-09-30","2020-10-31","2020-11-30","2020-12-31","2021-01-31","2021-02-28","2021-03-31","2021-04-30","2021-05-31","2021-06-30","2021-07-31","2021-08-31","2021-09-30","2021-10-31","2021-11-30","2021-12-31","2022-01-31","2022-02-28","2022-03-31","2022-04-30","2022-05-31","2022-06-30"],"y":[0,0,0.00425121585084395,0.0111727451254003,0.0087890292102017,0.00474986216907839,0.0053402319405028,0.00175763701285064,0.00196193201714593,0.00345083963630926,0.00238428198500005,0.00275283002974209,0.0135047122576501,0.0120303786697352,0.00324925575614134,0.00188761553480126,0.00408423410079851,0.00383127157091687,0.00538989440216384,0.0052826473497808,0.00407865938996655,0.00663152285776542,0.00533054898995065,0.00541799217684405,0.0118155719827099,0.00692937457967442,0.00401227318040069,0.00662846716679624,0.00398729265806895,0.00438558683518506,0.00541620711620422,0.00431592287986317,0.00604241762099648,0.0073983920650614,0.00375979925624763,0.00566353968903167,0.0124411342456853,0.0072969703180683,0.00828276091140112,0.0138632063197075,0.0231590250089261,0.0189442000038002,0.018329339170915,0.0147462727395235,0.00893042053819946,0.00489063604162757,0.00434203158331971,-0.00106060721422097,0.00211202446727622,0.00431761232237586,0.00555699407553538,0.0027777220645776,0.00356536491223222,0.00492320788198488,0.00638623253927835,0.00596290293180314,0.00445546464697339,0.0033634513930366,0.00659016896351897,0.00591976852416835,0.00748715046060418,0.00627085064380799,0.00191068073533406,0.00423719067851859,0.00454968945687821,0.00623750322510231,0.00545734314175913,0.00445676373631484,0.00703706494390454,0.00619884480446139,0.00264595239790327,0.0002959208628839,0.00202321607081771,0.00189486358689752,0.00223702736325409,0.00546574989936779,0.00382761552017738,0.00402696490738485,0.00550432000498267,0.00201653695113136,0.00370688201224784,0.00222346310229896,0.00136840071737775,-0.00120360072667838,0.00128166053655213,-0.000113024429346787,0.000850867069858864,0.00211852620768018,0.00280783252495645,0.00430622763894588,0.00279198476130067,0.00383833040169518,0.00344352960795265,0.00201679430596427,0.00182162095130984,0.00210608889368623,0.00196818167578503,0.00465531491981577,0.00129751245751991,0.00173589038180267,0.00346025141751778,0.00622804562502812,0.00436590357737354,0.00361618980546888,0.00422935678689546,0.004692088681188,0.00688368114309485,0.00585651182060172,0.00383780957335923,0.00140739578836266,0.00359539630028909,0.00573972671613443,0.00189726510962697,0.00197512867008632,0.00385719421856379,0.0047497833202222,0.00273100068242357,0.00364543221145415,0.00363873874065199,0.00313044675440317,0.00142530406701758,0.00100288124238834,0.0014232952075259,0.0019879773707594,0.00368542232816774,0.00330141520988119,0.00697592287402652,0.00716590929484914,0.0041899847050997,0.00484626272424109,0.00362088029662273,-7.024379845916e-05,-0.000317813746871757,0.000395733678138625,0.0033770663297527,0.00645093367450281,0.00762219366828112,0.00551467582302977,0.00695282300031468,0.00694797140281987,0.00721800566365312,0.00582616987413442,0.0037452282640357,0.000688942042463307,0.00111654307940871,0.00303136789207793,0.00652206947986641,0.0038044282107541,0.0048390602053921,0.0045954375023793,0.00418236592015556,0.00308322224673642,0.00288997793999579,0.00566970593098522,0.00384953897818608,0.000333473653181448,0.00377611551223395,0.00389596185571012,0.0046374604436651,0.00457617801701262,0.00504932870868559,0.00654075154174111,0.00691267128254318,0.00457522198358087,0.00361977146177161,0.00446197646463327,0.00340520214824005,0.00356324241506612,0.00121824759931523,0.00283863771706955,0.00199530728918994,0.00346103875307362,0.00521399000748766,0.00823982933595296,0.00449654063159767,0.00570278380714099,0.00684116959377529,0.00456510094411291,0.00364899314836579,0.0035169331373571,-0.000531854126188357,0.00197935248392927,0.00507286352168843,0.00382059973253386,0.00448759925675632,0.00568937707993805,0.00886837450575515,0.0130416185498638,0.0134373930667317,0.0058965789108926,0.00696567362187928,0.00689721721962329,0.00526960966169289,0.00278058840651422,0.00701943923536675,0.00680277848079024,0.00733049157217631,0.00774142456068777,0.0107371540832887,0.00761883867215231,0.00355325863635249,0.00510272367251759,0.00738597072873851,0.00260067592018578,0.00299984067204463,0.00356273519423956,0.00121301720306759,0.00255233874336536,0.00214854286559037,0.00380161313514546,0.00232063454210389,0.00227190178594303,0.00189848357269821,0.00157992494132322,0.00296879459136035,-0.00171360645799811,0.00179169579523029,0.00172188449164156,0.00176160711131043,0.0043454896265164,0.00352001842071113,0.00407114054198526,0.00241501860233809,0.00256444416587793,0.00105934151744108,0.00302202050627046,0.00503041823110876,0.0111975381934298,0.00282619003348159,-0.000576264641917119,0.00540660020943839,0.00182480601371791,-0.00320846625336027,0.000718913600611135,0.0023545892274294,0.00414506870282962,0.00725288298749382,0.00533808002784652,0.00135784454100955,-0.00156884557085211,0.0012563367889171,0.00185379492733991,0.000419730881375119,0.000263219201421434,0.00491603923747306,0.0096065709111195,0.00166147673629261,0.00207110663780333,-0.0002667571910703,-0.0025915134902063,0.000578537591942927,0.00192695450985839,0.00381594083998709,0.00298340901463151,0.00463569525509879,0.00808449472216604,0.00699658363649588,0.0110307238918133,0.0035259349478336,0.00808800260034557,0.00880377907828202,0.00185350834592055,0.00585430208536007,0.00352224186436709,0.00837701147655465,0.00701715405860275,0.00992757627193672,0.0119980565634392,0.00736976673876341,0.00553778542735053,0.00459416938917957,0.007214506974618,0.0131950966738861,0.00699073784217996,0.00474350864168472,0.00576893774388987],"name":"Fitted","line":{"color":"#0e0417","width":2,"dash":"dot"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Cabe aqui realizar os mesmos diagnósticos de resíduos para ver como se comporta a estimação do VECM feita.</p>
</section>
<section id="formas-estruturais" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Formas Estruturais</h1>
<p>Existem várias formas de recuperar os erros estruturais dos sistemas na sua forma reduzida. A primeira aprendida nos cursos de Econometria das Séries de Tempo é a <strong>Decomposição de Cholesky</strong> para o VAR, onde, importanto o ordenamento das variáveis no sistema, faz-se, ou de <span class="math inline">A^{-1}</span> ou de <span class="math inline">B</span>, em, <span class="math inline">\hat e = A^{-1}B_{\sigma}\hat\epsilon_{t}</span>, uma matriz triangular-inferior, substituindo por zeros os elementos da parte superior à diagonal principal.<br>
Para fazer restrições em A ou em B, devemos impor <span class="math inline">K(K-1)/2</span> restrições, com K sendo o número de variáveis participantes do modelo, no caso, K=2 para o VAR.A outra matriz que não é escolhida para ser restringida se torna uma matriz identidade. Para fazer restrições em ambas as matrizes, A e B, devemos impor <span class="math inline">K^2 + K(K-1)/2</span> restrições.<br>
Para ambos os modelos, VAR2(1) (k=2) e VECM (k=4), vamos usar a suposição de que o Preço Internacional do Petróleo em Reais afeta o IPCA mas não é afetado por esse. Em termos operacionais, vamos impor uma (<span class="math inline">2(2-1)/2 = 1</span>) restrição em <span class="math inline">A^{-1}</span>. Também vamos supor que existem choques em demais variáveis não consideradas nesse modelo, portanto, contidas nos erros, que afetem IPCA, US$Petro e Câmbio, ou seja, vamos manter a matriz de covariâncias <span class="math inline">B = I_K</span>.<br>
Para recuperar os erros estruturais do VECM, usa-se o sistema numa Decomposição de Beveridge-Nelson, uma decomposição alternativa à Decomposição Multiplicativa Clássica, feita anteriormente:</p>
<p><span class="math display">
y_{t} = \Xi \sum_{i=1}^{t}u_i + \sum_{j=1}^{\infty} \Xi_j^* u_{t-j} + y_{0}^{*}
</span></p>
<p>Onde o primeiro termo do lado direto da equação refere-se às tendências comuns do sistema, onde os efeitos de longo prazo dos choques são capturados. O segundo termo é integrado de ordem zero (<span class="math inline">I(0)</span>) e é suposto que a soma infinita de $ _j^*$ converge para zero à medida que <span class="math inline">j \rightarrow \infty</span>. Por causa de seu posto reduzido, <span class="math inline">\Xi</span> tem apenas K-r tendências comuns. Portanto, conhecendo o posto de <span class="math inline">\Pi</span>, pode-se concluir que, no máximo, r dos erros estruturais podem ter um efeito transitório. Isso implica que no máximo r colunas de <span class="math inline">\Xi</span> podem ser definidas como zero.<br>
Em termos dos erros da forma reduzida, as tendências comuns são <span class="math inline">\Xi B \sum_{t=1}^{\infty} \epsilon_t</span> e os efeitos de longo prazo dos choques estruturais são capturadas por <span class="math inline">\Xi B</span>, onde o efeito contemporâneo é capturada pela matriz B, que receberá nenhuma restrição (<span class="math inline">r(r-1)/2 = 0</span>).</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de coeficientes estimados. para modelos -A ou -AB do VAR</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>A_var <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">2</span>, <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>A_var[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>A_var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]   NA   NA
[2,]    0   NA</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de impacto de longo prazo estimada do VECM.</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>LR_vecm <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">3</span>, <span class="at">ncol=</span><span class="dv">3</span>) </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>LR_vecm[<span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>LR_vecm[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>LR_vecm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]    0   NA   NA
[3,]    0    0   NA</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de impacto contemporâneo estimado do VECM.</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>SR_vecm <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">3</span>, <span class="at">ncol=</span><span class="dv">3</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>SR_vecm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA
[3,]   NA   NA   NA</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>svar <span class="ot">&lt;-</span> <span class="fu">SVAR</span>(var2, <span class="at">Amat=</span>A_var, <span class="at">estmethod=</span><span class="st">"direct"</span>, <span class="at">lrtest=</span>F)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>svec <span class="ot">&lt;-</span>  <span class="fu">SVEC</span>(johansen_var1_max,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">LR =</span> LR_vecm, <span class="at">SR =</span> SR_vecm, <span class="at">r =</span> <span class="dv">1</span>,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">lrtest=</span><span class="cn">FALSE</span>, <span class="at">boot=</span><span class="cn">TRUE</span>,<span class="at">runs=</span><span class="dv">1000</span>)</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>svar <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
SVAR Estimation Results:
======================== 

Call:
SVAR(x = var2, estmethod = "direct", Amat = A_var, lrtest = F)

Type: A-model 
Sample size: 275 
Log Likelihood: 1475.117 
Method: direct 
Number of iterations: 280 
Convergence code: 0 

Estimated A matrix:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif          321.9         0.7651
ptr_br_log_dif          0.0        11.3332

Estimated B matrix:
               ipca_log_dif ptr_br_log_dif
ipca_log_dif              1              0
ptr_br_log_dif            0              1

Covariance matrix of reduced form residuals (*100):
               ipca_log_dif ptr_br_log_dif
ipca_log_dif      0.0009695      -0.001851
ptr_br_log_dif   -0.0018506       0.778566</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>svec <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
SVEC Estimation Results:
======================== 

Call:
SVEC(x = johansen_var1_max, LR = LR_vecm, SR = SR_vecm, r = 1, 
    lrtest = FALSE, boot = TRUE, runs = 1000)

Type: B-model 
Sample size: 274 
Log Likelihood: 2035.341 
Number of iterations: 12 

Estimated contemporaneous impact matrix:
            ipca_log cambio_log  petro_log
ipca_log    0.002837 -0.0004846 -8.257e-05
cambio_log  0.001961  0.0321079  1.373e-02
petro_log  -0.003287 -0.0558448  6.759e-02

Estimated standard errors for impact matrix:
            ipca_log cambio_log petro_log
ipca_log   0.0002857   0.000667 0.0005903
cambio_log 0.0052886   0.013487 0.0279999
petro_log  0.0128545   0.064160 0.0276933

Estimated long run impact matrix:
           ipca_log cambio_log petro_log
ipca_log          0     0.1151    0.3035
cambio_log        0     0.1220    0.1860
petro_log         0     0.0000    0.3447

Estimated standard errors for long-run matrix:
           ipca_log cambio_log petro_log
ipca_log          0     0.1842     25.52
cambio_log        0     0.1953     34.87
petro_log         0     0.0000     23.06

Covariance matrix of reduced form residuals (*100):
             ipca_log cambio_log petro_log
ipca_log    0.0008292  -0.001113  0.001216
cambio_log -0.0011128   0.122318 -0.087173
petro_log   0.0012156  -0.087173  0.769782</code></pre>
</div>
</div>
</section>
<section id="função-impulso-resposta" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Função Impulso-resposta</h1>
<p>A função Impulso-resposta é o plot de <span class="math display">\frac{\partial y_{t+i}}{\partial e_t} = \Theta_i</span> com <span class="math inline">i</span> na abissiça. O resultado <span class="math inline">\Theta_i</span> é uma matriz KxK de K variáveis e K choques estruturais. Ou seja, o impacto de uma inovação pontual, em <span class="math inline">t</span>, pelo tempo <span class="math inline">i</span> de cada erro estrutural <span class="math inline">e_{j,t}</span> em cada variável <span class="math inline">y_{j,t+i}</span> com <span class="math inline">j=1,...,K</span>.<br>
Abaixo segue as resposta em <span class="math inline">Dif(ln( \: IPCA \:))</span> de choques do próprio IPCA e de R$ Petro. Primeiro fazemos o cálculo com <code>vars::irf()</code>, construímos um data frame com os valores calculados e montamos com o <code>plotly</code>.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>ir_svar <span class="ot">&lt;-</span> <span class="fu">irf</span>(svar, <span class="at">response =</span> <span class="st">"ipca_log_dif"</span>, <span class="at">n.ahead =</span> <span class="dv">12</span>, <span class="at">boot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o data.frame</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>ir_dd_svar <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_u_log_dif"</span> <span class="ot">=</span> ir_svar[[<span class="st">"Upper"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_log_dif"</span>   <span class="ot">=</span> ir_svar[[<span class="st">"irf"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_l_log_dif"</span> <span class="ot">=</span> ir_svar[[<span class="st">"Lower"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_u_log_dif"</span>  <span class="ot">=</span> ir_svar[[<span class="st">"Upper"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_log_dif"</span>    <span class="ot">=</span> ir_svar[[<span class="st">"irf"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_l_log_dif"</span>  <span class="ot">=</span> ir_svar[[<span class="st">"Lower"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>]</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a><span class="co"># plot do impulso-resposta</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>ir_svar_plt1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svar, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_u_log_dif,</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_l_log_dif,</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0,100,80,0.2)'</span>,</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_log_dif,</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0,100,80)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVAR Impulso-resposta de IPCA no IPCA'</span>,</span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a>ir_svar_plt1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1bd3427d85b2be2c3aa2" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-1bd3427d85b2be2c3aa2">{"x":{"visdat":{"d03e59d5dd49":["function () ","plotlyVisDat"]},"cur_data":"d03e59d5dd49","attrs":{"d03e59d5dd49":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e59d5dd49.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"inherit":true},"d03e59d5dd49.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Inf","showlegend":false,"fill":"tonexty","fillcolor":"rgba(0,100,80,0.2)","line":{"color":"transparent"},"inherit":true},"d03e59d5dd49.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0,100,80)"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SVAR Impulso-resposta de IPCA no IPCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Impacto em Dif(Log(IPCA))","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[0.00361802315053393,0.00229049734651524,0.00151721898735178,0.00104035621882265,0.000714906620843647,0.000493129202239713,0.000343895791291327,0.000239840553738721,0.000167279695232279,0.000116677589958568,8.19531365411188e-05,5.76952262023342e-05,4.06179436420473e-05],"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(0,100,80,0.2)","mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[0.00255099236244967,0.00136748239321777,0.000729845892619436,0.000369242230995019,0.000184559252302312,9.02952743337519e-05,4.5184726238174e-05,2.26153033519439e-05,1.13193890297236e-05,5.66561463684774e-06,2.83577906986441e-06,1.4193788902617e-06,7.10435467908024e-07],"name":"IC Inf","showlegend":false,"fill":"tonexty","line":{"color":"transparent"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[0.00310667064570092,0.00193217773276832,0.00122126131318897,0.000775416061597189,0.000492951740099644,0.00031349005632874,0.00019938127223366,0.00012681081753068,8.06550128046426e-05,5.12988094286908e-05,3.26274733608415e-05,2.07519860457571e-05,1.31988443554448e-05],"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0,100,80)"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>ir_svar_plt2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svar, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_u_log_dif,</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_l_log_dif,</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0,100,80,0.2)'</span>,</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_log_dif,</span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0,100,80)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVAR Impulso-resposta de R$ Preto no IPCA'</span>,</span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb88-24"><a href="#cb88-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb88-25"><a href="#cb88-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb88-26"><a href="#cb88-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-27"><a href="#cb88-27" aria-hidden="true" tabindex="-1"></a>ir_svar_plt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1dd57be05463a186324e" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-1dd57be05463a186324e">{"x":{"visdat":{"d03e42685964":["function () ","plotlyVisDat"]},"cur_data":"d03e42685964","attrs":{"d03e42685964":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e42685964.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"inherit":true},"d03e42685964.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Inf","showlegend":false,"fill":"tonexty","fillcolor":"rgba(0,100,80,0.2)","line":{"color":"transparent"},"inherit":true},"d03e42685964.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0,100,80)"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SVAR Impulso-resposta de R$ Preto no IPCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Impacto em Dif(Log(IPCA))","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[0.000187622058933966,0.000892857482690342,0.000713902405872642,0.000505081412556241,0.000337378568759054,0.000216853136323477,0.000142156705028921,9.31993696510878e-05,6.30746964625108e-05,4.37682619568534e-05,3.03922716893583e-05,2.11047287532936e-05,1.46751886681791e-05],"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(0,100,80,0.2)","mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[-0.000746650751478254,-3.50474889561129e-05,7.42963031478597e-06,1.3008833671458e-05,7.18448576356509e-06,3.48110687939868e-06,1.67903882798859e-06,8.11489883437606e-07,3.93944621510127e-07,1.92280954477564e-07,9.4397160895684e-08,4.64584657507691e-08,2.29035166973644e-08],"name":"IC Inf","showlegend":false,"fill":"tonexty","line":{"color":"transparent"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13],"y":[-0.000209732675188068,0.000435893793721876,0.000376883127413453,0.000257148595154721,0.000166606289368895,0.0001065005591561,6.7830856276518e-05,4.31586932766948e-05,2.74530030732929e-05,1.7461380587363e-05,1.1106015060619e-05,7.0637521129776e-06,4.492746947514e-06],"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0,100,80)"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>ir_svec <span class="ot">&lt;-</span> <span class="fu">irf</span>(svec, <span class="at">response =</span> <span class="st">"ipca_log"</span>, <span class="at">n.ahead =</span> <span class="dv">36</span>, <span class="at">boot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o data.frame</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>ir_dd_svec <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_u_log"</span> <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_log"</span>   <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_l_log"</span> <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_u_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_log"</span>    <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_l_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_u_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_log"</span>    <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_l_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>]</span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o plot</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>ir_svec_plt1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_u_log,</span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_l_log,</span>
<span id="cb89-21"><a href="#cb89-21" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb89-22"><a href="#cb89-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb89-23"><a href="#cb89-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb89-24"><a href="#cb89-24" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb89-25"><a href="#cb89-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_log,</span>
<span id="cb89-26"><a href="#cb89-26" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb89-27"><a href="#cb89-27" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb89-28"><a href="#cb89-28" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb89-29"><a href="#cb89-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de IPCA no IPCA'</span>,</span>
<span id="cb89-30"><a href="#cb89-30" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb89-31"><a href="#cb89-31" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb89-32"><a href="#cb89-32" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb89-33"><a href="#cb89-33" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb89-34"><a href="#cb89-34" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb89-35"><a href="#cb89-35" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb89-36"><a href="#cb89-36" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb89-37"><a href="#cb89-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb89-38"><a href="#cb89-38" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb89-39"><a href="#cb89-39" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb89-40"><a href="#cb89-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-41"><a href="#cb89-41" aria-hidden="true" tabindex="-1"></a>ir_svec_plt1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1f6309d1ac840984e18f" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-1f6309d1ac840984e18f">{"x":{"visdat":{"d03e65f2ef69":["function () ","plotlyVisDat"]},"cur_data":"d03e65f2ef69","attrs":{"d03e65f2ef69":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e65f2ef69.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"inherit":true},"d03e65f2ef69.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Inf","showlegend":false,"fill":"tonexty","fillcolor":"rgba(0, 104, 201,0.2)","line":{"color":"transparent"},"inherit":true},"d03e65f2ef69.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SVEC Impulso-resposta de IPCA no IPCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Impacto em Dif(Log(IPCA))","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[0.00313400663902717,0.00481420485870366,0.00581546833419213,0.00641577429164923,0.00675500151306499,0.00694637303215522,0.00704906289784616,0.00709833674225091,0.00711533915761003,0.00711280792837254,0.00709844549092915,0.00707692402572576,0.00705245681560767,0.00704099361089542,0.00702865142451236,0.00701615444442112,0.00700439774068707,0.0069925191895438,0.00698059066910302,0.00696865317567793,0.00695673007501582,0.00694902437892609,0.00695210659640047,0.00695518454925603,0.00695826101202364,0.00696133760225292,0.00696441526435022,0.00696749455063109,0.00697057578477591,0.00697365915700337,0.00697674477954814,0.00697983271903384,0.00698292301538312,0.00698601569287439,0.0069891107666127,0.00699220824632016,0.00699530813855814],"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(0, 104, 201,0.2)","mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[0.00224077732184994,0.00311254912404597,0.00346364862433014,0.00366151416676893,0.00373802452744636,0.00373299951238348,0.00369530683521405,0.00363887602816509,0.00357177896950025,0.00349881646990784,0.00342290048686632,0.00334124252992183,0.00325377326994247,0.00316741738315973,0.00308260885115655,0.00299959743613156,0.00291851923757103,0.00283943967818481,0.00276238003288818,0.00268733399227382,0.00261427810474128,0.00254317840906509,0.00247399466933693,0.00240668308710609,0.00234112094756354,0.00227709323417664,0.00221481744310703,0.00215424679625988,0.0021013402504596,0.0020515406362515,0.00200272598569466,0.00195485916148928,0.00190814493101457,0.00186255544113914,0.0018180634786537,0.00177464246885267,0.00173226646911944],"name":"IC Inf","showlegend":false,"fill":"tonexty","line":{"color":"transparent"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[0.00283723045101692,0.00440340688742213,0.00529657330301355,0.00580752459623187,0.00609859125082247,0.00626306223620224,0.00635474190611222,0.00640462513767984,0.00643053674469171,0.00644271273367702,0.00644702453957014,0.00644683713425492,0.00644407773903841,0.00643984957575543,0.0064347839314358,0.00642924193529113,0.00642343012498127,0.00641746660272161,0.00641141889180387,0.00640532559284557,0.00639920876970123,0.00639308103214831,0.00638694958547628,0.00638081854564319,0.00637469026275289,0.00636856607758673,0.00636244675403601,0.00635633272627143,0.00635022424001622,0.00634412143329117,0.00633802438256404,0.00633193312912556,0.00632584769416428,0.00631976808738214,0.00631369431191861,0.00630762636716485,0.00630156425037213],"name":"IR-IPCA","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>ir_svec_plt2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_u_log,</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_l_log,</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_log,</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-Câmbio"</span>,</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de Câmbio no IPCA'</span>,</span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>ir_svec_plt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2195ea180fa2dea09d98" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-2195ea180fa2dea09d98">{"x":{"visdat":{"d03e1fd56b61":["function () ","plotlyVisDat"]},"cur_data":"d03e1fd56b61","attrs":{"d03e1fd56b61":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e1fd56b61.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"inherit":true},"d03e1fd56b61.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Inf","showlegend":false,"fill":"tonexty","fillcolor":"rgba(0, 104, 201,0.2)","line":{"color":"transparent"},"inherit":true},"d03e1fd56b61.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IR-Câmbio","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SVEC Impulso-resposta de Câmbio no IPCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Impacto em Dif(Log(IPCA))","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[0.00109382396808558,0.00252674173993813,0.00366448317439273,0.00446555193089798,0.00504705241512495,0.0054879489314213,0.0058388018692652,0.00613169335049175,0.00638692078435244,0.0066173095083324,0.00683096100861556,0.00705924394019337,0.00734040513955026,0.00761559018154093,0.00788563300471017,0.00811861860979825,0.00823660129499704,0.00835289443248636,0.00847467295946856,0.00868039938799278,0.00893385983124049,0.00920579903262606,0.00947360701078027,0.00973736196633217,0.0100380430794826,0.0103440847500059,0.0106489943694074,0.0109582142012856,0.0112914167693551,0.0116229816752928,0.0119529172771588,0.0122812318620193,0.0126079336574577,0.0129330308385144,0.0132565315319101,0.0135784438186541,0.0138989695536473],"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(0, 104, 201,0.2)","mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[-0.00120102706765523,-0.0018325095925395,-0.00239991820919957,-0.0028941431751334,-0.00332121177955322,-0.00371341145304761,-0.00408639309755483,-0.00444750439925078,-0.00480014663072756,-0.00514588807243408,-0.00548546083107126,-0.00582018039048499,-0.00615119815757439,-0.00650194454082588,-0.00680030920665114,-0.00708180556771961,-0.00737961982962227,-0.00768442758025546,-0.00798388419903653,-0.00827809355711713,-0.00856715865351457,-0.0088511812492672,-0.00913026158118202,-0.00940449816071503,-0.00967398764470296,-0.00993882476085709,-0.0101991022726753,-0.0104549109716792,-0.0107063396880571,-0.0109534753133904,-0.0111964028310941,-0.0114352053516077,-0.0116699641503535,-0.0119007587071476,-0.0121276667462041,-0.0123507642761727,-0.012570125629854],"name":"IC Inf","showlegend":false,"fill":"tonexty","line":{"color":"transparent"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[-0.000484583328166716,-0.000539457201986084,-0.000457910598660714,-0.000336551898925842,-0.000207993279821583,-8.20049449293625e-05,3.95839382729081e-05,0.000157354271598328,0.000272347001362298,0.000385466656677243,0.000497365482385246,0.000608475387418166,0.000719069081634464,0.00082931375069829,0.000939309918206154,0.00104911723307731,0.0011587707705363,0.00126829103140665,0.00137768995532857,0.00148697448782842,0.00159614867594535,0.0017052148908183,0.00181417453729567,0.0019230284642437,0.00203177720112195,0.00214042109409805,0.00224896038423608,0.00235739525235596,0.00246572584474706,0.00257395228789704,0.00268207469692422,0.00279009318040303,0.00289800784312476,0.00300581878767654,0.00311352611534435,0.00322112992662939,0.00332863032154327],"name":"IR-Câmbio","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>ir_svec_plt3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_u_log,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_l_log,</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_log,</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-Câmbio"</span>,</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de US$ Petro no IPCA'</span>,</span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>ir_svec_plt3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-49ad1b551c9b8c4dc934" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-49ad1b551c9b8c4dc934">{"x":{"visdat":{"d03e3e433329":["function () ","plotlyVisDat"]},"cur_data":"d03e3e433329","attrs":{"d03e3e433329":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"d03e3e433329.1":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"inherit":true},"d03e3e433329.2":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IC Inf","showlegend":false,"fill":"tonexty","fillcolor":"rgba(0, 104, 201,0.2)","line":{"color":"transparent"},"inherit":true},"d03e3e433329.3":{"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"name":"IR-Câmbio","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SVEC Impulso-resposta de US$ Petro no IPCA","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Impacto em Dif(Log(IPCA))","zerolinecolor":"#ffff","zerolinewidth":2,"gridcolor":"ffff"},"plot_bgcolor":"#e5ecf6","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[0.00127590688806703,0.002059020842962,0.00279734094624904,0.00350769883598834,0.00406861152362433,0.00452700722280985,0.00492289533078148,0.00527892286581173,0.00560951887226158,0.00592384217301615,0.00622751206554581,0.00664330149115691,0.00708850285951789,0.00753662209169668,0.00792045140662144,0.00826389545737602,0.00860584887520459,0.00895369977702007,0.00932194632785431,0.0096895723730704,0.0100566074071942,0.0104230701609745,0.0107889726903809,0.0111543229074785,0.0115418797424192,0.0119504640496337,0.0123586231651338,0.0127663583974861,0.0131736709369458,0.0135805619029169,0.0139870323719738,0.01439564203252,0.0148064320369369,0.0152168477933433,0.0156268902211141,0.0160365602348315,0.016418422374115],"name":"IC Sup","showlegend":false,"line":{"color":"transparent"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(0, 104, 201,0.2)","mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[-0.000641727368090226,-0.000492740664502396,-0.000751627457325791,-0.000947283745160349,-0.00125369483385081,-0.00158566096748051,-0.00189634397480339,-0.00227828787533016,-0.00264848134698668,-0.00297867157000331,-0.00330602541452197,-0.00363138302195704,-0.00395522171283849,-0.00427781151764546,-0.00460047017308116,-0.00492301557229138,-0.00524474796606222,-0.0055656989907714,-0.00588588963798922,-0.00620533507087671,-0.00652404725691878,-0.00684203640291888,-0.00715931173550742,-0.00747588192503344,-0.00779175531556369,-0.00810694004963784,-0.00842144413597053,-0.00873527548625503,-0.00904844193524562,-0.00942063312153185,-0.00979713667132793,-0.0101747134848815,-0.0105533671170571,-0.0109331011355088,-0.0113139191207917,-0.0116958246664459,-0.0120788213790662],"name":"IC Inf","showlegend":false,"fill":"tonexty","line":{"color":"transparent"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"lines","type":"scatter","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"y":[-8.25720457685722e-05,0.000685475372095713,0.00133037462371238,0.0018324241386498,0.00224427828767105,0.00260355102600243,0.0029325855991648,0.00324422957630155,0.00354582482163611,0.00384156290120897,0.00413383699249052,0.00442401380347428,0.00471287403581922,0.00500086376398735,0.0052882379428142,0.00557514235395328,0.00586166040871829,0.00614783988315676,0.0064337081916698,0.00671928111354947,0.00700456777920599,0.00728957351938289,0.00757430149331313,0.007858753619142,0.0081429311056374,0.00842683475605271,0.00871046514178149,0.00899382270160045,0.00927690779838706,0.00955972075153391,0.0098422618554739,0.0101245313902676,0.0104065296276544,0.0106882568345101,0.0109697132748245,0.0112508992108301,0.0115318149036486],"name":"IR-Câmbio","showlegend":false,"line":{"color":"rgb(0, 104, 201)"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="decomposição-da-variância-do-erro" class="level1" data-number="12">
<h1 data-number="12"><span class="header-section-number">12</span> Decomposição da Variância do Erro</h1>
<p>A decomposição da Variância do erro mede o quanto da variância do erro de previsão ou erro quadrático médio de previsão (MSPE) de <span class="math inline">y_{t+i}</span> no horizonte <span class="math inline">i = 0,1,...,H</span> é contabilizado por cada choque estrutural <span class="math inline">e_{j,t}</span>. A variância é dado por:</p>
<p><span class="math display">
MSPE(h) ≡ E[(y_{t+i} − y_{t+i|t} )(y_{t+i} − y_{t+i|t} ) ] = \sum_{j=0}^{i-1} \Theta_j\Theta^{'}_j
</span></p>
<p>Com o mesmo <span class="math inline">\Theta_i</span> calculado na seção anterior.<br>
Primeiramente, calculamos a decomposição com <code>vars::fevd()</code> para a variável <span class="math inline">Dif(ln( \: IPCA \:))</span> do modelo SVAR e <span class="math inline">ln( \: IPCA \:)</span> do modelo SVECM, montamos o data frame e construímos a visualização com o <code>plotly</code>. Passe o mouse por cima do gráfico para visualiza os valores.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>fevd_svar_ipca <span class="ot">&lt;-</span> <span class="fu">fevd</span>(svar, <span class="at">n.ahead =</span> <span class="dv">24</span>)<span class="sc">$</span>ipca_log_dif</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>fevd_svar_ipca <span class="ot">&lt;-</span> fevd_svar_ipca <span class="sc">|&gt;</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">add_column</span>(<span class="st">"m"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>fevd_svar_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(fevd_svar_ipca, <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009779'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ca0028'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Variância SVAR no IPCA"</span>,</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>fevd_svar_plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-337635083cd1a467faaa" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-337635083cd1a467faaa">{"x":{"visdat":{"d03e7565e44b":["function () ","plotlyVisDat"]},"cur_data":"d03e7565e44b","attrs":{"d03e7565e44b":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"d03e7565e44b.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"IPCA","marker":{"color":"#009779"},"inherit":true},"d03e7565e44b.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"Petro","marker":{"color":"#ca0028"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Decomposição da Variância SVAR no IPCA","barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif(Log( IPCA ))"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.995463019672334,0.982818395488207,0.975345754688262,0.972225625674016,0.970975655451132,0.970474994801371,0.970273611745185,0.970192371753663,0.970159548817152,0.970146278124282,0.970140910945068,0.970138739959543,0.970137861761966,0.970137506509023,0.970137362798919,0.970137304663791,0.970137281146318,0.970137271632761,0.970137267784226,0.970137266227373,0.970137265597576,0.970137265342803,0.97013726523974,0.970137265198047],"name":"IPCA","marker":{"color":"#009779","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.00453698032766553,0.0171816045117926,0.0246542453117375,0.027774374325984,0.0290243445488679,0.0295250051986293,0.0297263882548151,0.0298076282463371,0.0298404511828483,0.0298537218757183,0.0298590890549321,0.0298612600404575,0.0298621382380343,0.0298624934909772,0.0298626372010813,0.0298626953362088,0.0298627188536816,0.0298627283672392,0.0298627322157735,0.0298627337726273,0.0298627344024239,0.0298627346571966,0.0298627347602602,0.0298627348019527],"name":"Petro","marker":{"color":"#ca0028","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>fevd_svec_ipca <span class="ot">&lt;-</span> <span class="fu">fevd</span>(svec, <span class="at">n.ahead =</span> <span class="dv">24</span>)<span class="sc">$</span>ipca_log</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>fevd_svec_ipca <span class="ot">&lt;-</span> fevd_svec_ipca <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">add_column</span>(<span class="st">"m"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>fevd_svec_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(fevd_svec_ipca, <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ipca_log,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009ac9'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>cambio_log, <span class="at">name=</span><span class="st">"Câmbio"</span>,</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00c950'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>petro_log, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ff922c'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Variância SVEC no IPCA"</span>,</span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>fevd_svec_plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3315eae7bce681eeaf32" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-3315eae7bce681eeaf32">{"x":{"visdat":{"d03e1661ff66":["function () ","plotlyVisDat"]},"cur_data":"d03e1661ff66","attrs":{"d03e1661ff66":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"d03e1661ff66.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"IPCA","marker":{"color":"#009ac9"},"inherit":true},"d03e1661ff66.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"Câmbio","marker":{"color":"#00c950"},"inherit":true},"d03e1661ff66.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"Petro","marker":{"color":"#ff922c"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Decomposição da Variância SVEC no IPCA","barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif(Log( IPCA ))"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.970857060255015,0.964752279897002,0.949002573893757,0.932550637982778,0.916393925081516,0.900420768528841,0.884434847970392,0.868301206895149,0.851948784673829,0.835353433412075,0.818522544555165,0.801483762454216,0.784277084637152,0.766949392788337,0.749550676243142,0.732131433828023,0.714740903265001,0.69742587797653,0.680229944935669,0.663193026649098,0.646351143821141,0.629736338187203,0.613376710970937,0.597296543722849],"name":"IPCA","marker":{"color":"#009ac9","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.0283206362089486,0.0184877190915605,0.0125781755149794,0.00887162549894312,0.00646658591061788,0.00488573513349543,0.00386506336271723,0.00325153050219779,0.0029519649695467,0.0029065138489181,0.00307437244145016,0.00342590818197082,0.00393822574471799,0.00459263219161953,0.00537317191995464,0.00626577273844999,0.00725774460619911,0.00833748308939594,0.00949429180197774,0.0107182736807296,0.0120002615802157,0.0133317707830897,0.0147049632032465,0.016112617354979],"name":"Câmbio","marker":{"color":"#00c950","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":[0.000822303536035903,0.0167600010114376,0.0384192505912633,0.0585777365182784,0.0771394890078659,0.0946934963376636,0.111700088666891,0.128447262602653,0.145099250356624,0.161740052739007,0.178403083003385,0.195090329363813,0.21178468961813,0.228457975020043,0.245076151836903,0.261602793433527,0.2780013521288,0.294236638934073,0.310275763262353,0.326088699670172,0.341648594598643,0.356931891029708,0.371918325825817,0.386590838922172],"name":"Petro","marker":{"color":"#ff922c","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="decomposição-histórica" class="level1" data-number="13">
<h1 data-number="13"><span class="header-section-number">13</span> Decomposição Histórica</h1>
<p>A Decomposição Histórica, por sua vez, quantifica o quanto um determinado choque estrutural explica as flutuações observadas historicamente nas variáveis VAR, ou seja, mostra o efeito cumulativo de um determinado choque estrutural sobre cada variável em cada ponto no tempo. O cálculo é feito seguindo as mesmas equações dos cálculos anteriores, do Impulso-resposta e da Decomposição do Erro: <span class="math display">
\hat y_{t} = \sum^{t-1}_{i=0} \Theta_i e_{t-i}
</span></p>
<p>As três funçõs que uso no exercício (<code>VARhd(·)</code>) foram feitas por <a href="https://stackoverflow.com/questions/36950491/historical-decomposition-in-r">Daniel Ryback</a>.</p>
<div class="cell" data-layout-align="center">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>dh_var <span class="ot">&lt;-</span> <span class="fu">VARhd</span>(var2)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>dh_ipca_svar_dd <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hd_ipca"</span> <span class="ot">=</span> dh_var[,,<span class="dv">1</span>][,<span class="dv">1</span>],</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hd_br_ptr"</span> <span class="ot">=</span> dh_var[,,<span class="dv">1</span>][,<span class="dv">2</span>],</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"m"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">275</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(hd_ipca))</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>dh_svar_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dh_ipca_svar_dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">36</span>)</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>                              , <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>hd_ipca,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009779'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>hd_br_ptr, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ca0028'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Histórica de 3 Anos do SVAR no IPCA"</span>,</span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a>dh_svar_plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ef8db3644c87136e73d0" style="width:100%;height:406px;"></div>
<script type="application/json" data-for="htmlwidget-ef8db3644c87136e73d0">{"x":{"visdat":{"d03e72e9059e":["function () ","plotlyVisDat"]},"cur_data":"d03e72e9059e","attrs":{"d03e72e9059e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"d03e72e9059e.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"IPCA","marker":{"color":"#009779"},"inherit":true},"d03e72e9059e.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","x":{},"y":{},"name":"Petro","marker":{"color":"#ca0028"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Decomposição da Histórica de 3 Anos do SVAR no IPCA","barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Meses"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Dif(Log( IPCA ))"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[-0.00298800654080223,0.00540565238829716,0.00350040015124766,-9.74350655098444e-05,0.000685234446061329,-0.0038977363332691,-0.00320475177527411,-0.000936970280863896,-0.00415075403130901,-0.00331888699638853,0.0101196829480161,0.0076997752855263,-0.0032776189783478,-0.00437728977177483,-0.00220660791775491,0.000206490543667175,0.00183371718845551,0.000170300515295644,-0.0013100718456417,0.00101794413165671,-0.00124170097894219,-0.00065304820455684,0.00757657568637926,0.00180903507517807,-0.00256850553731559,0.00283058117270544,0.00284759406761078,0.00321042598372793,0.00178562527491608,-0.000647154833191396,0.00113034358675272,0.00218636596835977,-0.00373273321845018,-0.00171064709220899,0.00598604638865124,7.07359052464314e-05],"name":"IPCA","marker":{"color":"#009779","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"bar","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[0,0.000583518366720374,0.00036279739250487,0.00066206255317678,0.000197365907786359,-2.65112993723909e-05,0.000224218449352548,-1.72408571315139e-05,-0.000878167419074237,0.000503201963556892,0.000746556125793265,0.000210461448647615,0.000472972080582878,0.000676628349881289,0.000305399552158281,0.000577423241586463,-0.0012431261268245,-0.00067513673926614,5.77049268072428e-06,-0.000331183276228642,0.000237999892610807,0.000746878489488317,0.000539757734623548,6.9478509148153e-05,0.000268620055187038,0.000340203840992252,-0.000865572250041616,-0.00182414338958445,-0.00169160984075563,-0.000853855529549666,-0.000244097074976786,0.000688661853980238,0.000733504648184834,0.000804603526666121,0.000751191840507049,0.00131156767191352],"name":"Petro","marker":{"color":"#ca0028","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="outras-referências" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> Outras Referências</h1>
<ul>
<li>Lange, A., Dalheimer, B., Herwartz, H., &amp; Maxand, S. (2021). <strong>svars: An R Package for Data-Driven Identification in Multivariate Time Series Analysis</strong>. Journal of Statistical Software, 97(5), 1–34. https://doi.org/10.18637/jss.v097.i05.</li>
<li>Pfaff, B. (2008). <strong>VAR, SVAR and SVEC Models: Implementation Within R Package vars</strong>. Journal of Statistical Software, 27(4), 1–32. https://doi.org/10.18637/jss.v027.i04.</li>
<li>Enders, W. (2014) <strong>Applied Econometric Time Series</strong>. 4th Edition. John Wiley, New York.</li>
<li>Kilian, Lutz and Lutkepohl,Helmut, (2017), <strong>Structural Vector Autoregressive Analysis</strong>, Cambridge University Press.</li>
<li>Terasvirta, Timo.<strong>Specification, Estimation, and Evaluation of Smooth Transition Autoregressive Models.</strong> Journal of the American Statistical Association 89, no. 425 (1994): 208–18. https://doi.org/10.2307/2291217.</li>
<li>Daniel Ryback. <strong>Historical Decomposition In R.</strong></li>
</ul>
<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><a href="https://www.brookings.edu/wp-content/uploads/2016/07/2009a_bpea_hamilton-1.pdf">JAMES D. HAMILTON - Causes and Consequences of the Oil Shock of 2007–08.</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://blogs.worldbank.org/developmenttalk/what-triggered-oil-price-plunge-2014-2016-and-why-it-failed-deliver-economic-impetus-eight-charts">World Bank - What triggered the oil price plunge of 2014-2016 and why it failed to deliver an economic impetus in eight charts.</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Veja <a href="https://stats.stackexchange.com/questions/125811/estimation-of-vecm-via-ml-and-ols">essa discussão</a> , e <a href="https://stats.stackexchange.com/questions/122684/ols-versus-ml-estimation-of-vecm">essa segunda discussão</a> respondidas por Matifou para entender brevemente as diferenças.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p> <a href="https://stats.stackexchange.com/questions/122684/ols-versus-ml-estimation-of-vecm">Estimation of VECM via ML and OLS</a> <a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb95" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "VAR e VECM no R: Como o preço internacional do petróleo afeta os preços domésticos?"</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Heitor Gabriel Monteiro"</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "`r Sys.Date()`"</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="an">always_allow_html:</span><span class="co"> true</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a><span class="an">fontfamily:</span><span class="co"> serif</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="an">fontsize:</span><span class="co"> 13pt</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="co">   code-fold: show</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="co">   code-tools: true</span></span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a><span class="co">   code-block-border-left: true</span></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="co">   #code-line-numbers: true</span></span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="co">   html-math-method: katex</span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="co">   toc: true</span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a><span class="co">   toc-title: "Sumário"</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a><span class="co">   number-sections: true</span></span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="co">   number-depth: 4</span></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="co">   mainfont: Inter</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a><span class="co">   monofont: JetBrains Mono</span></span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a><span class="co">   fontsize: 1.15em</span></span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a><span class="co">   linestretch: 1.1</span></span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a><span class="co">   theme:</span></span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a><span class="co">     light: cerulean</span></span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a><span class="co">     dark: cyborg</span></span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-28"><a href="#cb95-28" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb95-29"><a href="#cb95-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb95-30"><a href="#cb95-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bslib)</span>
<span id="cb95-31"><a href="#cb95-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb95-32"><a href="#cb95-32" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb95-33"><a href="#cb95-33" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-34"><a href="#cb95-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-35"><a href="#cb95-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{css, echo=FALSE}</span></span>
<span id="cb95-36"><a href="#cb95-36" aria-hidden="true" tabindex="-1"></a><span class="op">.</span><span class="fu">top</span><span class="op">-</span>right <span class="op">{</span></span>
<span id="cb95-37"><a href="#cb95-37" aria-hidden="true" tabindex="-1"></a>  position<span class="op">:</span> <span class="kw">fixed</span><span class="op">;</span></span>
<span id="cb95-38"><a href="#cb95-38" aria-hidden="true" tabindex="-1"></a>  top<span class="op">:</span> 1em<span class="op">;</span></span>
<span id="cb95-39"><a href="#cb95-39" aria-hidden="true" tabindex="-1"></a>  right<span class="op">:</span> 1em<span class="op">;</span></span>
<span id="cb95-40"><a href="#cb95-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb95-41"><a href="#cb95-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-42"><a href="#cb95-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-43"><a href="#cb95-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># Os Modelos Temporais Multivariados</span></span>
<span id="cb95-44"><a href="#cb95-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-45"><a href="#cb95-45" aria-hidden="true" tabindex="-1"></a>Faz parte de todo grande projeto econômico saber de que forma alguns fatores podem influenciar sua variável de interesse. Por exemplo, como o preço da concorrência afeta na demanda de uma empresa? Como juros mais altos impactam no perfil de demanda por crédito? Uma excelente ferramenta teórica para trabalhar com essas relações empíricas de pressupostos teóricos, num contexto de séries de tempo, é a Análise Autorregressiva Vetorial Multivariada, com seus principais modelos sendo o VAR (Vetor Autorregressivo) e o VECM (Modelo Vetorial de Correção de Erros).   </span>
<span id="cb95-46"><a href="#cb95-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-47"><a href="#cb95-47" aria-hidden="true" tabindex="-1"></a>Diferentemente do <span class="co">[</span><span class="ot">caso autorregressivo univariado ($AR(p)$),</span><span class="co">](https://heitorgabriel.github.io/time-series-modelling_1/)</span> o VAR regride um conjunto de variáveis, explicando-as com suas próprias realizações passadas e, por ser um sistema, com os valores atuais e passados das demais variáveis do conjunto. Tomando como exemplo um caso bivariado de ordem 1 $(p=1)$:   </span>
<span id="cb95-48"><a href="#cb95-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-49"><a href="#cb95-49" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-50"><a href="#cb95-50" aria-hidden="true" tabindex="-1"></a>\begin{Bmatrix}</span>
<span id="cb95-51"><a href="#cb95-51" aria-hidden="true" tabindex="-1"></a>y_{t} = b_{10} + a_{12}z_{t} + b_{11}z_{t-1} + b_{12}y_{t-1} + \sigma_{y}\epsilon_{y,t} <span class="sc">\\</span></span>
<span id="cb95-52"><a href="#cb95-52" aria-hidden="true" tabindex="-1"></a>z_{t} = b_{20} + a_{22}y_{t} + b_{21}z_{t-1} + b_{22}y_{t-1} + \sigma_{z}\epsilon_{z,t}   </span>
<span id="cb95-53"><a href="#cb95-53" aria-hidden="true" tabindex="-1"></a>\end{Bmatrix}</span>
<span id="cb95-54"><a href="#cb95-54" aria-hidden="true" tabindex="-1"></a>$$   </span>
<span id="cb95-55"><a href="#cb95-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-56"><a href="#cb95-56" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-57"><a href="#cb95-57" aria-hidden="true" tabindex="-1"></a>\begin{Bmatrix}</span>
<span id="cb95-58"><a href="#cb95-58" aria-hidden="true" tabindex="-1"></a>-a_{12}z_{t} + y_{t} = b_{10} + b_{11}z_{t-1} + b_{12}y_{t-1} + \sigma_{y}\epsilon_{y,t} <span class="sc">\\</span></span>
<span id="cb95-59"><a href="#cb95-59" aria-hidden="true" tabindex="-1"></a>+z_{t} - a_{22}y_{t} = b_{20} + b_{21}z_{t-1} + b_{22}y_{t-1} + \sigma_{z}\epsilon_{z,t}   </span>
<span id="cb95-60"><a href="#cb95-60" aria-hidden="true" tabindex="-1"></a>\end{Bmatrix}</span>
<span id="cb95-61"><a href="#cb95-61" aria-hidden="true" tabindex="-1"></a>$$   </span>
<span id="cb95-62"><a href="#cb95-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-63"><a href="#cb95-63" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-64"><a href="#cb95-64" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-65"><a href="#cb95-65" aria-hidden="true" tabindex="-1"></a>-a_{12} &amp; 1 <span class="sc">\\</span> </span>
<span id="cb95-66"><a href="#cb95-66" aria-hidden="true" tabindex="-1"></a>1 &amp; -a_{22}</span>
<span id="cb95-67"><a href="#cb95-67" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-68"><a href="#cb95-68" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-69"><a href="#cb95-69" aria-hidden="true" tabindex="-1"></a>z_{t} <span class="sc">\\</span> y_{t}</span>
<span id="cb95-70"><a href="#cb95-70" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-71"><a href="#cb95-71" aria-hidden="true" tabindex="-1"></a> =</span>
<span id="cb95-72"><a href="#cb95-72" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-73"><a href="#cb95-73" aria-hidden="true" tabindex="-1"></a>b_{10} <span class="sc">\\</span> b_{20}</span>
<span id="cb95-74"><a href="#cb95-74" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-75"><a href="#cb95-75" aria-hidden="true" tabindex="-1"></a> +</span>
<span id="cb95-76"><a href="#cb95-76" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-77"><a href="#cb95-77" aria-hidden="true" tabindex="-1"></a>b_{11} &amp; b_{12} <span class="sc">\\</span></span>
<span id="cb95-78"><a href="#cb95-78" aria-hidden="true" tabindex="-1"></a>b_{21} &amp; b_{22}</span>
<span id="cb95-79"><a href="#cb95-79" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-80"><a href="#cb95-80" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-81"><a href="#cb95-81" aria-hidden="true" tabindex="-1"></a>z_{t-1} <span class="sc">\\</span> y_{t-1}</span>
<span id="cb95-82"><a href="#cb95-82" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-83"><a href="#cb95-83" aria-hidden="true" tabindex="-1"></a>+</span>
<span id="cb95-84"><a href="#cb95-84" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-85"><a href="#cb95-85" aria-hidden="true" tabindex="-1"></a>\sigma_{z} &amp; 0 <span class="sc">\\</span></span>
<span id="cb95-86"><a href="#cb95-86" aria-hidden="true" tabindex="-1"></a>0 &amp; \sigma_{y}</span>
<span id="cb95-87"><a href="#cb95-87" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-88"><a href="#cb95-88" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-89"><a href="#cb95-89" aria-hidden="true" tabindex="-1"></a>\epsilon_{z,t}  <span class="sc">\\</span> \epsilon_{y,t}</span>
<span id="cb95-90"><a href="#cb95-90" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-91"><a href="#cb95-91" aria-hidden="true" tabindex="-1"></a>$$   </span>
<span id="cb95-92"><a href="#cb95-92" aria-hidden="true" tabindex="-1"></a>Dando nomes às matrizes formadas, respectivamente:</span>
<span id="cb95-93"><a href="#cb95-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-94"><a href="#cb95-94" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-95"><a href="#cb95-95" aria-hidden="true" tabindex="-1"></a>AX_{t} = B_{0} + B_{1}X_{t-1} + B_{\sigma}\epsilon_{t}</span>
<span id="cb95-96"><a href="#cb95-96" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-97"><a href="#cb95-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-98"><a href="#cb95-98" aria-hidden="true" tabindex="-1"></a>Nesse formato, chamado *estrutural*, assumimos que $(y_t, z_t)$ são estacionárias; que a sequência de erros são ruídos brancos, não-correlacionados entre si e com $(\sigma_{y}, \sigma_{z})$ sendo seus desvios-padrão. O problema é que essa forma não pode ser estimada diretamente via MQO porque uma variável tem efeito contemporâneo na outra (efeito feedback), ou seja, $(z_{t}, y_{t})$ é afetado por $(\epsilon_{y,t}, \epsilon_{z,t})$, respectivamente. Ainda estamos interessados nos choques estruturais, mas, para a estimação, devemos calculá-lo no *formato reduzido*:</span>
<span id="cb95-99"><a href="#cb95-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-100"><a href="#cb95-100" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-101"><a href="#cb95-101" aria-hidden="true" tabindex="-1"></a>X_{t} = A^{-1}B_{0} + A^{-1}B_{1}X_{t-1} + A^{-1}B_{\sigma}\epsilon_{t}</span>
<span id="cb95-102"><a href="#cb95-102" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-103"><a href="#cb95-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-104"><a href="#cb95-104" aria-hidden="true" tabindex="-1"></a>Com $\Phi_{0} = A^{-1}B_{0}$, $\Phi_{1} = A^{-1}B_{1}$ e $e_{t} = A^{-1}B_{\sigma}\epsilon_{t}$ temos:</span>
<span id="cb95-105"><a href="#cb95-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-106"><a href="#cb95-106" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-107"><a href="#cb95-107" aria-hidden="true" tabindex="-1"></a>X_{t} = \Phi_{0} + \Phi_{1} X_{t-1} + e_{t}</span>
<span id="cb95-108"><a href="#cb95-108" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-109"><a href="#cb95-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-110"><a href="#cb95-110" aria-hidden="true" tabindex="-1"></a>Nesse formato, os erros transformados não são mais correlacionados aos regressores, permanecem não-autocorrelacionados, mas são correlacionados contemporâneamente entre si:</span>
<span id="cb95-111"><a href="#cb95-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-112"><a href="#cb95-112" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-113"><a href="#cb95-113" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-114"><a href="#cb95-114" aria-hidden="true" tabindex="-1"></a>e_{1,t} <span class="sc">\\</span> e_{2,t}</span>
<span id="cb95-115"><a href="#cb95-115" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-116"><a href="#cb95-116" aria-hidden="true" tabindex="-1"></a> \equiv</span>
<span id="cb95-117"><a href="#cb95-117" aria-hidden="true" tabindex="-1"></a>A^{-1}B_{\sigma}\epsilon_{t}</span>
<span id="cb95-118"><a href="#cb95-118" aria-hidden="true" tabindex="-1"></a> =</span>
<span id="cb95-119"><a href="#cb95-119" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-120"><a href="#cb95-120" aria-hidden="true" tabindex="-1"></a>\frac{\sigma_{y}\epsilon_{y,t} - a_{12}\sigma_{z}\epsilon_{z,t}}{1 - a_{12}a_{21}}</span>
<span id="cb95-121"><a href="#cb95-121" aria-hidden="true" tabindex="-1"></a><span class="sc">\\</span></span>
<span id="cb95-122"><a href="#cb95-122" aria-hidden="true" tabindex="-1"></a>\frac{\sigma_{z}\epsilon_{z,t} - a_{21}\sigma_{y}\epsilon_{y,t}}{1 - a_{12}a_{21}}</span>
<span id="cb95-123"><a href="#cb95-123" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-124"><a href="#cb95-124" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-125"><a href="#cb95-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-126"><a href="#cb95-126" aria-hidden="true" tabindex="-1"></a>Estabelecer restrições à forma reduzida para voltar aos choques estruturais é o cerne da modelagem VAR e VECM.   </span>
<span id="cb95-127"><a href="#cb95-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-128"><a href="#cb95-128" aria-hidden="true" tabindex="-1"></a>Os modelos VECM podem ser descritos como a consideração de que as variáveis não-estacionárias têm uma relação estável, ou seja, alguma transformação linear entre elas que seja estacionária. Nesse comportamento, há uma correção de desvios dessa relação, no curto-prazo. De forma bem sucinta, o caso na forma reduzida, bivariado e de ordem 2 é:</span>
<span id="cb95-129"><a href="#cb95-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-130"><a href="#cb95-130" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-131"><a href="#cb95-131" aria-hidden="true" tabindex="-1"></a>\begin{Bmatrix}</span>
<span id="cb95-132"><a href="#cb95-132" aria-hidden="true" tabindex="-1"></a>\Delta y_{t} = b_{10} + a_{12}( \alpha + y_{t-1} + \beta z_{t-1}) + b_{11}\Delta z_{t-1} + b_{12}\Delta y_{t-1} + u_{y,t} <span class="sc">\\</span></span>
<span id="cb95-133"><a href="#cb95-133" aria-hidden="true" tabindex="-1"></a>\Delta z_{t} = b_{20} - a_{22}( \alpha + y_{t-1} + \beta z_{t-1}) + b_{21}\Delta z_{t-1} + b_{22}\Delta y_{t-1} + u_{z,t}   </span>
<span id="cb95-134"><a href="#cb95-134" aria-hidden="true" tabindex="-1"></a>\end{Bmatrix}</span>
<span id="cb95-135"><a href="#cb95-135" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-136"><a href="#cb95-136" aria-hidden="true" tabindex="-1"></a>Onde $(a_{12},a_{22})$ é a velocidade de ajuste dos desvios da relação estacionária de longo-prazo $\alpha + y_{t-1} + \beta z_{t-1}$. Para testar cointegração das variáveis, procedemos com o Teste de Johansen.   </span>
<span id="cb95-137"><a href="#cb95-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-138"><a href="#cb95-138" aria-hidden="true" tabindex="-1"></a>Com as restrições que impormos ao modelo, podemos chegar à sua forma estrutural e realizar análises impulso-resposta e decomposição da variância. A função impulso-resposta mostra o impacto de um choque de $\epsilon_{z,t}$ em $z_{t+h}$, com $h=(1,2,...)$. E a decomposição da variância diz qual que porcentagem da variância do erro de previsão decorre  de cada variável endógena, ao longo do horizonte de previsão.</span>
<span id="cb95-139"><a href="#cb95-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-140"><a href="#cb95-140" aria-hidden="true" tabindex="-1"></a><span class="fu"># Objetivo e Ferramentas</span></span>
<span id="cb95-141"><a href="#cb95-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-142"><a href="#cb95-142" aria-hidden="true" tabindex="-1"></a>Nesse exercício, vamos calcular as relações entre:</span>
<span id="cb95-143"><a href="#cb95-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-144"><a href="#cb95-144" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>preço internacional do petróleo;</span>
<span id="cb95-145"><a href="#cb95-145" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>câmbio e</span>
<span id="cb95-146"><a href="#cb95-146" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>índice nacional de preços</span>
<span id="cb95-147"><a href="#cb95-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-148"><a href="#cb95-148" aria-hidden="true" tabindex="-1"></a>para responder à pergunta: **Qual impacto do aumento do preço internacional do petróleo nos preços domésticos?** A ideia é que o preço no mercado internacional do petróleo tem poder suficiente para afetar não somente o preço doméstico dos combustíveis, portanto, dos transportes, mas também de todas cadeias produtivas que usam a energia fóssil, como o gás de cozinha (GLP) para alimentação. O preço internacional do petróleo pode afetar a economia local através do seu valor convertido para o Real, que é o valor que os agentes olharão para decidir suas alocações de insumos e produção. Uma ideia *a priori* é que os nossos preços e o câmbio não têm capacidade de influenciar o preço internacional do petróleo, parece ser bem razoável e o testaremos com Granger-causalidade e pela significância dos coeficientes. Também é provável que a política nacional de atualização de preços dos combustíveis possa *sujar* essa relação que estimaremos. Outro pessuporto que precisamos adotar, portanto, é que, ao olhar para o preço internacional do petróleo, os agentes preverão uma variação do preço doméstico, que acontecerá cedo ou tarde, e anteciparão a atualização. Portanto, de forma mais técnica, o que testaremos é o efeito, nos preços domésticos, da influência esperada do preço internacional do petróleo.   </span>
<span id="cb95-149"><a href="#cb95-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-150"><a href="#cb95-150" aria-hidden="true" tabindex="-1"></a>Vamos conhecer o comportamento dessas variáveis; calcular modelos VAR; diagnosticar os resíduos para examinar a qualidade dessas relações; testar cointegração, para ver se é necessário usar um VECM como alternativa; modelar a versão Estrutural do VAR ou do VECM e usar algumas firulas do instrumental: o Impulso-Resposta e a Decomposição da Variância. Uma análise subsequente ao VECM seria o de assimetria no vetor de correção de erros: as respostas a desvios positivos são mais rápidas que as respostas a desvios negativos, simularemos também essa restrição.</span>
<span id="cb95-151"><a href="#cb95-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-152"><a href="#cb95-152" aria-hidden="true" tabindex="-1"></a>Usaremos os sequintes pacotes do R:</span>
<span id="cb95-153"><a href="#cb95-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-154"><a href="#cb95-154" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-155"><a href="#cb95-155" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># manipulação e visualizações básicas</span></span>
<span id="cb95-156"><a href="#cb95-156" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)     <span class="co"># visualizações interativas</span></span>
<span id="cb95-157"><a href="#cb95-157" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)     <span class="co"># diversidade de configurações de visualização</span></span>
<span id="cb95-158"><a href="#cb95-158" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)  <span class="co"># tabelas</span></span>
<span id="cb95-159"><a href="#cb95-159" aria-hidden="true" tabindex="-1"></a><span class="co"># tidyverts core:   pacotes para séries temporais univariadas</span></span>
<span id="cb95-160"><a href="#cb95-160" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb95-161"><a href="#cb95-161" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb95-162"><a href="#cb95-162" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(feasts)</span>
<span id="cb95-163"><a href="#cb95-163" aria-hidden="true" tabindex="-1"></a><span class="co"># tidyverts improvements tools</span></span>
<span id="cb95-164"><a href="#cb95-164" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibbletalk)</span>
<span id="cb95-165"><a href="#cb95-165" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fable.prophet)</span>
<span id="cb95-166"><a href="#cb95-166" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fabletools)</span>
<span id="cb95-167"><a href="#cb95-167" aria-hidden="true" tabindex="-1"></a><span class="co"># Multivariáveis:   pacotes para séries temporais multivariadas</span></span>
<span id="cb95-168"><a href="#cb95-168" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vars)</span>
<span id="cb95-169"><a href="#cb95-169" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsDyn)</span>
<span id="cb95-170"><a href="#cb95-170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-171"><a href="#cb95-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-172"><a href="#cb95-172" aria-hidden="true" tabindex="-1"></a>Recomendo fortemente passear pela documentação do conjunto de pacotes <span class="co">[</span><span class="ot">Tidyverts</span><span class="co">](https://tidyverts.org/)</span>, ler as definições na documentação do <span class="co">[</span><span class="ot">vars</span><span class="co">](https://www.pfaffikus.de/rpacks/vars/files/vignette-vars.pdf)</span>, do <span class="co">[</span><span class="ot">tsDyn</span><span class="co">](https://rdrr.io/cran/tsDyn/f/inst/doc/ThCointOverview.pdf)</span> e do <span class="co">[</span><span class="ot">svar</span><span class="co">](https://www.jstatsoft.org/article/view/v097i05)</span>.</span>
<span id="cb95-173"><a href="#cb95-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-174"><a href="#cb95-174" aria-hidden="true" tabindex="-1"></a><span class="fu"># Dados Brutos e Tratamentos</span></span>
<span id="cb95-175"><a href="#cb95-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-176"><a href="#cb95-176" aria-hidden="true" tabindex="-1"></a>Para o preço internacional do petróleo, usaremos a média simples dos preços médios mensais, em dólar, dos três principais mercados da commodity: Dated Brent, Dubai Fateh e West Texas Intermediate. Para a taxa de câmbio, usaremos a taxa (R\$ / US\$) comercial de compra média para o mês. E para os preços nacionais, usaremos o índice histórico do IPCA (Tabela 1737).</span>
<span id="cb95-177"><a href="#cb95-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-178"><a href="#cb95-178" aria-hidden="true" tabindex="-1"></a>Para facilitar a criação de tabelas, criaremos uma função:</span>
<span id="cb95-179"><a href="#cb95-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-182"><a href="#cb95-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb95-183"><a href="#cb95-183" aria-hidden="true" tabindex="-1"></a>set_tab <span class="ot">&lt;-</span> <span class="cf">function</span>(dados_tab, cap_tab){</span>
<span id="cb95-184"><a href="#cb95-184" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>( <span class="at">x =</span> dados_tab,</span>
<span id="cb95-185"><a href="#cb95-185" aria-hidden="true" tabindex="-1"></a>        <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb95-186"><a href="#cb95-186" aria-hidden="true" tabindex="-1"></a>          <span class="at">escape   =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-187"><a href="#cb95-187" aria-hidden="true" tabindex="-1"></a>          <span class="at">digits   =</span> <span class="dv">4</span>,</span>
<span id="cb95-188"><a href="#cb95-188" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption  =</span> cap_tab) <span class="sc">|&gt;</span> </span>
<span id="cb95-189"><a href="#cb95-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span></span>
<span id="cb95-190"><a href="#cb95-190" aria-hidden="true" tabindex="-1"></a>                <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hold_position"</span>),</span>
<span id="cb95-191"><a href="#cb95-191" aria-hidden="true" tabindex="-1"></a>                <span class="at">position      =</span> <span class="st">"center"</span>,</span>
<span id="cb95-192"><a href="#cb95-192" aria-hidden="true" tabindex="-1"></a>                <span class="at">full_width    =</span> F,</span>
<span id="cb95-193"><a href="#cb95-193" aria-hidden="true" tabindex="-1"></a>                <span class="at">bootstrap_options =</span></span>
<span id="cb95-194"><a href="#cb95-194" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span>))</span>
<span id="cb95-195"><a href="#cb95-195" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb95-196"><a href="#cb95-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-197"><a href="#cb95-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-198"><a href="#cb95-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-199"><a href="#cb95-199" aria-hidden="true" tabindex="-1"></a>Vamos importar os dados e fazer uns tratmentos:</span>
<span id="cb95-200"><a href="#cb95-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-201"><a href="#cb95-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-202"><a href="#cb95-202" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"dds.csv"</span>)</span>
<span id="cb95-203"><a href="#cb95-203" aria-hidden="true" tabindex="-1"></a>dds <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span>
<span id="cb95-204"><a href="#cb95-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-205"><a href="#cb95-205" aria-hidden="true" tabindex="-1"></a><span class="co"># Retirar NA's</span></span>
<span id="cb95-206"><a href="#cb95-206" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(petro)) </span>
<span id="cb95-207"><a href="#cb95-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-208"><a href="#cb95-208" aria-hidden="true" tabindex="-1"></a><span class="co"># Substituir vírgula por ponto e reconhecer a variável numérica</span></span>
<span id="cb95-209"><a href="#cb95-209" aria-hidden="true" tabindex="-1"></a>dds<span class="sc">$</span>cambio <span class="ot">&lt;-</span> dds<span class="sc">$</span>cambio <span class="sc">|&gt;</span></span>
<span id="cb95-210"><a href="#cb95-210" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_replace</span>(<span class="at">pattern =</span> <span class="st">","</span>, <span class="at">replacement =</span> <span class="st">"."</span>) <span class="sc">|&gt;</span></span>
<span id="cb95-211"><a href="#cb95-211" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.numeric</span>() </span>
<span id="cb95-212"><a href="#cb95-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-213"><a href="#cb95-213" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma variável de tempo chamada "dt" na base</span></span>
<span id="cb95-214"><a href="#cb95-214" aria-hidden="true" tabindex="-1"></a>dds<span class="sc">$</span>dt <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">'1990 Jan'</span>),</span>
<span id="cb95-215"><a href="#cb95-215" aria-hidden="true" tabindex="-1"></a>                  <span class="at">to   =</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">'2022 Jul'</span>), <span class="co"># alternativa: length=</span></span>
<span id="cb95-216"><a href="#cb95-216" aria-hidden="true" tabindex="-1"></a>                  <span class="at">by   =</span> <span class="st">"month"</span>)</span>
<span id="cb95-217"><a href="#cb95-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-218"><a href="#cb95-218" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar os logaritmos naturais</span></span>
<span id="cb95-219"><a href="#cb95-219" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="st">"ptr_br_log"</span>      <span class="ot">=</span> <span class="fu">log</span>(cambio) <span class="sc">+</span> <span class="fu">log</span>(petro),</span>
<span id="cb95-220"><a href="#cb95-220" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"ipca_log"</span>        <span class="ot">=</span> <span class="fu">log</span>(ipca),</span>
<span id="cb95-221"><a href="#cb95-221" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_log"</span>       <span class="ot">=</span> <span class="fu">log</span>(petro),</span>
<span id="cb95-222"><a href="#cb95-222" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"cambio_log"</span>      <span class="ot">=</span> <span class="fu">log</span>(cambio),</span>
<span id="cb95-223"><a href="#cb95-223" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_brent_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_brent),</span>
<span id="cb95-224"><a href="#cb95-224" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_dubai_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_dubai),</span>
<span id="cb95-225"><a href="#cb95-225" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"petro_texas_log"</span> <span class="ot">=</span> <span class="fu">log</span>(petro_texas))</span>
<span id="cb95-226"><a href="#cb95-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-227"><a href="#cb95-227" aria-hidden="true" tabindex="-1"></a>dds <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span>
<span id="cb95-228"><a href="#cb95-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-229"><a href="#cb95-229" aria-hidden="true" tabindex="-1"></a><span class="co"># Permanecer somente com a data Julho de 1994 pra lá...</span></span>
<span id="cb95-230"><a href="#cb95-230" aria-hidden="true" tabindex="-1"></a>dds <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span> <span class="fu">filter</span>(dt <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">ym</span>(<span class="st">"1994 Jul"</span>))</span>
<span id="cb95-231"><a href="#cb95-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-232"><a href="#cb95-232" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma base tsibble</span></span>
<span id="cb95-233"><a href="#cb95-233" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dds <span class="sc">|&gt;</span></span>
<span id="cb95-234"><a href="#cb95-234" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(dt, ptr_br_log, ipca_log, cambio_log, petro_log) <span class="sc">|&gt;</span> </span>
<span id="cb95-235"><a href="#cb95-235" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">dt =</span> tsibble<span class="sc">::</span><span class="fu">yearmonth</span>(<span class="fu">as.character</span>(dt))) <span class="sc">|&gt;</span></span>
<span id="cb95-236"><a href="#cb95-236" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tsibble</span>(<span class="at">index =</span> dt)</span>
<span id="cb95-237"><a href="#cb95-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-238"><a href="#cb95-238" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificar o intervalo do tsibble</span></span>
<span id="cb95-239"><a href="#cb95-239" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> <span class="fu">interval</span>()</span>
<span id="cb95-240"><a href="#cb95-240" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-241"><a href="#cb95-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-242"><a href="#cb95-242" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-243"><a href="#cb95-243" aria-hidden="true" tabindex="-1"></a>plt_cambio <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-244"><a href="#cb95-244" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>cambio,</span>
<span id="cb95-245"><a href="#cb95-245" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb95-246"><a href="#cb95-246" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-247"><a href="#cb95-247" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-248"><a href="#cb95-248" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Taxa de Câmbio - R$/US$ - Comercial - Compra - Média - R$ '</span>,</span>
<span id="cb95-249"><a href="#cb95-249" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-250"><a href="#cb95-250" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-251"><a href="#cb95-251" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-252"><a href="#cb95-252" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-253"><a href="#cb95-253" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-254"><a href="#cb95-254" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"R$/US$"</span>,</span>
<span id="cb95-255"><a href="#cb95-255" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-256"><a href="#cb95-256" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-257"><a href="#cb95-257" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-258"><a href="#cb95-258" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-259"><a href="#cb95-259" aria-hidden="true" tabindex="-1"></a>plt_cambio</span>
<span id="cb95-260"><a href="#cb95-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-261"><a href="#cb95-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-262"><a href="#cb95-262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-263"><a href="#cb95-263" aria-hidden="true" tabindex="-1"></a>plt_ipca <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-264"><a href="#cb95-264" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>ipca,</span>
<span id="cb95-265"><a href="#cb95-265" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb95-266"><a href="#cb95-266" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-267"><a href="#cb95-267" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-268"><a href="#cb95-268" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'índice de Preços ao Consumidor Amplo - IPCA, Brasil, de Jan/90 a Jul/2022.'</span>,</span>
<span id="cb95-269"><a href="#cb95-269" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-270"><a href="#cb95-270" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-271"><a href="#cb95-271" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-272"><a href="#cb95-272" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-273"><a href="#cb95-273" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-274"><a href="#cb95-274" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Índice"</span>,</span>
<span id="cb95-275"><a href="#cb95-275" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-276"><a href="#cb95-276" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-277"><a href="#cb95-277" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-278"><a href="#cb95-278" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-279"><a href="#cb95-279" aria-hidden="true" tabindex="-1"></a>plt_ipca</span>
<span id="cb95-280"><a href="#cb95-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-281"><a href="#cb95-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-282"><a href="#cb95-282" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-283"><a href="#cb95-283" aria-hidden="true" tabindex="-1"></a>plt_petro <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-284"><a href="#cb95-284" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>petro,</span>
<span id="cb95-285"><a href="#cb95-285" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum"</span>,</span>
<span id="cb95-286"><a href="#cb95-286" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-287"><a href="#cb95-287" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-288"><a href="#cb95-288" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Média do Preço Internacional do Petróleo'</span>,</span>
<span id="cb95-289"><a href="#cb95-289" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-290"><a href="#cb95-290" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-291"><a href="#cb95-291" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-292"><a href="#cb95-292" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-293"><a href="#cb95-293" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-294"><a href="#cb95-294" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Preço em Dólar"</span>,</span>
<span id="cb95-295"><a href="#cb95-295" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-296"><a href="#cb95-296" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-297"><a href="#cb95-297" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-298"><a href="#cb95-298" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-299"><a href="#cb95-299" aria-hidden="true" tabindex="-1"></a>plt_petro</span>
<span id="cb95-300"><a href="#cb95-300" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-301"><a href="#cb95-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-302"><a href="#cb95-302" aria-hidden="true" tabindex="-1"></a>Vamos também considerar o **preço nacional do petróleo**, que é o preço no mercado internacional convertido em reais pela taxa de câmbio apresentada:</span>
<span id="cb95-303"><a href="#cb95-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-304"><a href="#cb95-304" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-305"><a href="#cb95-305" aria-hidden="true" tabindex="-1"></a>plt_petro_n <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dds,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-306"><a href="#cb95-306" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>dt, <span class="at">y =</span> <span class="sc">~</span>petro<span class="sc">*</span>cambio,</span>
<span id="cb95-307"><a href="#cb95-307" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum (R$)"</span>,</span>
<span id="cb95-308"><a href="#cb95-308" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-309"><a href="#cb95-309" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-310"><a href="#cb95-310" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Média do Preço Internacional do Petróleo, em Reais'</span>,</span>
<span id="cb95-311"><a href="#cb95-311" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-312"><a href="#cb95-312" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-313"><a href="#cb95-313" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-314"><a href="#cb95-314" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-315"><a href="#cb95-315" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-316"><a href="#cb95-316" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Preço em Reais"</span>,</span>
<span id="cb95-317"><a href="#cb95-317" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-318"><a href="#cb95-318" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-319"><a href="#cb95-319" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-320"><a href="#cb95-320" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-321"><a href="#cb95-321" aria-hidden="true" tabindex="-1"></a>plt_petro_n</span>
<span id="cb95-322"><a href="#cb95-322" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-323"><a href="#cb95-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-324"><a href="#cb95-324" aria-hidden="true" tabindex="-1"></a>Conseguimos visualizar o regime brasileiro de câmbio fixo até o fim de 1998. O rápido crescimento do preço do petróleo em 2007 ocorreu por aumento da demanda mundial e estagnação da produção, enquanto que a queda observada a partir de julho de 2008 foi causada pela crise financeira na bolha imobiliária dos EUA^[<span class="co">[</span><span class="ot">JAMES D. HAMILTON - Causes and Consequences of the Oil Shock of 2007–08.</span><span class="co">](https://www.brookings.edu/wp-content/uploads/2016/07/2009a_bpea_hamilton-1.pdf)</span>]. A queda do preço internacional na metade de 2014 foi causada pela rápida expansão na produção norte-americana e mudanças na política de preços da OPEC^[<span class="co">[</span><span class="ot">World Bank - What triggered the oil price plunge of 2014-2016 and why it failed to deliver an economic impetus in eight charts. </span><span class="co">](https://blogs.worldbank.org/developmenttalk/what-triggered-oil-price-plunge-2014-2016-and-why-it-failed-deliver-economic-impetus-eight-charts)</span>]. Percebemos também a mudança na tendência dos preços do petróleo e do IPCA a partir de abril de 2020, momento que a COVID-19 já se tornara pandêmica.</span>
<span id="cb95-325"><a href="#cb95-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-326"><a href="#cb95-326" aria-hidden="true" tabindex="-1"></a>A fins didáticos, faremos uma decomposição multiplicativa do logaritmo preço nacional do petróleo, é possível perceber melhor a tendência, a sazonalidade e os choques:</span>
<span id="cb95-327"><a href="#cb95-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-328"><a href="#cb95-328" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-329"><a href="#cb95-329" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> </span>
<span id="cb95-330"><a href="#cb95-330" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(ptr_br_log, dt) <span class="sc">|&gt;</span></span>
<span id="cb95-331"><a href="#cb95-331" aria-hidden="true" tabindex="-1"></a>    <span class="fu">model</span>(<span class="fu">classical_decomposition</span>(</span>
<span id="cb95-332"><a href="#cb95-332" aria-hidden="true" tabindex="-1"></a>        ptr_br_log,</span>
<span id="cb95-333"><a href="#cb95-333" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"multiplicative"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb95-334"><a href="#cb95-334" aria-hidden="true" tabindex="-1"></a>    <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-335"><a href="#cb95-335" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() <span class="sc">|&gt;</span> </span>
<span id="cb95-336"><a href="#cb95-336" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plotly_build</span>() <span class="sc">|&gt;</span> </span>
<span id="cb95-337"><a href="#cb95-337" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> htmltools<span class="sc">::</span><span class="fu">HTML</span>(<span class="st">"Decomposição Multiplicativa Clássica:</span><span class="sc">\n</span><span class="st">petro_br_log = trend * seasonal * randon"</span>))</span>
<span id="cb95-338"><a href="#cb95-338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-339"><a href="#cb95-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-340"><a href="#cb95-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-341"><a href="#cb95-341" aria-hidden="true" tabindex="-1"></a><span class="fu"># Raíz Unitária com KPSS e PP {.tabset .tabset-fade .tabset-pills}</span></span>
<span id="cb95-342"><a href="#cb95-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-343"><a href="#cb95-343" aria-hidden="true" tabindex="-1"></a>Visualmente, percebemos tendência temporal no IPCA e um passeio aleatório nas demais variáveis, Petro e Câmbio. Faremos o teste de raíz unitária de Phillips-Perron e estacionaridade ao entorno de uma tendência de Kwiatkowski-Phillips-Schmidt-Shin (KPSS) para validar nossa intuição visual. Resumidamente, as raízes do polinômio real de operadores de defasagem devem estar dentro do ciclo unitário para que o processo $AR(.)$ seja estacionário e para que o processo $MA(.)$ seja invertível. Caso seja detectado raíz fora do ciclo, teremos que remover a tendência, diferenciando a série. Usaremos o teste PP para raíz unitária por ser robusto, se comparado a Dickey-Fuller (DF) na presença de tendência temporal, intercepto e correlação serial nos erros e o teste KPSS para estacionariedade pelo baixo poder do DF na presença de médias móveis perto do círculo unitário.</span>
<span id="cb95-344"><a href="#cb95-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-345"><a href="#cb95-345" aria-hidden="true" tabindex="-1"></a>A hipótese nula do KPSS é do processo ser estacionário ao entorno de uma tendência determinística, simplificamos com $H_0: y_t \tilde{} I(0)$ enquanto que a do PP é de raíz unitária. Então, para confirmarmos nossa intuição, o p-valor de um deve ser baixo e do outro deve ser alto.</span>
<span id="cb95-346"><a href="#cb95-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-347"><a href="#cb95-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{r message=FALSE, warning=FALSE}</span></span>
<span id="cb95-348"><a href="#cb95-348" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb95-349"><a href="#cb95-349" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb95-350"><a href="#cb95-350" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ptr_br_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-351"><a href="#cb95-351" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ipca_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-352"><a href="#cb95-352" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( petro_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-353"><a href="#cb95-353" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( cambio_log, <span class="fu">c</span>(unitroot_kpss, unitroot_pp))  )) <span class="sc">|&gt;</span></span>
<span id="cb95-354"><a href="#cb95-354" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="st">"Variável"</span> <span class="ot">=</span><span class="fu">c</span>(<span class="st">"Log Petro Br"</span>, <span class="st">"Log IPCA"</span>, <span class="st">"Log Petro"</span>, <span class="st">"Log Câmbio"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-355"><a href="#cb95-355" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Variável, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"Resultado do KPSS e PP"</span>)</span>
<span id="cb95-356"><a href="#cb95-356" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-357"><a href="#cb95-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-358"><a href="#cb95-358" aria-hidden="true" tabindex="-1"></a>Portanto, rejeitamos a hipótese nula do KPSS de estacionariedade ao entorno de uma tendência determinística a favor da hipótese alternativa de raíz unitária para todas as variáveis, a 5% de significância. Aceitamos a nula do teste PP de integração de primeira ordem, ou seja, uma raíz unitária, a 5%, para todas as variáveis **exceto** para o IPCA. As confirmações de nossa inspeção visual indicam que deveremos ter um VAR com variáveis diferenciadas. A seguir, vamos criar novas variáveis diferenciadas e repetir o teste, além de retirar o tempo de regime de câmbio fixo:</span>
<span id="cb95-359"><a href="#cb95-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-360"><a href="#cb95-360" aria-hidden="true" tabindex="-1"></a><span class="in">```{r message=FALSE, warning=FALSE}</span></span>
<span id="cb95-361"><a href="#cb95-361" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">|&gt;</span> </span>
<span id="cb95-362"><a href="#cb95-362" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb95-363"><a href="#cb95-363" aria-hidden="true" tabindex="-1"></a>        <span class="at">ptr_br_log_dif   =</span> <span class="fu">difference</span>(ptr_br_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb95-364"><a href="#cb95-364" aria-hidden="true" tabindex="-1"></a>        <span class="at">ipca_log_dif     =</span> <span class="fu">difference</span>(ipca_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb95-365"><a href="#cb95-365" aria-hidden="true" tabindex="-1"></a>        <span class="at">petro_log_dif    =</span> <span class="fu">difference</span>(petro_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb95-366"><a href="#cb95-366" aria-hidden="true" tabindex="-1"></a>        <span class="at">cambio_log_dif   =</span> <span class="fu">difference</span>(cambio_log, <span class="at">lag =</span> <span class="dv">1</span>),</span>
<span id="cb95-367"><a href="#cb95-367" aria-hidden="true" tabindex="-1"></a>        <span class="at">ptr_br_log_dif12 =</span> <span class="fu">difference</span>(ptr_br_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb95-368"><a href="#cb95-368" aria-hidden="true" tabindex="-1"></a>        <span class="at">ipca_log_dif12   =</span> <span class="fu">difference</span>(ipca_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb95-369"><a href="#cb95-369" aria-hidden="true" tabindex="-1"></a>        <span class="at">petro_log_dif12  =</span> <span class="fu">difference</span>(petro_log, <span class="at">lag =</span> <span class="dv">12</span>),</span>
<span id="cb95-370"><a href="#cb95-370" aria-hidden="true" tabindex="-1"></a>        <span class="at">cambio_log_dif12 =</span> <span class="fu">difference</span>(cambio_log, <span class="at">lag =</span> <span class="dv">12</span>)) <span class="sc">|&gt;</span></span>
<span id="cb95-371"><a href="#cb95-371" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(petro_log_dif12))</span>
<span id="cb95-372"><a href="#cb95-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-373"><a href="#cb95-373" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">|&gt;</span> <span class="fu">filter</span>(dt <span class="sc">&gt;=</span> lubridate<span class="sc">::</span><span class="fu">my</span>(<span class="st">"Jul 1999"</span>))</span>
<span id="cb95-374"><a href="#cb95-374" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(dd)</span>
<span id="cb95-375"><a href="#cb95-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-376"><a href="#cb95-376" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb95-377"><a href="#cb95-377" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb95-378"><a href="#cb95-378" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ptr_br_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-379"><a href="#cb95-379" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( ipca_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-380"><a href="#cb95-380" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( petro_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp)),</span>
<span id="cb95-381"><a href="#cb95-381" aria-hidden="true" tabindex="-1"></a>   dd <span class="sc">|&gt;</span> <span class="fu">features</span>( cambio_log_dif, <span class="fu">c</span>(unitroot_kpss, unitroot_pp))  )) <span class="sc">|&gt;</span></span>
<span id="cb95-382"><a href="#cb95-382" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_cols</span>(<span class="st">"Variável"</span> <span class="ot">=</span><span class="fu">c</span>(<span class="st">"Log Dif(-1) Petro Br"</span>, <span class="st">"Log Dif(-1) IPCA"</span>, <span class="st">"Log Dif(-1) Petro"</span>, <span class="st">"Log Dif(-1) Câmbio"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-383"><a href="#cb95-383" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Variável, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"Resultado do KPSS e PP"</span>)</span>
<span id="cb95-384"><a href="#cb95-384" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-385"><a href="#cb95-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-386"><a href="#cb95-386" aria-hidden="true" tabindex="-1"></a>Agora temos certeza que uma diferenciação basta para a estacionariedade das variáveis: aceitamos a hipótese nula do KPSS e a alternativa do PP para todas a variáveis. Nosso VAR terá a primeira diferença, somente. A seguir, as variáveis transformadas:</span>
<span id="cb95-387"><a href="#cb95-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-388"><a href="#cb95-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-389"><a href="#cb95-389" aria-hidden="true" tabindex="-1"></a>plt_cambio <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-390"><a href="#cb95-390" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>cambio_log_dif,</span>
<span id="cb95-391"><a href="#cb95-391" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb95-392"><a href="#cb95-392" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-393"><a href="#cb95-393" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-394"><a href="#cb95-394" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Taxa de Câmbio Comercial R$ '</span>,</span>
<span id="cb95-395"><a href="#cb95-395" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-396"><a href="#cb95-396" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-397"><a href="#cb95-397" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-398"><a href="#cb95-398" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-399"><a href="#cb95-399" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-400"><a href="#cb95-400" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log R$/US$"</span>,</span>
<span id="cb95-401"><a href="#cb95-401" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-402"><a href="#cb95-402" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-403"><a href="#cb95-403" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-404"><a href="#cb95-404" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-405"><a href="#cb95-405" aria-hidden="true" tabindex="-1"></a>plt_cambio</span>
<span id="cb95-406"><a href="#cb95-406" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-407"><a href="#cb95-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-408"><a href="#cb95-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-409"><a href="#cb95-409" aria-hidden="true" tabindex="-1"></a>plt_ipca <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-410"><a href="#cb95-410" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,</span>
<span id="cb95-411"><a href="#cb95-411" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb95-412"><a href="#cb95-412" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-413"><a href="#cb95-413" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-414"><a href="#cb95-414" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da  IPCA, Brasil, de Jul/95 a Jul/2022.'</span>,</span>
<span id="cb95-415"><a href="#cb95-415" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-416"><a href="#cb95-416" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-417"><a href="#cb95-417" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-418"><a href="#cb95-418" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-419"><a href="#cb95-419" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-420"><a href="#cb95-420" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb95-421"><a href="#cb95-421" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-422"><a href="#cb95-422" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-423"><a href="#cb95-423" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-424"><a href="#cb95-424" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-425"><a href="#cb95-425" aria-hidden="true" tabindex="-1"></a>plt_ipca</span>
<span id="cb95-426"><a href="#cb95-426" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-427"><a href="#cb95-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-428"><a href="#cb95-428" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-429"><a href="#cb95-429" aria-hidden="true" tabindex="-1"></a>plt_petro <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-430"><a href="#cb95-430" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>petro_log_dif,</span>
<span id="cb95-431"><a href="#cb95-431" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum"</span>,</span>
<span id="cb95-432"><a href="#cb95-432" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-433"><a href="#cb95-433" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-434"><a href="#cb95-434" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Média do Preço Internacional do Petróleo'</span>,</span>
<span id="cb95-435"><a href="#cb95-435" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-436"><a href="#cb95-436" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-437"><a href="#cb95-437" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-438"><a href="#cb95-438" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-439"><a href="#cb95-439" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-440"><a href="#cb95-440" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log Preço em Dólar"</span>,</span>
<span id="cb95-441"><a href="#cb95-441" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-442"><a href="#cb95-442" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-443"><a href="#cb95-443" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-444"><a href="#cb95-444" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-445"><a href="#cb95-445" aria-hidden="true" tabindex="-1"></a>plt_petro</span>
<span id="cb95-446"><a href="#cb95-446" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-447"><a href="#cb95-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-448"><a href="#cb95-448" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-449"><a href="#cb95-449" aria-hidden="true" tabindex="-1"></a>plt_petro_n <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dd,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-450"><a href="#cb95-450" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif,</span>
<span id="cb95-451"><a href="#cb95-451" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">" Dif Petroleum (R$)"</span>,</span>
<span id="cb95-452"><a href="#cb95-452" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-453"><a href="#cb95-453" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> F,</span>
<span id="cb95-454"><a href="#cb95-454" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Primeira Diferença do Log da Média do Preço Internacional do Petróleo, em Reais'</span>,</span>
<span id="cb95-455"><a href="#cb95-455" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-456"><a href="#cb95-456" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-457"><a href="#cb95-457" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-458"><a href="#cb95-458" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-459"><a href="#cb95-459" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-460"><a href="#cb95-460" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">" Dif Log Preço em Reais"</span>,</span>
<span id="cb95-461"><a href="#cb95-461" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-462"><a href="#cb95-462" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-463"><a href="#cb95-463" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-464"><a href="#cb95-464" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-465"><a href="#cb95-465" aria-hidden="true" tabindex="-1"></a>plt_petro_n</span>
<span id="cb95-466"><a href="#cb95-466" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-467"><a href="#cb95-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-468"><a href="#cb95-468" aria-hidden="true" tabindex="-1"></a><span class="fu"># Funções de Autocorrelações</span></span>
<span id="cb95-469"><a href="#cb95-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-470"><a href="#cb95-470" aria-hidden="true" tabindex="-1"></a>Faremos as funções de autocorrelação (FAC e FACP) para cada variável para perceber quais lags da própria variável ou de seus erros são relevantes para explicar sua trajetória. É possível que o n-ésimo lag de uma variável seja relevante para explicá-la mas, passando para o VAR, esse n-ésimo lag não seja considerado. Essa desconsideração pode aparecer no erro do VAR, a depender da relevância do lag. Conhecer as propiedades de cada variável,individualmente, ajuda a entender o modelo multivariado. A análise das funções também pode nos indicar usar a diferenciação com o evento imediatamente anterior em detrimento da diferenciação com o mesmo mês do ano anterior, fica como exercício avaliar os gráficos das variáveis <span class="in">`&lt;&gt;_dif12`</span>, criadas anteriormente.</span>
<span id="cb95-471"><a href="#cb95-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-472"><a href="#cb95-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9}</span></span>
<span id="cb95-473"><a href="#cb95-473" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-474"><a href="#cb95-474" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(ptr_br_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> ggplot2<span class="sc">::</span><span class="fu">autoplot</span>(),</span>
<span id="cb95-475"><a href="#cb95-475" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(ptr_br_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> ggplot2<span class="sc">::</span><span class="fu">autoplot</span>()</span>
<span id="cb95-476"><a href="#cb95-476" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(Petro R$))"</span></span>
<span id="cb95-477"><a href="#cb95-477" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-478"><a href="#cb95-478" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-479"><a href="#cb95-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-480"><a href="#cb95-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-481"><a href="#cb95-481" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9}</span></span>
<span id="cb95-482"><a href="#cb95-482" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-483"><a href="#cb95-483" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(ipca_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb95-484"><a href="#cb95-484" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(ipca_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb95-485"><a href="#cb95-485" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(IPCA))"</span></span>
<span id="cb95-486"><a href="#cb95-486" aria-hidden="true" tabindex="-1"></a>) <span class="co"># Maior influnência do passado na contemporânea</span></span>
<span id="cb95-487"><a href="#cb95-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-488"><a href="#cb95-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-489"><a href="#cb95-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-490"><a href="#cb95-490" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9}</span></span>
<span id="cb95-491"><a href="#cb95-491" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-492"><a href="#cb95-492" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(petro_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb95-493"><a href="#cb95-493" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(petro_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb95-494"><a href="#cb95-494" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(Petro US$))"</span></span>
<span id="cb95-495"><a href="#cb95-495" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-496"><a href="#cb95-496" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-497"><a href="#cb95-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-498"><a href="#cb95-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-499"><a href="#cb95-499" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9}</span></span>
<span id="cb95-500"><a href="#cb95-500" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-501"><a href="#cb95-501" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">ACF</span>(cambio_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>(),</span>
<span id="cb95-502"><a href="#cb95-502" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">|&gt;</span> feasts<span class="sc">::</span><span class="fu">PACF</span>(cambio_log_dif, <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> <span class="fu">autoplot</span>()</span>
<span id="cb95-503"><a href="#cb95-503" aria-hidden="true" tabindex="-1"></a>,<span class="at">labels =</span> <span class="st">"F.A.'s de Dif(Log(R$/US$))"</span></span>
<span id="cb95-504"><a href="#cb95-504" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-505"><a href="#cb95-505" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-506"><a href="#cb95-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-507"><a href="#cb95-507" aria-hidden="true" tabindex="-1"></a>As FAC's nos mostram erros com comportamento senoide em todas as variáveis, com alta persistência para os erros do IPCA, e algumas significâncias assíncronas (sem múltiplos) no componente autorregressivo, o que dificulta a visualização de sazonalidades.</span>
<span id="cb95-508"><a href="#cb95-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-509"><a href="#cb95-509" aria-hidden="true" tabindex="-1"></a><span class="fu"># VAR</span></span>
<span id="cb95-510"><a href="#cb95-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-511"><a href="#cb95-511" aria-hidden="true" tabindex="-1"></a>Primeiramente, definimos a ordem do conjunto VAR. Para fins de comparação, vamos montar dois modelos: o **primeiro modelo** com Petro US\$, Câmbio e IPCA; **o segundo** com Petro R\$ e IPCA. Separar o efeito do câmbio e do preço do petróleo pode ser valioso na fase de decomposição da variância e por capturar o efeito puro do preço internacional do petróleo: quando fazemos <span class="in">`petro * câmbio`</span>, todos os demais fatores que afetam o câmbio (como saúde fiscal ou taxa de juros do FED) também afetarão o preço percebido do petróleo no país.   </span>
<span id="cb95-512"><a href="#cb95-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-513"><a href="#cb95-513" aria-hidden="true" tabindex="-1"></a>A regra para determinar a ordem do sistema é colocar tantas defasagens forem necessárias para produzir resíduos brancos em todas as variáveis, mas adicionar muitos parâmetros diminui o poder dos testes estatísticos. Devemos usar algum critério de informação para escolher a ordem do sistema, penalizando lags que não contribuem significativamente para a explicação dos erros. Os critérios HQ() e SC() penalizam mais fortemente parâmetros adicionais, enquanto que o AIC() tende a sobreparametrizar o modelo, apesar de funcionar melhor em pequenas amostras, o que não é o caso.</span>
<span id="cb95-514"><a href="#cb95-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-515"><a href="#cb95-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-516"><a href="#cb95-516" aria-hidden="true" tabindex="-1"></a>var1_p_select <span class="ot">&lt;-</span> <span class="fu">VARselect</span>(</span>
<span id="cb95-517"><a href="#cb95-517" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-518"><a href="#cb95-518" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, petro_log_dif, cambio_log_dif),</span>
<span id="cb95-519"><a href="#cb95-519" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag.max =</span> <span class="dv">12</span>,</span>
<span id="cb95-520"><a href="#cb95-520" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb95-521"><a href="#cb95-521" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"both"</span>)</span>
<span id="cb95-522"><a href="#cb95-522" aria-hidden="true" tabindex="-1"></a>var1_p_select<span class="sc">$</span>selection <span class="sc">|&gt;</span> <span class="fu">t</span>() <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"VAR 1: Petro US$, Câmbio e IPCA"</span>)</span>
<span id="cb95-523"><a href="#cb95-523" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-524"><a href="#cb95-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-525"><a href="#cb95-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-526"><a href="#cb95-526" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-527"><a href="#cb95-527" aria-hidden="true" tabindex="-1"></a>var2_p_select <span class="ot">&lt;-</span> <span class="fu">VARselect</span>(</span>
<span id="cb95-528"><a href="#cb95-528" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-529"><a href="#cb95-529" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, ptr_br_log_dif),</span>
<span id="cb95-530"><a href="#cb95-530" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag.max =</span> <span class="dv">12</span>,</span>
<span id="cb95-531"><a href="#cb95-531" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb95-532"><a href="#cb95-532" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"both"</span>)</span>
<span id="cb95-533"><a href="#cb95-533" aria-hidden="true" tabindex="-1"></a>var2_p_select<span class="sc">$</span>selection <span class="sc">|&gt;</span> <span class="fu">t</span>() <span class="sc">|&gt;</span> <span class="fu">set_tab</span>(<span class="at">cap_tab =</span> <span class="st">"VAR 2: Petro R$ e IPCA"</span>)</span>
<span id="cb95-534"><a href="#cb95-534" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-535"><a href="#cb95-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-536"><a href="#cb95-536" aria-hidden="true" tabindex="-1"></a>Vamos rodar os dois modelos com VAR(1) e sem dummies sazonais. Fica como exercício comparar o ganho de explicação e as significâncias com p=4. </span>
<span id="cb95-537"><a href="#cb95-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-538"><a href="#cb95-538" aria-hidden="true" tabindex="-1"></a><span class="fu">## $VAR_{1}$: Petro US$, Câmbio e IPCA</span></span>
<span id="cb95-539"><a href="#cb95-539" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-540"><a href="#cb95-540" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> vars<span class="sc">::</span><span class="fu">VAR</span>(</span>
<span id="cb95-541"><a href="#cb95-541" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-542"><a href="#cb95-542" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, cambio_log_dif, petro_log_dif),</span>
<span id="cb95-543"><a href="#cb95-543" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="dv">1</span>,</span>
<span id="cb95-544"><a href="#cb95-544" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"const"</span>,</span>
<span id="cb95-545"><a href="#cb95-545" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="cn">NULL</span>,</span>
<span id="cb95-546"><a href="#cb95-546" aria-hidden="true" tabindex="-1"></a>    <span class="at">exog =</span> <span class="cn">NULL</span>)</span>
<span id="cb95-547"><a href="#cb95-547" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var1)</span>
<span id="cb95-548"><a href="#cb95-548" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var1, <span class="at">equation=</span><span class="st">"ipca_log_dif"</span>)</span>
<span id="cb95-549"><a href="#cb95-549" aria-hidden="true" tabindex="-1"></a><span class="fu">Acoef</span>(var1)</span>
<span id="cb95-550"><a href="#cb95-550" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-551"><a href="#cb95-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-552"><a href="#cb95-552" aria-hidden="true" tabindex="-1"></a>A variável melhor explicada, i.e., com o maior $R^2-adj$, é a equação do IPCA e isso é bem razoável, está conforme nossas hipóteses a priori. A um nível de confiança de 95%, todas as variáveis do IPCA são significantes. O câmbio é explicado somente pelo seu próprio lag. Já o preço do petróleo é explicado por ele mesmo no passado e pelo câmbio no passado, esse último resultado está contradizendo nossa hipótese a priori (a de que nosso câmbio não afeta o preço internacional do petróleo por não sermos um agente com poder de mercado) e submeteremos essa equação a um teste de Granger-causalidade. Os valores altos na matriz de correlação dos resíduos nos diz que podemos ter esquecido alguma outra variável na relação delas, essa relação desconsiderad afetaria os resíduos conjuntamente. A maior correlação é de -0.2605. O diagnóstico dos resíduos, mais adiante, nos ajudarão a entendê-los melhor.   </span>
<span id="cb95-553"><a href="#cb95-553" aria-hidden="true" tabindex="-1"></a>As equações do sistema reduzido ficariam:</span>
<span id="cb95-554"><a href="#cb95-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-555"><a href="#cb95-555" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-556"><a href="#cb95-556" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-557"><a href="#cb95-557" aria-hidden="true" tabindex="-1"></a>ipca_{t} <span class="sc">\\</span> camb_{t} <span class="sc">\\</span> us.petro_{t}</span>
<span id="cb95-558"><a href="#cb95-558" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-559"><a href="#cb95-559" aria-hidden="true" tabindex="-1"></a> =</span>
<span id="cb95-560"><a href="#cb95-560" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-561"><a href="#cb95-561" aria-hidden="true" tabindex="-1"></a>.0017 <span class="sc">\\</span> .0049 <span class="sc">\\</span> -.0005</span>
<span id="cb95-562"><a href="#cb95-562" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-563"><a href="#cb95-563" aria-hidden="true" tabindex="-1"></a> +</span>
<span id="cb95-564"><a href="#cb95-564" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-565"><a href="#cb95-565" aria-hidden="true" tabindex="-1"></a>.6279 &amp; .0178 &amp; .0057 <span class="sc">\\</span></span>
<span id="cb95-566"><a href="#cb95-566" aria-hidden="true" tabindex="-1"></a>-.3663 &amp; .3232 &amp; -.0478 <span class="sc">\\</span></span>
<span id="cb95-567"><a href="#cb95-567" aria-hidden="true" tabindex="-1"></a>1.2086 &amp; -.3709 &amp; .2503</span>
<span id="cb95-568"><a href="#cb95-568" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-569"><a href="#cb95-569" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-570"><a href="#cb95-570" aria-hidden="true" tabindex="-1"></a>ipca_{t-1} <span class="sc">\\</span> camb_{t-1} <span class="sc">\\</span> us.petro_{t-1}</span>
<span id="cb95-571"><a href="#cb95-571" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-572"><a href="#cb95-572" aria-hidden="true" tabindex="-1"></a>+</span>
<span id="cb95-573"><a href="#cb95-573" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-574"><a href="#cb95-574" aria-hidden="true" tabindex="-1"></a>\epsilon_{ipca,t}  <span class="sc">\\</span> \epsilon_{camb,t} <span class="sc">\\</span> \epsilon_{us.petro,t}</span>
<span id="cb95-575"><a href="#cb95-575" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-576"><a href="#cb95-576" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-577"><a href="#cb95-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-578"><a href="#cb95-578" aria-hidden="true" tabindex="-1"></a><span class="fu">## $VAR_{2}$: Petro R$ e IPCA</span></span>
<span id="cb95-579"><a href="#cb95-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-580"><a href="#cb95-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-581"><a href="#cb95-581" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> vars<span class="sc">::</span><span class="fu">VAR</span>(</span>
<span id="cb95-582"><a href="#cb95-582" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-583"><a href="#cb95-583" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log_dif, ptr_br_log_dif),</span>
<span id="cb95-584"><a href="#cb95-584" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="dv">1</span>,</span>
<span id="cb95-585"><a href="#cb95-585" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"const"</span>,</span>
<span id="cb95-586"><a href="#cb95-586" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="cn">NULL</span>,</span>
<span id="cb95-587"><a href="#cb95-587" aria-hidden="true" tabindex="-1"></a>    <span class="at">exog =</span> <span class="cn">NULL</span>)</span>
<span id="cb95-588"><a href="#cb95-588" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var2)</span>
<span id="cb95-589"><a href="#cb95-589" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(var2, <span class="at">equation=</span><span class="st">"ipca_log_dif"</span>)</span>
<span id="cb95-590"><a href="#cb95-590" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-591"><a href="#cb95-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-592"><a href="#cb95-592" aria-hidden="true" tabindex="-1"></a>Como no primeiro modelo, o IPCA foi a variável melhor explicada (maior $R^2-adj$). Tanto seu valor defasado quanto o preço internacional do petróleo em reais são significativos para explicá-la. A única variável significativa que explica os preços em reais do mercado internacional de petróleo é ela mesma no passado, o que corrobora nossa hipótese a priori. O modelo ficaria assim:</span>
<span id="cb95-593"><a href="#cb95-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-594"><a href="#cb95-594" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-595"><a href="#cb95-595" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-596"><a href="#cb95-596" aria-hidden="true" tabindex="-1"></a>ipca_{t} <span class="sc">\\</span> br.petro_{t}</span>
<span id="cb95-597"><a href="#cb95-597" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-598"><a href="#cb95-598" aria-hidden="true" tabindex="-1"></a> =</span>
<span id="cb95-599"><a href="#cb95-599" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-600"><a href="#cb95-600" aria-hidden="true" tabindex="-1"></a>.0018 <span class="sc">\\</span> .0023 </span>
<span id="cb95-601"><a href="#cb95-601" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-602"><a href="#cb95-602" aria-hidden="true" tabindex="-1"></a> +</span>
<span id="cb95-603"><a href="#cb95-603" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-604"><a href="#cb95-604" aria-hidden="true" tabindex="-1"></a>.6166 &amp; .0061  <span class="sc">\\</span></span>
<span id="cb95-605"><a href="#cb95-605" aria-hidden="true" tabindex="-1"></a>1.0768 &amp; .1939 <span class="sc">\\</span></span>
<span id="cb95-606"><a href="#cb95-606" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-607"><a href="#cb95-607" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-608"><a href="#cb95-608" aria-hidden="true" tabindex="-1"></a>ipca_{t-1} <span class="sc">\\</span> br.petro_{t-1}</span>
<span id="cb95-609"><a href="#cb95-609" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-610"><a href="#cb95-610" aria-hidden="true" tabindex="-1"></a>+</span>
<span id="cb95-611"><a href="#cb95-611" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-612"><a href="#cb95-612" aria-hidden="true" tabindex="-1"></a>\epsilon_{ipca,t}  <span class="sc">\\</span> \epsilon_{br.petro,t}</span>
<span id="cb95-613"><a href="#cb95-613" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-614"><a href="#cb95-614" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-615"><a href="#cb95-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-616"><a href="#cb95-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-617"><a href="#cb95-617" aria-hidden="true" tabindex="-1"></a>A seguir, vamos fazer uma base só com os valores realizados e estimados (<span class="in">`realz_fit`</span>) e fazer os gráficos comparando-os:</span>
<span id="cb95-618"><a href="#cb95-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-619"><a href="#cb95-619" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-620"><a href="#cb95-620" aria-hidden="true" tabindex="-1"></a>realz_fit <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb95-621"><a href="#cb95-621" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb95-622"><a href="#cb95-622" aria-hidden="true" tabindex="-1"></a>    var1[[<span class="st">"y"</span>]] <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>(),</span>
<span id="cb95-623"><a href="#cb95-623" aria-hidden="true" tabindex="-1"></a>    var2<span class="sc">$</span>y <span class="sc">|&gt;</span> <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ptr_br_log_dif),</span>
<span id="cb95-624"><a href="#cb95-624" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_ipca"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>ipca_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb95-625"><a href="#cb95-625" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_cambio"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>cambio_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb95-626"><a href="#cb95-626" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_fitted_petro"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, var1<span class="sc">$</span>varresult<span class="sc">$</span>petro_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb95-627"><a href="#cb95-627" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_fitted_ipca"</span><span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,var2<span class="sc">$</span>varresult<span class="sc">$</span>ipca_log_dif<span class="sc">$</span>fitted.values),</span>
<span id="cb95-628"><a href="#cb95-628" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_fitted_ptr"</span><span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,var2<span class="sc">$</span>varresult<span class="sc">$</span>ptr_br_log_dif<span class="sc">$</span>fitted.values)</span>
<span id="cb95-629"><a href="#cb95-629" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb95-630"><a href="#cb95-630" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-631"><a href="#cb95-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-632"><a href="#cb95-632" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-633"><a href="#cb95-633" aria-hidden="true" tabindex="-1"></a>plt_ipca_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-634"><a href="#cb95-634" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,</span>
<span id="cb95-635"><a href="#cb95-635" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb95-636"><a href="#cb95-636" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-637"><a href="#cb95-637" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_ipca,</span>
<span id="cb95-638"><a href="#cb95-638" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb95-639"><a href="#cb95-639" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0e0417"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-640"><a href="#cb95-640" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v2_fitted_ipca,</span>
<span id="cb95-641"><a href="#cb95-641" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var2"</span>,</span>
<span id="cb95-642"><a href="#cb95-642" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#8C2280"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dash'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-643"><a href="#cb95-643" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-644"><a href="#cb95-644" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(IPCA)) Realizado e Estimado em VAR¹ e VAR²'</span>,</span>
<span id="cb95-645"><a href="#cb95-645" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-646"><a href="#cb95-646" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-647"><a href="#cb95-647" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-648"><a href="#cb95-648" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-649"><a href="#cb95-649" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-650"><a href="#cb95-650" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb95-651"><a href="#cb95-651" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-652"><a href="#cb95-652" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-653"><a href="#cb95-653" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-654"><a href="#cb95-654" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-655"><a href="#cb95-655" aria-hidden="true" tabindex="-1"></a>plt_ipca_var</span>
<span id="cb95-656"><a href="#cb95-656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-657"><a href="#cb95-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-658"><a href="#cb95-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-659"><a href="#cb95-659" aria-hidden="true" tabindex="-1"></a>plt_cambio_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-660"><a href="#cb95-660" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>cambio_log_dif,</span>
<span id="cb95-661"><a href="#cb95-661" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Câmbio"</span>,</span>
<span id="cb95-662"><a href="#cb95-662" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#30d5c8"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-663"><a href="#cb95-663" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_cambio,</span>
<span id="cb95-664"><a href="#cb95-664" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb95-665"><a href="#cb95-665" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#156760"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-666"><a href="#cb95-666" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-667"><a href="#cb95-667" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Câmbio)) Realizado e Estimado em VAR¹'</span>,</span>
<span id="cb95-668"><a href="#cb95-668" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-669"><a href="#cb95-669" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-670"><a href="#cb95-670" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-671"><a href="#cb95-671" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-672"><a href="#cb95-672" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-673"><a href="#cb95-673" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log R$/US$"</span>,</span>
<span id="cb95-674"><a href="#cb95-674" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-675"><a href="#cb95-675" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-676"><a href="#cb95-676" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-677"><a href="#cb95-677" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-678"><a href="#cb95-678" aria-hidden="true" tabindex="-1"></a>plt_cambio_var</span>
<span id="cb95-679"><a href="#cb95-679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-680"><a href="#cb95-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-681"><a href="#cb95-681" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-682"><a href="#cb95-682" aria-hidden="true" tabindex="-1"></a>plt_petro_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-683"><a href="#cb95-683" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>petro_log_dif,</span>
<span id="cb95-684"><a href="#cb95-684" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum US$"</span>,</span>
<span id="cb95-685"><a href="#cb95-685" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#2E8B57"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-686"><a href="#cb95-686" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v1_fitted_petro,</span>
<span id="cb95-687"><a href="#cb95-687" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var1"</span>,</span>
<span id="cb95-688"><a href="#cb95-688" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0c2416"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-689"><a href="#cb95-689" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-690"><a href="#cb95-690" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Petro US$)) Realizado e Estimado em VAR¹'</span>,</span>
<span id="cb95-691"><a href="#cb95-691" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-692"><a href="#cb95-692" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-693"><a href="#cb95-693" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-694"><a href="#cb95-694" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-695"><a href="#cb95-695" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-696"><a href="#cb95-696" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log Preço em Dólar"</span>,</span>
<span id="cb95-697"><a href="#cb95-697" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-698"><a href="#cb95-698" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-699"><a href="#cb95-699" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-700"><a href="#cb95-700" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-701"><a href="#cb95-701" aria-hidden="true" tabindex="-1"></a>plt_petro_var</span>
<span id="cb95-702"><a href="#cb95-702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-703"><a href="#cb95-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-704"><a href="#cb95-704" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-705"><a href="#cb95-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-706"><a href="#cb95-706" aria-hidden="true" tabindex="-1"></a>plt_petro_br_var <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit,<span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-707"><a href="#cb95-707" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif,</span>
<span id="cb95-708"><a href="#cb95-708" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Petroleum R$"</span>,</span>
<span id="cb95-709"><a href="#cb95-709" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#073320"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-710"><a href="#cb95-710" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>v2_fitted_ptr,</span>
<span id="cb95-711"><a href="#cb95-711" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted Var2"</span>,</span>
<span id="cb95-712"><a href="#cb95-712" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#02110a"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-713"><a href="#cb95-713" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-714"><a href="#cb95-714" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(Petro R$)) Realizado e Estimado em VAR²'</span>,</span>
<span id="cb95-715"><a href="#cb95-715" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-716"><a href="#cb95-716" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-717"><a href="#cb95-717" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-718"><a href="#cb95-718" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-719"><a href="#cb95-719" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-720"><a href="#cb95-720" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">" Dif Log Preço em Reais"</span>,</span>
<span id="cb95-721"><a href="#cb95-721" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-722"><a href="#cb95-722" aria-hidden="true" tabindex="-1"></a>                      <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-723"><a href="#cb95-723" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-724"><a href="#cb95-724" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-725"><a href="#cb95-725" aria-hidden="true" tabindex="-1"></a>plt_petro_br_var</span>
<span id="cb95-726"><a href="#cb95-726" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-727"><a href="#cb95-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-728"><a href="#cb95-728" aria-hidden="true" tabindex="-1"></a><span class="fu"># Diagnóstico dos Resíduos do VAR</span></span>
<span id="cb95-729"><a href="#cb95-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-730"><a href="#cb95-730" aria-hidden="true" tabindex="-1"></a>Vamos coletar os resíduos em uma base:</span>
<span id="cb95-731"><a href="#cb95-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-732"><a href="#cb95-732" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-733"><a href="#cb95-733" aria-hidden="true" tabindex="-1"></a>resids <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb95-734"><a href="#cb95-734" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt) <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb95-735"><a href="#cb95-735" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_ipca"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"ipca_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb95-736"><a href="#cb95-736" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_cambio"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"cambio_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb95-737"><a href="#cb95-737" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v1_petro"</span> <span class="ot">=</span> var1[[<span class="st">"varresult"</span>]][[<span class="st">"petro_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb95-738"><a href="#cb95-738" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_ipca"</span> <span class="ot">=</span> var2[[<span class="st">"varresult"</span>]][[<span class="st">"ipca_log_dif"</span>]][[<span class="st">"residuals"</span>]],</span>
<span id="cb95-739"><a href="#cb95-739" aria-hidden="true" tabindex="-1"></a>    <span class="st">"v2_ptr"</span> <span class="ot">=</span> var2[[<span class="st">"varresult"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][[<span class="st">"residuals"</span>]]</span>
<span id="cb95-740"><a href="#cb95-740" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-741"><a href="#cb95-741" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-742"><a href="#cb95-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-743"><a href="#cb95-743" aria-hidden="true" tabindex="-1"></a>Os primeiros três testes que faremos serão para investigar autocorrelação individual e conjunta dos resíduos: se esquecemos de alguma variável muito relevante para a explicação das variáveis dependentes, então a jogamos para o erro e seu padrão poderá acusar um erro correlacionado com ele mesmo, no passado. O teste de heterocedasticidade verifica se as variâncias dos resíduos diferenciam-se no tempo, isso não interfere nas propriedades de inexistência de viés e consistência dos estimadores de MQO, no entanto, eles deixam de ter variância mínima e eficiência e interfere nas inferências que poderemos fazer com os parâmetros estimados. O teste de quebra estrutural verificará se, em algum momento, a variável sofreu alguma mudança no seu processo aleatório. </span>
<span id="cb95-744"><a href="#cb95-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-745"><a href="#cb95-745" aria-hidden="true" tabindex="-1"></a><span class="fu">## Autocorrelação: Breusch-Godfrey</span></span>
<span id="cb95-746"><a href="#cb95-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-747"><a href="#cb95-747" aria-hidden="true" tabindex="-1"></a>O teste Breusch-Godfrey examina a autocorrelação conjunta dos erros, se o coeficiente do vetor dos erros passados é significativo ao explicar o vetor de erro presente. Tem como hipótese nula a não-autocorrelação conjunta dos resíduos.</span>
<span id="cb95-748"><a href="#cb95-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-749"><a href="#cb95-749" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-750"><a href="#cb95-750" aria-hidden="true" tabindex="-1"></a>test_autocorr_var1 <span class="ot">&lt;-</span> <span class="fu">serial.test</span>(</span>
<span id="cb95-751"><a href="#cb95-751" aria-hidden="true" tabindex="-1"></a>    var1,</span>
<span id="cb95-752"><a href="#cb95-752" aria-hidden="true" tabindex="-1"></a>    <span class="at">lags.pt =</span> <span class="dv">12</span>, <span class="at">type =</span> <span class="st">"BG"</span>)</span>
<span id="cb95-753"><a href="#cb95-753" aria-hidden="true" tabindex="-1"></a>test_autocorr_var1</span>
<span id="cb95-754"><a href="#cb95-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-755"><a href="#cb95-755" aria-hidden="true" tabindex="-1"></a>test_autocorr_var2 <span class="ot">&lt;-</span> <span class="fu">serial.test</span>(</span>
<span id="cb95-756"><a href="#cb95-756" aria-hidden="true" tabindex="-1"></a>    var2,</span>
<span id="cb95-757"><a href="#cb95-757" aria-hidden="true" tabindex="-1"></a>    <span class="at">lags.pt =</span> <span class="dv">12</span>, <span class="at">type =</span> <span class="st">"BG"</span>)</span>
<span id="cb95-758"><a href="#cb95-758" aria-hidden="true" tabindex="-1"></a>test_autocorr_var2</span>
<span id="cb95-759"><a href="#cb95-759" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-760"><a href="#cb95-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-761"><a href="#cb95-761" aria-hidden="true" tabindex="-1"></a>Os resultados indicam que, a 5%, podemos rejeitar a hipótese nula, ou seja, existe autocorrelação conjunta dos resíduos do primeiro modelo, já que o p-valor é 4.73% (por pouco!). Já no segundo modelo, aceitamos a hipótese nula de que não existe autocorrelação conjunta.</span>
<span id="cb95-762"><a href="#cb95-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-763"><a href="#cb95-763" aria-hidden="true" tabindex="-1"></a><span class="fu">## Autocorrelação: Ljung-Box</span></span>
<span id="cb95-764"><a href="#cb95-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-765"><a href="#cb95-765" aria-hidden="true" tabindex="-1"></a>Agora testaremos autocorrelação individual dos erros de cada equação. O teste Ljung-Box tem a hipótese nula de não-autocorrelação dos resíduos, ou seja, independência em relação às suas realizações passadas.</span>
<span id="cb95-766"><a href="#cb95-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-767"><a href="#cb95-767" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-768"><a href="#cb95-768" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_ipca <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span>
<span id="cb95-769"><a href="#cb95-769" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_cambio <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span>
<span id="cb95-770"><a href="#cb95-770" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v1_petro <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span>
<span id="cb95-771"><a href="#cb95-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-772"><a href="#cb95-772" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v2_ipca <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span>
<span id="cb95-773"><a href="#cb95-773" aria-hidden="true" tabindex="-1"></a>resids<span class="sc">$</span>v2_ptr <span class="sc">|&gt;</span> <span class="fu">ljung_box</span>(<span class="at">lag =</span> <span class="dv">12</span>)</span>
<span id="cb95-774"><a href="#cb95-774" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-775"><a href="#cb95-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-776"><a href="#cb95-776" aria-hidden="true" tabindex="-1"></a>Todos os testes aceitaram a nula de não-autocorrelação individual dos resíduos. A independência individual e a correlação conjunta no primeiro modelo é um resultado interessante: os erros de alguma outra equação ajudam a explicar os erros da outra equação, eles não independem entre si. </span>
<span id="cb95-777"><a href="#cb95-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-778"><a href="#cb95-778" aria-hidden="true" tabindex="-1"></a><span class="fu">## Autocorrelação: FAC e FACP nos Resíduos</span></span>
<span id="cb95-779"><a href="#cb95-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-780"><a href="#cb95-780" aria-hidden="true" tabindex="-1"></a>O teste Ljung-Box, de independência temporal individual, analisa se a soma das autocorrelações é diferente de zero, em cada equação. Faremos agora os gráficos das funções de autocorrelação pura e parcial, o que nos mostrará, em cada equação e cada defasagem, quais defasagens do erro são significantes para explicá-lo. Percorrendo esses três testes podemos ter uma visão mais detalhada do comportamento dos resíduos: conjuntamente, individualmente e em cada defasagem.</span>
<span id="cb95-781"><a href="#cb95-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-782"><a href="#cb95-782" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9, fig.cap="FAC e FACP do IPCA de VAR(1)"}</span></span>
<span id="cb95-783"><a href="#cb95-783" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-784"><a href="#cb95-784" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-785"><a href="#cb95-785" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb95-786"><a href="#cb95-786" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-787"><a href="#cb95-787" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-788"><a href="#cb95-788" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb95-789"><a href="#cb95-789" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-790"><a href="#cb95-790" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb95-791"><a href="#cb95-791" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-792"><a href="#cb95-792" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-793"><a href="#cb95-793" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb95-794"><a href="#cb95-794" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-795"><a href="#cb95-795" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-796"><a href="#cb95-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-797"><a href="#cb95-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-798"><a href="#cb95-798" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9, fig.cap="FAC e FACP do Câmbio de VAR(1)"}</span></span>
<span id="cb95-799"><a href="#cb95-799" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-800"><a href="#cb95-800" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-801"><a href="#cb95-801" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_cambio) <span class="sc">|&gt;</span> </span>
<span id="cb95-802"><a href="#cb95-802" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-803"><a href="#cb95-803" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-804"><a href="#cb95-804" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb95-805"><a href="#cb95-805" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-806"><a href="#cb95-806" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_cambio) <span class="sc">|&gt;</span> </span>
<span id="cb95-807"><a href="#cb95-807" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-808"><a href="#cb95-808" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-809"><a href="#cb95-809" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb95-810"><a href="#cb95-810" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-811"><a href="#cb95-811" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-812"><a href="#cb95-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-813"><a href="#cb95-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-814"><a href="#cb95-814" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9, fig.cap="FAC e FACP do Petro US de VAR(1)"}</span></span>
<span id="cb95-815"><a href="#cb95-815" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-816"><a href="#cb95-816" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-817"><a href="#cb95-817" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_petro) <span class="sc">|&gt;</span> </span>
<span id="cb95-818"><a href="#cb95-818" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-819"><a href="#cb95-819" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-820"><a href="#cb95-820" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb95-821"><a href="#cb95-821" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-822"><a href="#cb95-822" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v1_petro) <span class="sc">|&gt;</span> </span>
<span id="cb95-823"><a href="#cb95-823" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-824"><a href="#cb95-824" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-825"><a href="#cb95-825" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb95-826"><a href="#cb95-826" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-827"><a href="#cb95-827" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-828"><a href="#cb95-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-829"><a href="#cb95-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-830"><a href="#cb95-830" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9, fig.cap="FAC e FACP do IPCA de VAR(2)"}</span></span>
<span id="cb95-831"><a href="#cb95-831" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-832"><a href="#cb95-832" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-833"><a href="#cb95-833" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb95-834"><a href="#cb95-834" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-835"><a href="#cb95-835" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-836"><a href="#cb95-836" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb95-837"><a href="#cb95-837" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-838"><a href="#cb95-838" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ipca) <span class="sc">|&gt;</span> </span>
<span id="cb95-839"><a href="#cb95-839" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-840"><a href="#cb95-840" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-841"><a href="#cb95-841" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb95-842"><a href="#cb95-842" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-843"><a href="#cb95-843" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-844"><a href="#cb95-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-845"><a href="#cb95-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-846"><a href="#cb95-846" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=9, fig.cap="FAC e FACP do Petro BR de VAR(2)"}</span></span>
<span id="cb95-847"><a href="#cb95-847" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(</span>
<span id="cb95-848"><a href="#cb95-848" aria-hidden="true" tabindex="-1"></a><span class="fu">ACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-849"><a href="#cb95-849" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ptr) <span class="sc">|&gt;</span> </span>
<span id="cb95-850"><a href="#cb95-850" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-851"><a href="#cb95-851" aria-hidden="true" tabindex="-1"></a>     <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-852"><a href="#cb95-852" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>()</span>
<span id="cb95-853"><a href="#cb95-853" aria-hidden="true" tabindex="-1"></a>,<span class="fu">PACF</span>(resids <span class="sc">|&gt;</span> </span>
<span id="cb95-854"><a href="#cb95-854" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(dt, v2_ptr) <span class="sc">|&gt;</span> </span>
<span id="cb95-855"><a href="#cb95-855" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_tsibble</span>(),</span>
<span id="cb95-856"><a href="#cb95-856" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag_max =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-857"><a href="#cb95-857" aria-hidden="true" tabindex="-1"></a>    <span class="fu">autoplot</span>() </span>
<span id="cb95-858"><a href="#cb95-858" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-859"><a href="#cb95-859" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-860"><a href="#cb95-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-861"><a href="#cb95-861" aria-hidden="true" tabindex="-1"></a>O erro na equação do IPCA dos dois modelos exibem significância na 12ª e na 14ª defasagem: o erro do mesmo mês do ano anterior ainda é significante ao explicar o erro atual. Uma solução seria incorporar uma defasagem L=12 e L=14 aditiva do erro no VAR e fazer um teste de penalidade por colocar variáveis a mais, inclusive no câmbio, em petro(US\$) e em petro(R\$). Outra solução pode ser a presença ignorada de cointegração entre as variáveis, que será considerada mais adiante.</span>
<span id="cb95-862"><a href="#cb95-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-863"><a href="#cb95-863" aria-hidden="true" tabindex="-1"></a><span class="fu">## Heterocedasticidade: ARCH Multiplicador de Lagrange</span></span>
<span id="cb95-864"><a href="#cb95-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-865"><a href="#cb95-865" aria-hidden="true" tabindex="-1"></a>O teste ARCH-LM multivariado verifica heterocedasticidade autorregressiva nos erros: se a atual variância do erro depende dos valores de suas variâncias passadas. Esse defeito não nos permite ter estimações eficientes para um mesmo intervalo em tempos diferentes, deixando-os incomparáveis. Heterocedasticidade indica uma dispersão crescente das realizações ao entorno de sua média. A hipótese nula do teste é que os coeficientes de um AR das variâncias são conjuntamente zero, ou seja, não há heterocedasticidade; e a hipótese alternativa é que qualquer um dos coeficientes é diferente de zero. O teste é realizado para o erro de cada equação e na forma VARCH (um VAR com os erros ao quadrado) para o teste multivariado.</span>
<span id="cb95-866"><a href="#cb95-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-867"><a href="#cb95-867" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb95-868"><a href="#cb95-868" aria-hidden="true" tabindex="-1"></a>test_var1_arch <span class="ot">&lt;-</span></span>
<span id="cb95-869"><a href="#cb95-869" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arch.test</span>(var1, <span class="at">lags.multi =</span> <span class="dv">12</span>, <span class="at">multivariate.only =</span> <span class="cn">FALSE</span>)</span>
<span id="cb95-870"><a href="#cb95-870" aria-hidden="true" tabindex="-1"></a>test_var1_arch</span>
<span id="cb95-871"><a href="#cb95-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-872"><a href="#cb95-872" aria-hidden="true" tabindex="-1"></a>test_var2_arch <span class="ot">&lt;-</span> </span>
<span id="cb95-873"><a href="#cb95-873" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arch.test</span>(var2, <span class="at">lags.multi =</span> <span class="dv">12</span>, <span class="at">multivariate.only =</span> <span class="cn">FALSE</span>)</span>
<span id="cb95-874"><a href="#cb95-874" aria-hidden="true" tabindex="-1"></a>test_var2_arch</span>
<span id="cb95-875"><a href="#cb95-875" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-876"><a href="#cb95-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-877"><a href="#cb95-877" aria-hidden="true" tabindex="-1"></a>O p-valor dos testes mostram que, nos dois modelos, os erros da equação do IPCA são homocedásticos enquanto que os erros das demais equações (câmbio, petro US e petro BR) são heterocedásticos. Os testes multivariados apontam para heterocedasticidade. Uma solução para o caso seria incorporar um componente ARCH nas equações do modelo sob pena de sobreparametrizá-lo. Também testaremos se a consideração da cointegração muda os resultados desse teste.</span>
<span id="cb95-878"><a href="#cb95-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-879"><a href="#cb95-879" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quebra Estrutural: Teste CUSUM</span></span>
<span id="cb95-880"><a href="#cb95-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-881"><a href="#cb95-881" aria-hidden="true" tabindex="-1"></a>O teste CUSUM (cumulative sum) é um teste e uma forma visual de entender a estabilidade do modelo e possíveis quebras estruturais no processo aleatório atravéz do plot de uma medida de qualidade, baseada no somatório dos erros, e os limites inferior e superior dessa medida de qualidade. Os testes mostram certa estabilidade das estimações, uma vez que nenhuma equação nos dois modelos ultrapassaram os limites de significância. </span>
<span id="cb95-882"><a href="#cb95-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-883"><a href="#cb95-883" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=9, fig.width=9}</span></span>
<span id="cb95-884"><a href="#cb95-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-885"><a href="#cb95-885" aria-hidden="true" tabindex="-1"></a>test_var1_cusum <span class="ot">&lt;-</span> <span class="fu">stability</span>(var1, <span class="at">type =</span> <span class="st">"OLS-CUSUM"</span>)</span>
<span id="cb95-886"><a href="#cb95-886" aria-hidden="true" tabindex="-1"></a>test_var1_cusum <span class="sc">|&gt;</span> <span class="fu">plot</span>()</span>
<span id="cb95-887"><a href="#cb95-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-888"><a href="#cb95-888" aria-hidden="true" tabindex="-1"></a>test_var2_cusum <span class="ot">&lt;-</span> <span class="fu">stability</span>(var2, <span class="at">type =</span> <span class="st">"OLS-CUSUM"</span>)</span>
<span id="cb95-889"><a href="#cb95-889" aria-hidden="true" tabindex="-1"></a>test_var2_cusum <span class="sc">|&gt;</span> <span class="fu">plot</span>()</span>
<span id="cb95-890"><a href="#cb95-890" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-891"><a href="#cb95-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-892"><a href="#cb95-892" aria-hidden="true" tabindex="-1"></a><span class="fu"># Teste de Cointegração de Johansen</span></span>
<span id="cb95-893"><a href="#cb95-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-894"><a href="#cb95-894" aria-hidden="true" tabindex="-1"></a>Agora, o deus ex-machina desse ao palco. A autocorrelação conjunta dos resíduos pode indicar algo afetando os resíduos de forma que os coeficientes de um VAR usando os erros sejam conjuntamente significativos, isso indica que pode haver algo não capturado nas relações entre as estimações. Faremos agora o teste de cointegração das variáveis: a existência de alguma trajetória estacionária feita de alguma combinação linear de curto-prazo entre as variáveis, como dito na introdução.   </span>
<span id="cb95-895"><a href="#cb95-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-896"><a href="#cb95-896" aria-hidden="true" tabindex="-1"></a>O Teste de Cointegração de Johansen usa o fato de que o posto da matriz de coeficientes de um modelo cointegrado é não-nulo, ou seja, há pelo menos uma linha linearmente independente na matriz de coeficientes da correção dos erros. Existem duas estatísticas no teste: a raíz característica máxima ($\lambda_{max}$) e o traço da matriz de raízes características ($\lambda_{trc}$). O teste  $\lambda_{trc}$ é mais geral: com hipótese nula de que o número de combinações lineares independentes (r) é menor ou iqual a um i, ou seja, $H_0: \ \ r \leq i$ e $H_1: \ \ r \neq i$. O teste $\lambda_{max}$ é mais específico: $H_0: \ \ r = i$ e $H_1: \ \ r = i+1$, que usaremos nesse exercício.</span>
<span id="cb95-897"><a href="#cb95-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-898"><a href="#cb95-898" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=9, fig.width=9}</span></span>
<span id="cb95-899"><a href="#cb95-899" aria-hidden="true" tabindex="-1"></a>johansen_var1_max <span class="ot">&lt;-</span> <span class="fu">ca.jo</span>(</span>
<span id="cb95-900"><a href="#cb95-900" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-901"><a href="#cb95-901" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, cambio_log, petro_log),</span>
<span id="cb95-902"><a href="#cb95-902" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"eigen"</span>,</span>
<span id="cb95-903"><a href="#cb95-903" aria-hidden="true" tabindex="-1"></a>    <span class="at">ecdet =</span> <span class="st">"const"</span>,</span>
<span id="cb95-904"><a href="#cb95-904" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="dv">2</span>,</span>
<span id="cb95-905"><a href="#cb95-905" aria-hidden="true" tabindex="-1"></a>    <span class="at">spec =</span> <span class="st">"transitory"</span>,</span>
<span id="cb95-906"><a href="#cb95-906" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb95-907"><a href="#cb95-907" aria-hidden="true" tabindex="-1"></a>    <span class="at">dumvar =</span> <span class="cn">NULL</span></span>
<span id="cb95-908"><a href="#cb95-908" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-909"><a href="#cb95-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-910"><a href="#cb95-910" aria-hidden="true" tabindex="-1"></a>johansen_var1_max <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span>
<span id="cb95-911"><a href="#cb95-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-912"><a href="#cb95-912" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-913"><a href="#cb95-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-914"><a href="#cb95-914" aria-hidden="true" tabindex="-1"></a>No teste do máximo para o primeiro modelo, começamos o teste por r=0, onde aceitamos $H_1$, daí vamos para o teste de $r \leq 1$, onde rejeitamos a nula a 10% e aceitamos a 5%, continuaremos a trabalhar com os 5% para valor crítico, ou seja, as variáveis são cointegrada e há um vetor independente de cointegração entre as variáveis.</span>
<span id="cb95-915"><a href="#cb95-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-916"><a href="#cb95-916" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=9, fig.width=9}</span></span>
<span id="cb95-917"><a href="#cb95-917" aria-hidden="true" tabindex="-1"></a>johansen_var2_max <span class="ot">&lt;-</span> <span class="fu">ca.jo</span>(</span>
<span id="cb95-918"><a href="#cb95-918" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb95-919"><a href="#cb95-919" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, ptr_br_log),</span>
<span id="cb95-920"><a href="#cb95-920" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"eigen"</span>,</span>
<span id="cb95-921"><a href="#cb95-921" aria-hidden="true" tabindex="-1"></a>    <span class="at">ecdet =</span> <span class="st">"none"</span>,</span>
<span id="cb95-922"><a href="#cb95-922" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="dv">2</span>,</span>
<span id="cb95-923"><a href="#cb95-923" aria-hidden="true" tabindex="-1"></a>    <span class="at">spec =</span> <span class="st">"transitory"</span>,</span>
<span id="cb95-924"><a href="#cb95-924" aria-hidden="true" tabindex="-1"></a>    <span class="at">season =</span> <span class="dv">12</span>,</span>
<span id="cb95-925"><a href="#cb95-925" aria-hidden="true" tabindex="-1"></a>    <span class="at">dumvar =</span> <span class="cn">NULL</span></span>
<span id="cb95-926"><a href="#cb95-926" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-927"><a href="#cb95-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-928"><a href="#cb95-928" aria-hidden="true" tabindex="-1"></a>johansen_var2_max <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span>
<span id="cb95-929"><a href="#cb95-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-930"><a href="#cb95-930" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-931"><a href="#cb95-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-932"><a href="#cb95-932" aria-hidden="true" tabindex="-1"></a>No teste do máximo pra o segundo modelo, aceitamos a hipótese nula de r = 0, ou seja, não há cointegração entre as duas variáveis. **Devemos proceder com um VECM para o primeiro modelo e um VAR com o segundo modelo.**</span>
<span id="cb95-933"><a href="#cb95-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-934"><a href="#cb95-934" aria-hidden="true" tabindex="-1"></a><span class="fu"># VECM do Trio de Variáveis</span></span>
<span id="cb95-935"><a href="#cb95-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-936"><a href="#cb95-936" aria-hidden="true" tabindex="-1"></a>O comando <span class="in">`tsDyn::VECM()`</span> tem como parâmetros a escolha de estimar o VECM por MQO de dois estágios ou máxima verossimilhança (MV), conhecidos como método de Engle-Granger e Johansen, respectivamente. A diferença entre eles ^<span class="co">[</span><span class="ot">Veja [essa discussão](https://stats.stackexchange.com/questions/125811/estimation-of-vecm-via-ml-and-ols) , e [essa segunda discussão](https://stats.stackexchange.com/questions/122684/ols-versus-ml-estimation-of-vecm) respondidas por Matifou para entender brevemente as diferenças.</span><span class="co">]</span> é que via 2-MQO tem um grande viés no estimador do primeiro estágio, o que acaba por contaminar o segundo estágio. O método de Johansen tem uma função geradora de momentos infinitos para população finita, o que provoca alta variância do estimador e, por fim, diminui a eficiência. Já que ambos consideram a combinação linear de curto-prazo $\beta$ como dada, é aconselhado ^[ <span class="co">[</span><span class="ot">Estimation of VECM via ML and OLS</span><span class="co">](https://stats.stackexchange.com/questions/122684/ols-versus-ml-estimation-of-vecm)</span> ] usar o 2-MQO por envolver somente uma única coimbinação linear independente (posto = 1). Embora a estimação com 2-MQO resultou em AIC e BIC menores que com MV, a variabilidade de resultados dos estimadores e significâncias estatísticas deste último é maior que a estimação com 2-MQO: estimei várias versões VECM com constante ou trend na relação de longo prazo ou na de curto-prazo. De todos os modelos testados (recomendo as comparações como exercício), o seginte modelo apresentou os maiores AIC e BIC:</span>
<span id="cb95-937"><a href="#cb95-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-940"><a href="#cb95-940" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb95-941"><a href="#cb95-941" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="ot">&lt;-</span> tsDyn<span class="sc">::</span><span class="fu">VECM</span>(</span>
<span id="cb95-942"><a href="#cb95-942" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(ipca_log, cambio_log,petro_log),</span>
<span id="cb95-943"><a href="#cb95-943" aria-hidden="true" tabindex="-1"></a>    <span class="at">lag =</span> <span class="dv">1</span>,</span>
<span id="cb95-944"><a href="#cb95-944" aria-hidden="true" tabindex="-1"></a>    <span class="at">r=</span><span class="dv">1</span>,</span>
<span id="cb95-945"><a href="#cb95-945" aria-hidden="true" tabindex="-1"></a>    <span class="at">include =</span> <span class="st">"none"</span>,</span>
<span id="cb95-946"><a href="#cb95-946" aria-hidden="true" tabindex="-1"></a>    <span class="at">estim =</span> <span class="st">"2OLS"</span>,</span>
<span id="cb95-947"><a href="#cb95-947" aria-hidden="true" tabindex="-1"></a>    <span class="at">LRinclude =</span> <span class="st">"none"</span></span>
<span id="cb95-948"><a href="#cb95-948" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-949"><a href="#cb95-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-950"><a href="#cb95-950" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span>
<span id="cb95-951"><a href="#cb95-951" aria-hidden="true" tabindex="-1"></a>vecm3 <span class="sc">|&gt;</span> <span class="fu">summary</span>(<span class="at">equation=</span><span class="st">"ipca_log"</span>)</span>
<span id="cb95-952"><a href="#cb95-952" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-953"><a href="#cb95-953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-954"><a href="#cb95-954" aria-hidden="true" tabindex="-1"></a>Representado do modo matricial como:</span>
<span id="cb95-955"><a href="#cb95-955" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-956"><a href="#cb95-956" aria-hidden="true" tabindex="-1"></a>$$ \Delta X_t = \Pi X_{t-1} + \Gamma_1 \Delta X_{t-1} + \epsilon_t $$</span>
<span id="cb95-957"><a href="#cb95-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-958"><a href="#cb95-958" aria-hidden="true" tabindex="-1"></a>com:</span>
<span id="cb95-959"><a href="#cb95-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-960"><a href="#cb95-960" aria-hidden="true" tabindex="-1"></a>$$ \Pi = \alpha \beta^{‘} $$</span>
<span id="cb95-961"><a href="#cb95-961" aria-hidden="true" tabindex="-1"></a>sendo $\alpha$ a velocidadde de ajuste e $\beta$ o vetor de cointegração que, nesse caso, é único. Portanto:</span>
<span id="cb95-962"><a href="#cb95-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-963"><a href="#cb95-963" aria-hidden="true" tabindex="-1"></a>$$ \Delta X_t = \begin{bmatrix}  .0004 <span class="sc">\\</span> -.0006 <span class="sc">\\</span>  .0254 \end{bmatrix}</span>
<span id="cb95-964"><a href="#cb95-964" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-965"><a href="#cb95-965" aria-hidden="true" tabindex="-1"></a>1 <span class="sc">\\</span> -1.5893 <span class="sc">\\</span> -1.6114</span>
<span id="cb95-966"><a href="#cb95-966" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}^{'}</span>
<span id="cb95-967"><a href="#cb95-967" aria-hidden="true" tabindex="-1"></a>X_{t-1} </span>
<span id="cb95-968"><a href="#cb95-968" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span></span>
<span id="cb95-969"><a href="#cb95-969" aria-hidden="true" tabindex="-1"></a>\begin{bmatrix}</span>
<span id="cb95-970"><a href="#cb95-970" aria-hidden="true" tabindex="-1"></a>.8471  &amp;  .0232 &amp;  .0072 <span class="sc">\\</span></span>
<span id="cb95-971"><a href="#cb95-971" aria-hidden="true" tabindex="-1"></a>.2106  &amp;  .3311 &amp; -.0489 <span class="sc">\\</span></span>
<span id="cb95-972"><a href="#cb95-972" aria-hidden="true" tabindex="-1"></a>.9128  &amp; -.3765 &amp;  .2636 </span>
<span id="cb95-973"><a href="#cb95-973" aria-hidden="true" tabindex="-1"></a>\end{bmatrix}</span>
<span id="cb95-974"><a href="#cb95-974" aria-hidden="true" tabindex="-1"></a>\Delta X_{t-1} + \epsilon_t $$</span>
<span id="cb95-975"><a href="#cb95-975" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-976"><a href="#cb95-976" aria-hidden="true" tabindex="-1"></a>Portanto, o termo de correção de erros $ECT = \beta^{‘} X_{t-1}$ ficou com a trajetória representada no gráfico abaixo. O termo ETC tem valores negativos para o câmbio e o Petróleo (-1.5893 e -1.6114) e a velocidade de ajuste ($\alpha$) positiva nas equações do IPCA e do Petróleo (a única com coeficiente significativo a 10%) e negativa na do câmbio (.0004,-.0007,.0267).    </span>
<span id="cb95-977"><a href="#cb95-977" aria-hidden="true" tabindex="-1"></a>Para ter noção do que ocorre no modelo, por exemplo, uma inovação unitária no log do preço internacional do petróleo afetaria a equação do log do IPCA de duas formas: pelo próprio coeficiente do petróleo ($.0072$) e pelos termos da ECT e $\alpha$: $-1.6114 \times .0004 = -.0006$. O saldo do choque +1 no log do preço internacional do petróleo no log do IPCA seria $+.0065$ com o termo ECT funcionando como um desacelerador do impacto. A verificação gráfica desse exemplo será feita na Função Impulso-resposta.</span>
<span id="cb95-978"><a href="#cb95-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-979"><a href="#cb95-979" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-980"><a href="#cb95-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-981"><a href="#cb95-981" aria-hidden="true" tabindex="-1"></a>ect_vecm3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb95-982"><a href="#cb95-982" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb95-983"><a href="#cb95-983" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ect"</span> <span class="ot">=</span> vecm3[[<span class="st">"model"</span>]][[<span class="st">"ECT"</span>]]</span>
<span id="cb95-984"><a href="#cb95-984" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-985"><a href="#cb95-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-986"><a href="#cb95-986" aria-hidden="true" tabindex="-1"></a>plt_ECT_vecm3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ect_vecm3,</span>
<span id="cb95-987"><a href="#cb95-987" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-988"><a href="#cb95-988" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>ect,</span>
<span id="cb95-989"><a href="#cb95-989" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Error Correction Term"</span>,</span>
<span id="cb95-990"><a href="#cb95-990" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-991"><a href="#cb95-991" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-992"><a href="#cb95-992" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Termo de Ajuste do Curto-prazo (ECT) em VECM3'</span>,</span>
<span id="cb95-993"><a href="#cb95-993" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-994"><a href="#cb95-994" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-995"><a href="#cb95-995" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-996"><a href="#cb95-996" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-997"><a href="#cb95-997" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-998"><a href="#cb95-998" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log"</span>,</span>
<span id="cb95-999"><a href="#cb95-999" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1000"><a href="#cb95-1000" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1001"><a href="#cb95-1001" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1002"><a href="#cb95-1002" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1003"><a href="#cb95-1003" aria-hidden="true" tabindex="-1"></a>plt_ECT_vecm3</span>
<span id="cb95-1004"><a href="#cb95-1004" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1005"><a href="#cb95-1005" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1006"><a href="#cb95-1006" aria-hidden="true" tabindex="-1"></a>E a comparação entre o IPCA realizado e estimado ficou como:</span>
<span id="cb95-1007"><a href="#cb95-1007" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1008"><a href="#cb95-1008" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-1009"><a href="#cb95-1009" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparing IPCA</span></span>
<span id="cb95-1010"><a href="#cb95-1010" aria-hidden="true" tabindex="-1"></a>realz_fit_vecm3 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb95-1011"><a href="#cb95-1011" aria-hidden="true" tabindex="-1"></a>    dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dt),</span>
<span id="cb95-1012"><a href="#cb95-1012" aria-hidden="true" tabindex="-1"></a>    <span class="st">"realiz_ipca"</span> <span class="ot">=</span> vecm3[[<span class="st">"model"</span>]] <span class="sc">|&gt;</span> </span>
<span id="cb95-1013"><a href="#cb95-1013" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">pull</span>(<span class="st">`</span><span class="at">ipca_log -1</span><span class="st">`</span>),</span>
<span id="cb95-1014"><a href="#cb95-1014" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fit_ipca"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,vecm3[[<span class="st">"fitted.values"</span>]] <span class="sc">|&gt;</span></span>
<span id="cb95-1015"><a href="#cb95-1015" aria-hidden="true" tabindex="-1"></a>                            dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">pull</span>(ipca_log))</span>
<span id="cb95-1016"><a href="#cb95-1016" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-1017"><a href="#cb95-1017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1018"><a href="#cb95-1018" aria-hidden="true" tabindex="-1"></a>plt_ipca_vecm3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(realz_fit_vecm3,</span>
<span id="cb95-1019"><a href="#cb95-1019" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1020"><a href="#cb95-1020" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>realiz_ipca,</span>
<span id="cb95-1021"><a href="#cb95-1021" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IPCA"</span>,</span>
<span id="cb95-1022"><a href="#cb95-1022" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#551a8b"</span>, <span class="at">width =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1023"><a href="#cb95-1023" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="fu">as.Date</span>(dt), <span class="at">y =</span> <span class="sc">~</span>fit_ipca,</span>
<span id="cb95-1024"><a href="#cb95-1024" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"Fitted"</span>,</span>
<span id="cb95-1025"><a href="#cb95-1025" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"#0e0417"</span>, <span class="at">width =</span> <span class="dv">2</span>, <span class="at">dash =</span> <span class="st">'dot'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1026"><a href="#cb95-1026" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">showlegend =</span> T,</span>
<span id="cb95-1027"><a href="#cb95-1027" aria-hidden="true" tabindex="-1"></a>             <span class="at">title=</span><span class="st">'Dif(Log(IPCA)) Realizado e Estimado em VECM3'</span>,</span>
<span id="cb95-1028"><a href="#cb95-1028" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">rangeslider =</span> <span class="fu">list</span>(<span class="at">visible =</span> T),</span>
<span id="cb95-1029"><a href="#cb95-1029" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Data"</span>,</span>
<span id="cb95-1030"><a href="#cb95-1030" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1031"><a href="#cb95-1031" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1032"><a href="#cb95-1032" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1033"><a href="#cb95-1033" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif Log IPCA"</span>,</span>
<span id="cb95-1034"><a href="#cb95-1034" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1035"><a href="#cb95-1035" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1036"><a href="#cb95-1036" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1037"><a href="#cb95-1037" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1038"><a href="#cb95-1038" aria-hidden="true" tabindex="-1"></a>plt_ipca_vecm3</span>
<span id="cb95-1039"><a href="#cb95-1039" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1040"><a href="#cb95-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1041"><a href="#cb95-1041" aria-hidden="true" tabindex="-1"></a>Cabe aqui realizar os mesmos diagnósticos de resíduos para ver como se comporta a estimação do VECM feita.</span>
<span id="cb95-1042"><a href="#cb95-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1043"><a href="#cb95-1043" aria-hidden="true" tabindex="-1"></a><span class="fu"># Formas Estruturais</span></span>
<span id="cb95-1044"><a href="#cb95-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1045"><a href="#cb95-1045" aria-hidden="true" tabindex="-1"></a>Existem várias formas de recuperar os erros estruturais dos sistemas na sua forma reduzida. A primeira aprendida nos cursos de Econometria das Séries de Tempo é a **Decomposição de Cholesky** para o VAR, onde, importanto o ordenamento das variáveis no sistema, faz-se, ou de $A^{-1}$ ou de $B$, em, $\hat e = A^{-1}B_{\sigma}\hat\epsilon_{t}$, uma matriz triangular-inferior, substituindo por zeros os elementos da parte superior à diagonal principal.    </span>
<span id="cb95-1046"><a href="#cb95-1046" aria-hidden="true" tabindex="-1"></a>Para fazer restrições em A ou em B, devemos impor $K(K-1)/2$ restrições, com K sendo o número de variáveis participantes do modelo, no caso, K=2 para o VAR.A outra matriz que não é escolhida para ser restringida se torna uma matriz identidade. Para fazer restrições em ambas as matrizes, A e B, devemos impor $K^2 + K(K-1)/2$ restrições.     </span>
<span id="cb95-1047"><a href="#cb95-1047" aria-hidden="true" tabindex="-1"></a>Para ambos os modelos, VAR2(1) (k=2) e VECM (k=4), vamos usar a suposição de que o Preço Internacional do Petróleo em Reais afeta o IPCA mas não é afetado por esse. Em termos operacionais, vamos impor uma ($2(2-1)/2 = 1$) restrição em $A^{-1}$. Também vamos supor que existem choques em demais variáveis não consideradas nesse modelo, portanto, contidas nos erros, que afetem IPCA, US\$Petro e Câmbio, ou seja, vamos manter a matriz de covariâncias $B = I_K$.    </span>
<span id="cb95-1048"><a href="#cb95-1048" aria-hidden="true" tabindex="-1"></a>Para recuperar os erros estruturais do VECM, usa-se o sistema numa Decomposição de Beveridge-Nelson, uma decomposição alternativa à Decomposição Multiplicativa Clássica, feita anteriormente:</span>
<span id="cb95-1049"><a href="#cb95-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1050"><a href="#cb95-1050" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1051"><a href="#cb95-1051" aria-hidden="true" tabindex="-1"></a>y_{t} = \Xi \sum_{i=1}^{t}u_i + \sum_{j=1}^{\infty} \Xi_j^* u_{t-j} + y_{0}^{*}</span>
<span id="cb95-1052"><a href="#cb95-1052" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1053"><a href="#cb95-1053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1054"><a href="#cb95-1054" aria-hidden="true" tabindex="-1"></a>Onde o primeiro termo do lado direto da equação refere-se às tendências comuns do sistema, onde os efeitos de longo prazo dos choques são capturados. O segundo termo é integrado de ordem zero ($I(0)$) e é suposto que a soma infinita de $ \Xi_j^*$ converge para zero à medida que $j \rightarrow \infty$. Por causa de seu posto reduzido, $\Xi$ tem apenas K-r tendências comuns. Portanto, conhecendo o posto de $\Pi$, pode-se concluir que, no máximo, r dos erros estruturais podem ter um efeito transitório. Isso implica que no máximo r colunas de $\Xi$ podem ser definidas como zero.   </span>
<span id="cb95-1055"><a href="#cb95-1055" aria-hidden="true" tabindex="-1"></a>Em termos dos erros da forma reduzida, as tendências comuns são $\Xi B \sum_{t=1}^{\infty} \epsilon_t$ e os efeitos de longo prazo dos choques estruturais são capturadas por $\Xi B$, onde o efeito contemporâneo é capturada pela matriz B, que receberá nenhuma restrição ($r(r-1)/2 = 0$).   </span>
<span id="cb95-1056"><a href="#cb95-1056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1057"><a href="#cb95-1057" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=7, fig.width=9}</span></span>
<span id="cb95-1058"><a href="#cb95-1058" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de coeficientes estimados. para modelos -A ou -AB do VAR</span></span>
<span id="cb95-1059"><a href="#cb95-1059" aria-hidden="true" tabindex="-1"></a>A_var <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">2</span>, <span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb95-1060"><a href="#cb95-1060" aria-hidden="true" tabindex="-1"></a>A_var[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb95-1061"><a href="#cb95-1061" aria-hidden="true" tabindex="-1"></a>A_var</span>
<span id="cb95-1062"><a href="#cb95-1062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1063"><a href="#cb95-1063" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de impacto de longo prazo estimada do VECM.</span></span>
<span id="cb95-1064"><a href="#cb95-1064" aria-hidden="true" tabindex="-1"></a>LR_vecm <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">3</span>, <span class="at">ncol=</span><span class="dv">3</span>) </span>
<span id="cb95-1065"><a href="#cb95-1065" aria-hidden="true" tabindex="-1"></a>LR_vecm[<span class="dv">3</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb95-1066"><a href="#cb95-1066" aria-hidden="true" tabindex="-1"></a>LR_vecm[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb95-1067"><a href="#cb95-1067" aria-hidden="true" tabindex="-1"></a>LR_vecm</span>
<span id="cb95-1068"><a href="#cb95-1068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1069"><a href="#cb95-1069" aria-hidden="true" tabindex="-1"></a><span class="co"># Matriz de impacto contemporâneo estimado do VECM.</span></span>
<span id="cb95-1070"><a href="#cb95-1070" aria-hidden="true" tabindex="-1"></a>SR_vecm <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="dv">3</span>, <span class="at">ncol=</span><span class="dv">3</span>)</span>
<span id="cb95-1071"><a href="#cb95-1071" aria-hidden="true" tabindex="-1"></a>SR_vecm</span>
<span id="cb95-1072"><a href="#cb95-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1073"><a href="#cb95-1073" aria-hidden="true" tabindex="-1"></a>svar <span class="ot">&lt;-</span> <span class="fu">SVAR</span>(var2, <span class="at">Amat=</span>A_var, <span class="at">estmethod=</span><span class="st">"direct"</span>, <span class="at">lrtest=</span>F)</span>
<span id="cb95-1074"><a href="#cb95-1074" aria-hidden="true" tabindex="-1"></a>svec <span class="ot">&lt;-</span>  <span class="fu">SVEC</span>(johansen_var1_max,</span>
<span id="cb95-1075"><a href="#cb95-1075" aria-hidden="true" tabindex="-1"></a>                  <span class="at">LR =</span> LR_vecm, <span class="at">SR =</span> SR_vecm, <span class="at">r =</span> <span class="dv">1</span>,</span>
<span id="cb95-1076"><a href="#cb95-1076" aria-hidden="true" tabindex="-1"></a>                  <span class="at">lrtest=</span><span class="cn">FALSE</span>, <span class="at">boot=</span><span class="cn">TRUE</span>,<span class="at">runs=</span><span class="dv">1000</span>)</span>
<span id="cb95-1077"><a href="#cb95-1077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1078"><a href="#cb95-1078" aria-hidden="true" tabindex="-1"></a>svar <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span>
<span id="cb95-1079"><a href="#cb95-1079" aria-hidden="true" tabindex="-1"></a>svec <span class="sc">|&gt;</span> <span class="fu">summary</span>()</span>
<span id="cb95-1080"><a href="#cb95-1080" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1081"><a href="#cb95-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1082"><a href="#cb95-1082" aria-hidden="true" tabindex="-1"></a><span class="fu"># Função Impulso-resposta</span></span>
<span id="cb95-1083"><a href="#cb95-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1084"><a href="#cb95-1084" aria-hidden="true" tabindex="-1"></a>A função Impulso-resposta é o plot de $$\frac{\partial y_{t+i}}{\partial e_t} = \Theta_i$$ com $i$ na abissiça. O resultado $\Theta_i$ é uma matriz KxK de K variáveis e K choques estruturais. Ou seja, o impacto de uma inovação pontual, em $t$, pelo tempo $i$ de cada erro estrutural $e_{j,t}$ em cada variável $y_{j,t+i}$ com $j=1,...,K$.    </span>
<span id="cb95-1085"><a href="#cb95-1085" aria-hidden="true" tabindex="-1"></a>Abaixo segue as resposta em $Dif(ln( \: IPCA \:))$ de choques do próprio IPCA e de R\$ Petro. Primeiro fazemos o cálculo com <span class="in">`vars::irf()`</span>, construímos um data frame com os valores calculados e montamos com o <span class="in">`plotly`</span>.</span>
<span id="cb95-1086"><a href="#cb95-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1087"><a href="#cb95-1087" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=8}</span></span>
<span id="cb95-1088"><a href="#cb95-1088" aria-hidden="true" tabindex="-1"></a>ir_svar <span class="ot">&lt;-</span> <span class="fu">irf</span>(svar, <span class="at">response =</span> <span class="st">"ipca_log_dif"</span>, <span class="at">n.ahead =</span> <span class="dv">12</span>, <span class="at">boot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb95-1089"><a href="#cb95-1089" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o data.frame</span></span>
<span id="cb95-1090"><a href="#cb95-1090" aria-hidden="true" tabindex="-1"></a>ir_dd_svar <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb95-1091"><a href="#cb95-1091" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_u_log_dif"</span> <span class="ot">=</span> ir_svar[[<span class="st">"Upper"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1092"><a href="#cb95-1092" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_log_dif"</span>   <span class="ot">=</span> ir_svar[[<span class="st">"irf"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1093"><a href="#cb95-1093" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_l_log_dif"</span> <span class="ot">=</span> ir_svar[[<span class="st">"Lower"</span>]][[<span class="st">"ipca_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1094"><a href="#cb95-1094" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_u_log_dif"</span>  <span class="ot">=</span> ir_svar[[<span class="st">"Upper"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1095"><a href="#cb95-1095" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_log_dif"</span>    <span class="ot">=</span> ir_svar[[<span class="st">"irf"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1096"><a href="#cb95-1096" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ptr_l_log_dif"</span>  <span class="ot">=</span> ir_svar[[<span class="st">"Lower"</span>]][[<span class="st">"ptr_br_log_dif"</span>]][,<span class="dv">1</span>]</span>
<span id="cb95-1097"><a href="#cb95-1097" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-1098"><a href="#cb95-1098" aria-hidden="true" tabindex="-1"></a><span class="co"># plot do impulso-resposta</span></span>
<span id="cb95-1099"><a href="#cb95-1099" aria-hidden="true" tabindex="-1"></a>ir_svar_plt1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svar, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1100"><a href="#cb95-1100" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_u_log_dif,</span>
<span id="cb95-1101"><a href="#cb95-1101" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb95-1102"><a href="#cb95-1102" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1103"><a href="#cb95-1103" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1104"><a href="#cb95-1104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_l_log_dif,</span>
<span id="cb95-1105"><a href="#cb95-1105" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb95-1106"><a href="#cb95-1106" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1107"><a href="#cb95-1107" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0,100,80,0.2)'</span>,</span>
<span id="cb95-1108"><a href="#cb95-1108" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1109"><a href="#cb95-1109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_log_dif,</span>
<span id="cb95-1110"><a href="#cb95-1110" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb95-1111"><a href="#cb95-1111" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1112"><a href="#cb95-1112" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0,100,80)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1113"><a href="#cb95-1113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVAR Impulso-resposta de IPCA no IPCA'</span>,</span>
<span id="cb95-1114"><a href="#cb95-1114" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb95-1115"><a href="#cb95-1115" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb95-1116"><a href="#cb95-1116" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1117"><a href="#cb95-1117" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1118"><a href="#cb95-1118" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1119"><a href="#cb95-1119" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb95-1120"><a href="#cb95-1120" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1121"><a href="#cb95-1121" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1122"><a href="#cb95-1122" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1123"><a href="#cb95-1123" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1124"><a href="#cb95-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1125"><a href="#cb95-1125" aria-hidden="true" tabindex="-1"></a>ir_svar_plt1</span>
<span id="cb95-1126"><a href="#cb95-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1127"><a href="#cb95-1127" aria-hidden="true" tabindex="-1"></a>ir_svar_plt2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svar, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1128"><a href="#cb95-1128" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_u_log_dif,</span>
<span id="cb95-1129"><a href="#cb95-1129" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb95-1130"><a href="#cb95-1130" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1131"><a href="#cb95-1131" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1132"><a href="#cb95-1132" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_l_log_dif,</span>
<span id="cb95-1133"><a href="#cb95-1133" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb95-1134"><a href="#cb95-1134" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1135"><a href="#cb95-1135" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0,100,80,0.2)'</span>,</span>
<span id="cb95-1136"><a href="#cb95-1136" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1137"><a href="#cb95-1137" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">13</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ptr_log_dif,</span>
<span id="cb95-1138"><a href="#cb95-1138" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb95-1139"><a href="#cb95-1139" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1140"><a href="#cb95-1140" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0,100,80)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1141"><a href="#cb95-1141" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVAR Impulso-resposta de R$ Preto no IPCA'</span>,</span>
<span id="cb95-1142"><a href="#cb95-1142" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb95-1143"><a href="#cb95-1143" aria-hidden="true" tabindex="-1"></a>                             <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb95-1144"><a href="#cb95-1144" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1145"><a href="#cb95-1145" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1146"><a href="#cb95-1146" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1147"><a href="#cb95-1147" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb95-1148"><a href="#cb95-1148" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1149"><a href="#cb95-1149" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1150"><a href="#cb95-1150" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1151"><a href="#cb95-1151" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1152"><a href="#cb95-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1153"><a href="#cb95-1153" aria-hidden="true" tabindex="-1"></a>ir_svar_plt2</span>
<span id="cb95-1154"><a href="#cb95-1154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1155"><a href="#cb95-1155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1156"><a href="#cb95-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1157"><a href="#cb95-1157" aria-hidden="true" tabindex="-1"></a>ir_svec <span class="ot">&lt;-</span> <span class="fu">irf</span>(svec, <span class="at">response =</span> <span class="st">"ipca_log"</span>, <span class="at">n.ahead =</span> <span class="dv">36</span>, <span class="at">boot =</span> <span class="cn">TRUE</span>)</span>
<span id="cb95-1158"><a href="#cb95-1158" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o data.frame</span></span>
<span id="cb95-1159"><a href="#cb95-1159" aria-hidden="true" tabindex="-1"></a>ir_dd_svec <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb95-1160"><a href="#cb95-1160" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_u_log"</span> <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1161"><a href="#cb95-1161" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_log"</span>   <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1162"><a href="#cb95-1162" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_ipca_l_log"</span> <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"ipca_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1163"><a href="#cb95-1163" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_u_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1164"><a href="#cb95-1164" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_log"</span>    <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1165"><a href="#cb95-1165" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_petro_l_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"petro_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1166"><a href="#cb95-1166" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_u_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Upper"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1167"><a href="#cb95-1167" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_log"</span>    <span class="ot">=</span> ir_svec[[<span class="st">"irf"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>],</span>
<span id="cb95-1168"><a href="#cb95-1168" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ir_cambio_l_log"</span>  <span class="ot">=</span> ir_svec[[<span class="st">"Lower"</span>]][[<span class="st">"cambio_log"</span>]][,<span class="dv">1</span>]</span>
<span id="cb95-1169"><a href="#cb95-1169" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb95-1170"><a href="#cb95-1170" aria-hidden="true" tabindex="-1"></a><span class="co"># criando o plot</span></span>
<span id="cb95-1171"><a href="#cb95-1171" aria-hidden="true" tabindex="-1"></a>ir_svec_plt1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1172"><a href="#cb95-1172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_u_log,</span>
<span id="cb95-1173"><a href="#cb95-1173" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb95-1174"><a href="#cb95-1174" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1175"><a href="#cb95-1175" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1176"><a href="#cb95-1176" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_l_log,</span>
<span id="cb95-1177"><a href="#cb95-1177" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb95-1178"><a href="#cb95-1178" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1179"><a href="#cb95-1179" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb95-1180"><a href="#cb95-1180" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1181"><a href="#cb95-1181" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_ipca_log,</span>
<span id="cb95-1182"><a href="#cb95-1182" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-IPCA"</span>,</span>
<span id="cb95-1183"><a href="#cb95-1183" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1184"><a href="#cb95-1184" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1185"><a href="#cb95-1185" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de IPCA no IPCA'</span>,</span>
<span id="cb95-1186"><a href="#cb95-1186" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb95-1187"><a href="#cb95-1187" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb95-1188"><a href="#cb95-1188" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1189"><a href="#cb95-1189" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1190"><a href="#cb95-1190" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1191"><a href="#cb95-1191" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb95-1192"><a href="#cb95-1192" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1193"><a href="#cb95-1193" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1194"><a href="#cb95-1194" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1195"><a href="#cb95-1195" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1196"><a href="#cb95-1196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1197"><a href="#cb95-1197" aria-hidden="true" tabindex="-1"></a>ir_svec_plt1</span>
<span id="cb95-1198"><a href="#cb95-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1199"><a href="#cb95-1199" aria-hidden="true" tabindex="-1"></a>ir_svec_plt2 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1200"><a href="#cb95-1200" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_u_log,</span>
<span id="cb95-1201"><a href="#cb95-1201" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb95-1202"><a href="#cb95-1202" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1203"><a href="#cb95-1203" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1204"><a href="#cb95-1204" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_l_log,</span>
<span id="cb95-1205"><a href="#cb95-1205" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb95-1206"><a href="#cb95-1206" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1207"><a href="#cb95-1207" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb95-1208"><a href="#cb95-1208" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1209"><a href="#cb95-1209" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_cambio_log,</span>
<span id="cb95-1210"><a href="#cb95-1210" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-Câmbio"</span>,</span>
<span id="cb95-1211"><a href="#cb95-1211" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1212"><a href="#cb95-1212" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1213"><a href="#cb95-1213" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de Câmbio no IPCA'</span>,</span>
<span id="cb95-1214"><a href="#cb95-1214" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb95-1215"><a href="#cb95-1215" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb95-1216"><a href="#cb95-1216" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1217"><a href="#cb95-1217" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1218"><a href="#cb95-1218" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1219"><a href="#cb95-1219" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb95-1220"><a href="#cb95-1220" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1221"><a href="#cb95-1221" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1222"><a href="#cb95-1222" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1223"><a href="#cb95-1223" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1224"><a href="#cb95-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1225"><a href="#cb95-1225" aria-hidden="true" tabindex="-1"></a>ir_svec_plt2</span>
<span id="cb95-1226"><a href="#cb95-1226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1227"><a href="#cb95-1227" aria-hidden="true" tabindex="-1"></a>ir_svec_plt3 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(ir_dd_svec, <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1228"><a href="#cb95-1228" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_u_log,</span>
<span id="cb95-1229"><a href="#cb95-1229" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Sup"</span>,</span>
<span id="cb95-1230"><a href="#cb95-1230" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1231"><a href="#cb95-1231" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1232"><a href="#cb95-1232" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_l_log,</span>
<span id="cb95-1233"><a href="#cb95-1233" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IC Inf"</span>,</span>
<span id="cb95-1234"><a href="#cb95-1234" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1235"><a href="#cb95-1235" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">'tonexty'</span>, <span class="at">fillcolor=</span><span class="st">'rgba(0, 104, 201,0.2)'</span>,</span>
<span id="cb95-1236"><a href="#cb95-1236" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'transparent'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1237"><a href="#cb95-1237" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">:</span><span class="dv">37</span>, <span class="at">y =</span> <span class="sc">~</span>ir_petro_log,</span>
<span id="cb95-1238"><a href="#cb95-1238" aria-hidden="true" tabindex="-1"></a>                 <span class="at">name =</span> <span class="st">"IR-Câmbio"</span>,</span>
<span id="cb95-1239"><a href="#cb95-1239" aria-hidden="true" tabindex="-1"></a>                 <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb95-1240"><a href="#cb95-1240" aria-hidden="true" tabindex="-1"></a>                 <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color=</span><span class="st">'rgb(0, 104, 201)'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1241"><a href="#cb95-1241" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">'SVEC Impulso-resposta de US$ Petro no IPCA'</span>,</span>
<span id="cb95-1242"><a href="#cb95-1242" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="co">#rangeslider = list(visible = T),</span></span>
<span id="cb95-1243"><a href="#cb95-1243" aria-hidden="true" tabindex="-1"></a>                <span class="at">title =</span> <span class="st">"Meses"</span>,</span>
<span id="cb95-1244"><a href="#cb95-1244" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1245"><a href="#cb95-1245" aria-hidden="true" tabindex="-1"></a>                <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1246"><a href="#cb95-1246" aria-hidden="true" tabindex="-1"></a>                <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1247"><a href="#cb95-1247" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Impacto em Dif(Log(IPCA))"</span>,</span>
<span id="cb95-1248"><a href="#cb95-1248" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinecolor =</span> <span class="st">'#ffff'</span>,</span>
<span id="cb95-1249"><a href="#cb95-1249" aria-hidden="true" tabindex="-1"></a>                             <span class="at">zerolinewidth =</span> <span class="dv">2</span>,</span>
<span id="cb95-1250"><a href="#cb95-1250" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gridcolor =</span> <span class="st">'ffff'</span>),</span>
<span id="cb95-1251"><a href="#cb95-1251" aria-hidden="true" tabindex="-1"></a>             <span class="at">plot_bgcolor=</span><span class="st">'#e5ecf6'</span>)</span>
<span id="cb95-1252"><a href="#cb95-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1253"><a href="#cb95-1253" aria-hidden="true" tabindex="-1"></a>ir_svec_plt3</span>
<span id="cb95-1254"><a href="#cb95-1254" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1255"><a href="#cb95-1255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1256"><a href="#cb95-1256" aria-hidden="true" tabindex="-1"></a><span class="fu"># Decomposição da Variância do Erro</span></span>
<span id="cb95-1257"><a href="#cb95-1257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1258"><a href="#cb95-1258" aria-hidden="true" tabindex="-1"></a>A decomposição da Variância do erro mede o quanto da variância do erro de previsão ou erro quadrático médio de previsão (MSPE) de $y_{t+i}$ no horizonte $i = 0,1,...,H$ é contabilizado por cada choque estrutural $e_{j,t}$. A variância é dado por:</span>
<span id="cb95-1259"><a href="#cb95-1259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1260"><a href="#cb95-1260" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1261"><a href="#cb95-1261" aria-hidden="true" tabindex="-1"></a>MSPE(h) ≡ E<span class="co">[</span><span class="ot">(y_{t+i} − y_{t+i|t} )(y_{t+i} − y_{t+i|t} ) </span><span class="co">]</span> = \sum_{j=0}^{i-1} \Theta_j\Theta^{'}_j </span>
<span id="cb95-1262"><a href="#cb95-1262" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1263"><a href="#cb95-1263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1264"><a href="#cb95-1264" aria-hidden="true" tabindex="-1"></a>Com o mesmo $\Theta_i$ calculado na seção anterior.   </span>
<span id="cb95-1265"><a href="#cb95-1265" aria-hidden="true" tabindex="-1"></a>Primeiramente, calculamos a decomposição com <span class="in">`vars::fevd()`</span> para a variável $Dif(ln( \: IPCA \:))$ do modelo SVAR e $ln( \: IPCA \:)$ do modelo SVECM, montamos o data frame e construímos a visualização com o <span class="in">`plotly`</span>. Passe o mouse por cima do gráfico para visualiza os valores.    </span>
<span id="cb95-1266"><a href="#cb95-1266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1267"><a href="#cb95-1267" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=4, fig.width=8}</span></span>
<span id="cb95-1268"><a href="#cb95-1268" aria-hidden="true" tabindex="-1"></a>fevd_svar_ipca <span class="ot">&lt;-</span> <span class="fu">fevd</span>(svar, <span class="at">n.ahead =</span> <span class="dv">24</span>)<span class="sc">$</span>ipca_log_dif</span>
<span id="cb95-1269"><a href="#cb95-1269" aria-hidden="true" tabindex="-1"></a>fevd_svar_ipca <span class="ot">&lt;-</span> fevd_svar_ipca <span class="sc">|&gt;</span> </span>
<span id="cb95-1270"><a href="#cb95-1270" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">add_column</span>(<span class="st">"m"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb95-1271"><a href="#cb95-1271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1272"><a href="#cb95-1272" aria-hidden="true" tabindex="-1"></a>fevd_svar_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(fevd_svar_ipca, <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1273"><a href="#cb95-1273" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ipca_log_dif,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb95-1274"><a href="#cb95-1274" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009779'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1275"><a href="#cb95-1275" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ptr_br_log_dif, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb95-1276"><a href="#cb95-1276" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ca0028'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1277"><a href="#cb95-1277" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Variância SVAR no IPCA"</span>,</span>
<span id="cb95-1278"><a href="#cb95-1278" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb95-1279"><a href="#cb95-1279" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb95-1280"><a href="#cb95-1280" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb95-1281"><a href="#cb95-1281" aria-hidden="true" tabindex="-1"></a>fevd_svar_plt</span>
<span id="cb95-1282"><a href="#cb95-1282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1283"><a href="#cb95-1283" aria-hidden="true" tabindex="-1"></a>fevd_svec_ipca <span class="ot">&lt;-</span> <span class="fu">fevd</span>(svec, <span class="at">n.ahead =</span> <span class="dv">24</span>)<span class="sc">$</span>ipca_log</span>
<span id="cb95-1284"><a href="#cb95-1284" aria-hidden="true" tabindex="-1"></a>fevd_svec_ipca <span class="ot">&lt;-</span> fevd_svec_ipca <span class="sc">|&gt;</span> </span>
<span id="cb95-1285"><a href="#cb95-1285" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> <span class="fu">add_column</span>(<span class="st">"m"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb95-1286"><a href="#cb95-1286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1287"><a href="#cb95-1287" aria-hidden="true" tabindex="-1"></a>fevd_svec_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(fevd_svec_ipca, <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1288"><a href="#cb95-1288" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>ipca_log,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb95-1289"><a href="#cb95-1289" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009ac9'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1290"><a href="#cb95-1290" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>cambio_log, <span class="at">name=</span><span class="st">"Câmbio"</span>,</span>
<span id="cb95-1291"><a href="#cb95-1291" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#00c950'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1292"><a href="#cb95-1292" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>petro_log, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb95-1293"><a href="#cb95-1293" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ff922c'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1294"><a href="#cb95-1294" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Variância SVEC no IPCA"</span>,</span>
<span id="cb95-1295"><a href="#cb95-1295" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb95-1296"><a href="#cb95-1296" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb95-1297"><a href="#cb95-1297" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb95-1298"><a href="#cb95-1298" aria-hidden="true" tabindex="-1"></a>fevd_svec_plt</span>
<span id="cb95-1299"><a href="#cb95-1299" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1300"><a href="#cb95-1300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1301"><a href="#cb95-1301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1302"><a href="#cb95-1302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1303"><a href="#cb95-1303" aria-hidden="true" tabindex="-1"></a><span class="fu"># Decomposição Histórica</span></span>
<span id="cb95-1304"><a href="#cb95-1304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1305"><a href="#cb95-1305" aria-hidden="true" tabindex="-1"></a>A Decomposição Histórica, por sua vez, quantifica o quanto um determinado choque estrutural explica as flutuações observadas historicamente nas variáveis VAR, ou seja, mostra o efeito cumulativo de um determinado choque estrutural sobre cada variável em cada ponto no tempo. O cálculo é feito seguindo as mesmas equações dos cálculos anteriores, do Impulso-resposta e da Decomposição do Erro:</span>
<span id="cb95-1306"><a href="#cb95-1306" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1307"><a href="#cb95-1307" aria-hidden="true" tabindex="-1"></a>\hat y_{t} = \sum^{t-1}_{i=0} \Theta_i e_{t-i}</span>
<span id="cb95-1308"><a href="#cb95-1308" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb95-1309"><a href="#cb95-1309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1310"><a href="#cb95-1310" aria-hidden="true" tabindex="-1"></a>As três funçõs que uso no exercício (<span class="in">`VARhd(·)`</span>) foram feitas por <span class="co">[</span><span class="ot">Daniel Ryback</span><span class="co">](https://stackoverflow.com/questions/36950491/historical-decomposition-in-r)</span>. </span>
<span id="cb95-1311"><a href="#cb95-1311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1312"><a href="#cb95-1312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1313"><a href="#cb95-1313" aria-hidden="true" tabindex="-1"></a><span class="in">```{r message=FALSE, warning=FALSE, include=FALSE}</span></span>
<span id="cb95-1314"><a href="#cb95-1314" aria-hidden="true" tabindex="-1"></a>VARmakexy <span class="ot">&lt;-</span> <span class="cf">function</span>(DATA,lags,c_case){</span>
<span id="cb95-1315"><a href="#cb95-1315" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1316"><a href="#cb95-1316" aria-hidden="true" tabindex="-1"></a>    nobs <span class="ot">&lt;-</span> <span class="fu">nrow</span>(DATA)</span>
<span id="cb95-1317"><a href="#cb95-1317" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1318"><a href="#cb95-1318" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Y matrix </span></span>
<span id="cb95-1319"><a href="#cb95-1319" aria-hidden="true" tabindex="-1"></a>    Y <span class="ot">&lt;-</span> DATA[(lags<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span><span class="fu">nrow</span>(DATA),]</span>
<span id="cb95-1320"><a href="#cb95-1320" aria-hidden="true" tabindex="-1"></a>    Y <span class="ot">&lt;-</span> DATA[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>lags),]</span>
<span id="cb95-1321"><a href="#cb95-1321" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1322"><a href="#cb95-1322" aria-hidden="true" tabindex="-1"></a>    <span class="co">#X-matrix </span></span>
<span id="cb95-1323"><a href="#cb95-1323" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (c_case<span class="sc">==</span><span class="dv">0</span>){</span>
<span id="cb95-1324"><a href="#cb95-1324" aria-hidden="true" tabindex="-1"></a>        X <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb95-1325"><a href="#cb95-1325" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (jj <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(lags<span class="dv">-1</span>)){</span>
<span id="cb95-1326"><a href="#cb95-1326" aria-hidden="true" tabindex="-1"></a>            X <span class="ot">&lt;-</span> <span class="fu">rbind</span>(DATA[(jj<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(nobs<span class="sc">-</span>lags<span class="sc">+</span>jj),])</span>
<span id="cb95-1327"><a href="#cb95-1327" aria-hidden="true" tabindex="-1"></a>        } </span>
<span id="cb95-1328"><a href="#cb95-1328" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span>(c_case<span class="sc">==</span><span class="dv">1</span>){ <span class="co">#constant</span></span>
<span id="cb95-1329"><a href="#cb95-1329" aria-hidden="true" tabindex="-1"></a>        X <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb95-1330"><a href="#cb95-1330" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (jj <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(lags<span class="dv">-1</span>)){</span>
<span id="cb95-1331"><a href="#cb95-1331" aria-hidden="true" tabindex="-1"></a>            X <span class="ot">&lt;-</span> <span class="fu">rbind</span>(DATA[(jj<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(nobs<span class="sc">-</span>lags<span class="sc">+</span>jj),])</span>
<span id="cb95-1332"><a href="#cb95-1332" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb95-1333"><a href="#cb95-1333" aria-hidden="true" tabindex="-1"></a>        X <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">matrix</span>(<span class="dv">1</span>,(nobs<span class="sc">-</span>lags),<span class="dv">1</span>), X) </span>
<span id="cb95-1334"><a href="#cb95-1334" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span>(c_case<span class="sc">==</span><span class="dv">2</span>){ <span class="co"># time trend and constant</span></span>
<span id="cb95-1335"><a href="#cb95-1335" aria-hidden="true" tabindex="-1"></a>        X <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb95-1336"><a href="#cb95-1336" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (jj <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span>(lags<span class="dv">-1</span>)){</span>
<span id="cb95-1337"><a href="#cb95-1337" aria-hidden="true" tabindex="-1"></a>            X <span class="ot">&lt;-</span> <span class="fu">rbind</span>(DATA[(jj<span class="sc">+</span><span class="dv">1</span>)<span class="sc">:</span>(nobs<span class="sc">-</span>lags<span class="sc">+</span>jj),])</span>
<span id="cb95-1338"><a href="#cb95-1338" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb95-1339"><a href="#cb95-1339" aria-hidden="true" tabindex="-1"></a>        trend <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(X))</span>
<span id="cb95-1340"><a href="#cb95-1340" aria-hidden="true" tabindex="-1"></a>        X <span class="ot">&lt;-</span><span class="fu">cbind</span>(<span class="fu">matrix</span>(<span class="dv">1</span>,(nobs<span class="sc">-</span>lags),<span class="dv">1</span>), <span class="fu">t</span>(trend))</span>
<span id="cb95-1341"><a href="#cb95-1341" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb95-1342"><a href="#cb95-1342" aria-hidden="true" tabindex="-1"></a>    A <span class="ot">&lt;-</span> (<span class="fu">t</span>(X) <span class="sc">%*%</span> <span class="fu">as.matrix</span>(X)) </span>
<span id="cb95-1343"><a href="#cb95-1343" aria-hidden="true" tabindex="-1"></a>    B <span class="ot">&lt;-</span> (<span class="fu">as.matrix</span>(<span class="fu">t</span>(X)) <span class="sc">%*%</span> <span class="fu">as.matrix</span>(Y))</span>
<span id="cb95-1344"><a href="#cb95-1344" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1345"><a href="#cb95-1345" aria-hidden="true" tabindex="-1"></a>    Ft <span class="ot">&lt;-</span> <span class="fu">ginv</span>(A) <span class="sc">%*%</span> B</span>
<span id="cb95-1346"><a href="#cb95-1346" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1347"><a href="#cb95-1347" aria-hidden="true" tabindex="-1"></a>    retu <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">X=</span>X,<span class="at">Y=</span>Y, <span class="at">Ft=</span>Ft)</span>
<span id="cb95-1348"><a href="#cb95-1348" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(retu)</span>
<span id="cb95-1349"><a href="#cb95-1349" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb95-1350"><a href="#cb95-1350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1351"><a href="#cb95-1351" aria-hidden="true" tabindex="-1"></a>companionmatrix <span class="ot">&lt;-</span> <span class="cf">function</span> (x) </span>
<span id="cb95-1352"><a href="#cb95-1352" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb95-1353"><a href="#cb95-1353" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span>(<span class="fu">class</span>(x) <span class="sc">==</span> <span class="st">"varest"</span>)) {</span>
<span id="cb95-1354"><a href="#cb95-1354" aria-hidden="true" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Please provide an object of class 'varest', generated by 'VAR()'.</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb95-1355"><a href="#cb95-1355" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb95-1356"><a href="#cb95-1356" aria-hidden="true" tabindex="-1"></a>    K <span class="ot">&lt;-</span> x<span class="sc">$</span>K</span>
<span id="cb95-1357"><a href="#cb95-1357" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> x<span class="sc">$</span>p</span>
<span id="cb95-1358"><a href="#cb95-1358" aria-hidden="true" tabindex="-1"></a>    A <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">Acoef</span>(x))</span>
<span id="cb95-1359"><a href="#cb95-1359" aria-hidden="true" tabindex="-1"></a>    companion <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> K <span class="sc">*</span> p, <span class="at">ncol =</span> K <span class="sc">*</span> p)</span>
<span id="cb95-1360"><a href="#cb95-1360" aria-hidden="true" tabindex="-1"></a>    companion[<span class="dv">1</span><span class="sc">:</span>K, <span class="dv">1</span><span class="sc">:</span>(K <span class="sc">*</span> p)] <span class="ot">&lt;-</span> A</span>
<span id="cb95-1361"><a href="#cb95-1361" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (p <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb95-1362"><a href="#cb95-1362" aria-hidden="true" tabindex="-1"></a>        j <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb95-1363"><a href="#cb95-1363" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (i <span class="cf">in</span> (K <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">:</span>(K <span class="sc">*</span> p)) {</span>
<span id="cb95-1364"><a href="#cb95-1364" aria-hidden="true" tabindex="-1"></a>            j <span class="ot">&lt;-</span> j <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb95-1365"><a href="#cb95-1365" aria-hidden="true" tabindex="-1"></a>            companion[i, j] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb95-1366"><a href="#cb95-1366" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb95-1367"><a href="#cb95-1367" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb95-1368"><a href="#cb95-1368" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(companion)</span>
<span id="cb95-1369"><a href="#cb95-1369" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb95-1370"><a href="#cb95-1370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1371"><a href="#cb95-1371" aria-hidden="true" tabindex="-1"></a>VARhd <span class="ot">&lt;-</span> <span class="cf">function</span>(Estimation){</span>
<span id="cb95-1372"><a href="#cb95-1372" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1373"><a href="#cb95-1373" aria-hidden="true" tabindex="-1"></a>    <span class="do">## make X and Y</span></span>
<span id="cb95-1374"><a href="#cb95-1374" aria-hidden="true" tabindex="-1"></a>    nlag    <span class="ot">&lt;-</span> Estimation<span class="sc">$</span>p   <span class="co"># number of lags</span></span>
<span id="cb95-1375"><a href="#cb95-1375" aria-hidden="true" tabindex="-1"></a>    DATA    <span class="ot">&lt;-</span> Estimation<span class="sc">$</span>y   <span class="co"># data</span></span>
<span id="cb95-1376"><a href="#cb95-1376" aria-hidden="true" tabindex="-1"></a>    QQ      <span class="ot">&lt;-</span> <span class="fu">VARmakexy</span>(DATA,nlag,<span class="dv">1</span>)</span>
<span id="cb95-1377"><a href="#cb95-1377" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1378"><a href="#cb95-1378" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1379"><a href="#cb95-1379" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Retrieve and initialize variables </span></span>
<span id="cb95-1380"><a href="#cb95-1380" aria-hidden="true" tabindex="-1"></a>    invA    <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">chol</span>(<span class="fu">as.matrix</span>(<span class="fu">summary</span>(Estimation)<span class="sc">$</span>covres)))   <span class="co"># inverse of the A matrix</span></span>
<span id="cb95-1381"><a href="#cb95-1381" aria-hidden="true" tabindex="-1"></a>    Fcomp   <span class="ot">&lt;-</span> <span class="fu">companionmatrix</span>(Estimation)                      <span class="co"># Companion matrix</span></span>
<span id="cb95-1382"><a href="#cb95-1382" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1383"><a href="#cb95-1383" aria-hidden="true" tabindex="-1"></a>    <span class="co">#det     &lt;- c_case                                           # constant and/or trends</span></span>
<span id="cb95-1384"><a href="#cb95-1384" aria-hidden="true" tabindex="-1"></a>    F1      <span class="ot">&lt;-</span> <span class="fu">t</span>(QQ<span class="sc">$</span>Ft)                                         <span class="co"># make comparable to notes</span></span>
<span id="cb95-1385"><a href="#cb95-1385" aria-hidden="true" tabindex="-1"></a>    eps     <span class="ot">&lt;-</span> <span class="fu">ginv</span>(invA) <span class="sc">%*%</span> <span class="fu">t</span>(<span class="fu">residuals</span>(Estimation))          <span class="co"># structural errors </span></span>
<span id="cb95-1386"><a href="#cb95-1386" aria-hidden="true" tabindex="-1"></a>    nvar    <span class="ot">&lt;-</span> Estimation<span class="sc">$</span>K                                     <span class="co"># number of endogenous variables</span></span>
<span id="cb95-1387"><a href="#cb95-1387" aria-hidden="true" tabindex="-1"></a>    nvarXeq <span class="ot">&lt;-</span> nvar <span class="sc">*</span> nlag                                      <span class="co"># number of lagged endogenous per equation</span></span>
<span id="cb95-1388"><a href="#cb95-1388" aria-hidden="true" tabindex="-1"></a>    nvar_ex <span class="ot">&lt;-</span> <span class="dv">0</span>                                                <span class="co"># number of exogenous (excluding constant and trend)</span></span>
<span id="cb95-1389"><a href="#cb95-1389" aria-hidden="true" tabindex="-1"></a>    Y       <span class="ot">&lt;-</span> QQ<span class="sc">$</span>Y                                             <span class="co"># left-hand side</span></span>
<span id="cb95-1390"><a href="#cb95-1390" aria-hidden="true" tabindex="-1"></a>    <span class="co">#X       &lt;- QQ$X[,(1+det):(nvarXeq+det)]                    # right-hand side (no exogenous)</span></span>
<span id="cb95-1391"><a href="#cb95-1391" aria-hidden="true" tabindex="-1"></a>    nobs    <span class="ot">&lt;-</span> <span class="fu">nrow</span>(Y)                                          <span class="co"># number of observations</span></span>
<span id="cb95-1392"><a href="#cb95-1392" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1393"><a href="#cb95-1393" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1394"><a href="#cb95-1394" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Compute historical decompositions</span></span>
<span id="cb95-1395"><a href="#cb95-1395" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1396"><a href="#cb95-1396" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Contribution of each shock</span></span>
<span id="cb95-1397"><a href="#cb95-1397" aria-hidden="true" tabindex="-1"></a>    invA_big <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>,nvarXeq,nvar)</span>
<span id="cb95-1398"><a href="#cb95-1398" aria-hidden="true" tabindex="-1"></a>    invA_big[<span class="dv">1</span><span class="sc">:</span>nvar,] <span class="ot">&lt;-</span> invA</span>
<span id="cb95-1399"><a href="#cb95-1399" aria-hidden="true" tabindex="-1"></a>    Icomp <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">diag</span>(nvar), <span class="fu">matrix</span>(<span class="dv">0</span>,nvar,(nlag<span class="dv">-1</span>)<span class="sc">*</span>nvar))</span>
<span id="cb95-1400"><a href="#cb95-1400" aria-hidden="true" tabindex="-1"></a>    HDshock_big <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">0</span>, <span class="at">dim=</span><span class="fu">c</span>(nlag<span class="sc">*</span>nvar,nobs<span class="sc">+</span><span class="dv">1</span>,nvar))</span>
<span id="cb95-1401"><a href="#cb95-1401" aria-hidden="true" tabindex="-1"></a>    HDshock <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">0</span>, <span class="at">dim=</span><span class="fu">c</span>(nvar,(nobs<span class="sc">+</span><span class="dv">1</span>),nvar))</span>
<span id="cb95-1402"><a href="#cb95-1402" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1403"><a href="#cb95-1403" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nvar){  <span class="co"># for each variable</span></span>
<span id="cb95-1404"><a href="#cb95-1404" aria-hidden="true" tabindex="-1"></a>        eps_big <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>,nvar,(nobs<span class="sc">+</span><span class="dv">1</span>)) <span class="co"># matrix of shocks conformable with companion</span></span>
<span id="cb95-1405"><a href="#cb95-1405" aria-hidden="true" tabindex="-1"></a>        eps_big[j,<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(eps_big)] <span class="ot">&lt;-</span> eps[j,]</span>
<span id="cb95-1406"><a href="#cb95-1406" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(nobs<span class="sc">+</span><span class="dv">1</span>)){</span>
<span id="cb95-1407"><a href="#cb95-1407" aria-hidden="true" tabindex="-1"></a>            HDshock_big[,i,j] <span class="ot">&lt;-</span> invA_big <span class="sc">%*%</span> eps_big[,i] <span class="sc">+</span> Fcomp <span class="sc">%*%</span> HDshock_big[,(i<span class="dv">-1</span>),j]</span>
<span id="cb95-1408"><a href="#cb95-1408" aria-hidden="true" tabindex="-1"></a>            HDshock[,i,j] <span class="ot">&lt;-</span>  Icomp <span class="sc">%*%</span> HDshock_big[,i,j]</span>
<span id="cb95-1409"><a href="#cb95-1409" aria-hidden="true" tabindex="-1"></a>        } </span>
<span id="cb95-1410"><a href="#cb95-1410" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb95-1411"><a href="#cb95-1411" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb95-1412"><a href="#cb95-1412" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1413"><a href="#cb95-1413" aria-hidden="true" tabindex="-1"></a>    HD.shock <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">0</span>, <span class="at">dim=</span><span class="fu">c</span>((nobs<span class="sc">+</span>nlag),nvar,nvar))   <span class="co"># [nobs x shock x var]</span></span>
<span id="cb95-1414"><a href="#cb95-1414" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1415"><a href="#cb95-1415" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nvar){</span>
<span id="cb95-1416"><a href="#cb95-1416" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb95-1417"><a href="#cb95-1417" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nvar){</span>
<span id="cb95-1418"><a href="#cb95-1418" aria-hidden="true" tabindex="-1"></a>            HD.shock[,j,i] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">NA</span>,nlag), HDshock[i,(<span class="dv">2</span><span class="sc">:</span><span class="fu">dim</span>(HDshock)[<span class="dv">2</span>]),j])</span>
<span id="cb95-1419"><a href="#cb95-1419" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb95-1420"><a href="#cb95-1420" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb95-1421"><a href="#cb95-1421" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1422"><a href="#cb95-1422" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(HD.shock)</span>
<span id="cb95-1423"><a href="#cb95-1423" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb95-1424"><a href="#cb95-1424" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb95-1425"><a href="#cb95-1425" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1426"><a href="#cb95-1426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1427"><a href="#cb95-1427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1428"><a href="#cb95-1428" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE, fig.align="center", fig.height=5, fig.width=8}</span></span>
<span id="cb95-1429"><a href="#cb95-1429" aria-hidden="true" tabindex="-1"></a>dh_var <span class="ot">&lt;-</span> <span class="fu">VARhd</span>(var2)</span>
<span id="cb95-1430"><a href="#cb95-1430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1431"><a href="#cb95-1431" aria-hidden="true" tabindex="-1"></a>dh_ipca_svar_dd <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb95-1432"><a href="#cb95-1432" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hd_ipca"</span> <span class="ot">=</span> dh_var[,,<span class="dv">1</span>][,<span class="dv">1</span>],</span>
<span id="cb95-1433"><a href="#cb95-1433" aria-hidden="true" tabindex="-1"></a>    <span class="st">"hd_br_ptr"</span> <span class="ot">=</span> dh_var[,,<span class="dv">1</span>][,<span class="dv">2</span>],</span>
<span id="cb95-1434"><a href="#cb95-1434" aria-hidden="true" tabindex="-1"></a>    <span class="st">"m"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">275</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1435"><a href="#cb95-1435" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(hd_ipca))</span>
<span id="cb95-1436"><a href="#cb95-1436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1437"><a href="#cb95-1437" aria-hidden="true" tabindex="-1"></a>dh_svar_plt <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(dh_ipca_svar_dd <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">36</span>)</span>
<span id="cb95-1438"><a href="#cb95-1438" aria-hidden="true" tabindex="-1"></a>                              , <span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb95-1439"><a href="#cb95-1439" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>hd_ipca,   <span class="at">name=</span><span class="st">"IPCA"</span>,</span>
<span id="cb95-1440"><a href="#cb95-1440" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#009779'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1441"><a href="#cb95-1441" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_trace</span>(<span class="at">x =</span> <span class="sc">~</span>m, <span class="at">y =</span> <span class="sc">~</span>hd_br_ptr, <span class="at">name=</span><span class="st">"Petro"</span>,</span>
<span id="cb95-1442"><a href="#cb95-1442" aria-hidden="true" tabindex="-1"></a>                 <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'#ca0028'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb95-1443"><a href="#cb95-1443" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Decomposição da Histórica de 3 Anos do SVAR no IPCA"</span>,</span>
<span id="cb95-1444"><a href="#cb95-1444" aria-hidden="true" tabindex="-1"></a>             <span class="at">barmode =</span> <span class="st">'stack'</span>,</span>
<span id="cb95-1445"><a href="#cb95-1445" aria-hidden="true" tabindex="-1"></a>             <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Meses"</span>),</span>
<span id="cb95-1446"><a href="#cb95-1446" aria-hidden="true" tabindex="-1"></a>             <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Dif(Log( IPCA ))"</span>))</span>
<span id="cb95-1447"><a href="#cb95-1447" aria-hidden="true" tabindex="-1"></a>dh_svar_plt</span>
<span id="cb95-1448"><a href="#cb95-1448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1449"><a href="#cb95-1449" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb95-1450"><a href="#cb95-1450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1451"><a href="#cb95-1451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1452"><a href="#cb95-1452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1453"><a href="#cb95-1453" aria-hidden="true" tabindex="-1"></a><span class="fu"># Outras Referências</span></span>
<span id="cb95-1454"><a href="#cb95-1454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-1455"><a href="#cb95-1455" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Lange, A., Dalheimer, B., Herwartz, H., &amp; Maxand, S. (2021). **svars: An R Package for Data-Driven Identification in Multivariate Time Series Analysis**. Journal of Statistical Software, 97(5), 1–34. https://doi.org/10.18637/jss.v097.i05.</span>
<span id="cb95-1456"><a href="#cb95-1456" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Pfaff, B. (2008). **VAR, SVAR and SVEC Models: Implementation Within R Package vars**. Journal of Statistical Software, 27(4), 1–32. https://doi.org/10.18637/jss.v027.i04.</span>
<span id="cb95-1457"><a href="#cb95-1457" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Enders, W. (2014) **Applied Econometric Time Series**. 4th Edition. John Wiley, New York.</span>
<span id="cb95-1458"><a href="#cb95-1458" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Kilian, Lutz and Lutkepohl,Helmut, (2017), **Structural Vector Autoregressive Analysis**, Cambridge University Press.</span>
<span id="cb95-1459"><a href="#cb95-1459" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Terasvirta, Timo.**Specification, Estimation, and Evaluation of Smooth Transition Autoregressive Models.** Journal of the American Statistical Association 89, no. 425 (1994): 208–18. https://doi.org/10.2307/2291217.</span>
<span id="cb95-1460"><a href="#cb95-1460" aria-hidden="true" tabindex="-1"></a><span class="ss"> - </span>Daniel Ryback. **Historical Decomposition In R.**</span>
<span id="cb95-1461"><a href="#cb95-1461" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>